├── .gitattributes
├── .github
    ├── FUNDING.yml
    ├── ISSUE_TEMPLATE
    │   ├── bug.md
    │   ├── config.yml
    │   └── feature.md
    ├── PULL_REQUEST_TEMPLATE
    ├── support.svg
    └── workflows
    │   └── build.yaml
├── .gitignore
├── .gitmodules
├── .npmignore
├── CHANGELOG.md
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── LICENSE
├── Makefile
├── README.md
├── __tests__
    ├── __fixtures__
    │   ├── Ken_Thompson__and_Dennis_Ritchie_at_PDP-11.jpg
    │   ├── bs-pacis.ans
    │   ├── denis.ans
    │   ├── dialog.ans
    │   ├── ervy-plot.ans
    │   ├── neofetch.ans
    │   └── nf-marble.ans
    ├── __snapshots__
    │   └── terminal.spec.js.snap
    └── terminal.spec.js
├── assets
    └── ascii_art.svg
├── bin
    └── convert.js
├── bower.json
├── css
    ├── emoji.css
    ├── jquery.terminal-2.43.0.css
    ├── jquery.terminal-2.43.0.min.css
    ├── jquery.terminal-src.css
    ├── jquery.terminal.css
    ├── jquery.terminal.min.css
    └── jquery.terminal.min.css.map
├── examples
    ├── README.md
    ├── dialog.css
    ├── dialog.html
    ├── dialog.js
    ├── json-rpc-service-demo.php
    ├── multiple-interpreters-demo.html
    ├── mysql-rpc-demo.php
    ├── rpc-demo.html
    └── tilda-demo.html
├── files
├── import.html
├── jest.config.js
├── js
    ├── animation.js
    ├── ascii_table.js
    ├── autocomplete_menu.js
    ├── dterm.js
    ├── echo_newline.js
    ├── emoji.js
    ├── figlet.js
    ├── forms.js
    ├── jquery-1.7.1.min.js
    ├── jquery.mousewheel-min.js
    ├── jquery.terminal-2.43.0.js
    ├── jquery.terminal-2.43.0.min.js
    ├── jquery.terminal-src.js
    ├── jquery.terminal.d.ts
    ├── jquery.terminal.js
    ├── jquery.terminal.min.js
    ├── jquery.terminal.min.js.map
    ├── less.js
    ├── pipe.js
    ├── prism.js
    ├── terminal.widget.in
    ├── terminal.widget.js
    ├── unix_formatting.js
    └── xml_formatting.js
├── manifest
├── package-lock.json
├── package.json
├── scripts
    ├── contributors.js
    ├── contributors.mjs
    ├── cssnano.js
    ├── methods.js
    ├── mkemoji
    ├── options
    ├── update-contributors-package.js
    ├── update-contributors-readme
    └── version
├── templates
    ├── Makefile.in
    ├── README.in
    ├── ascii_art.svg
    ├── bower.in
    ├── import.in
    ├── npmrc.tmpl
    └── package.git
├── terminal.jquery.json
├── test.ts
└── tsconfig.json


/.gitattributes:
--------------------------------------------------------------------------------
 1 | * text eol=lf
 2 | .* text eol=lf
 3 | js/jquery.terminal-[0-9.]* binary
 4 | js/jquery.terminal.min.js binary
 5 | js/jquery.terminal.js binary
 6 | css/jquery.terminal-[0-9.]* binary
 7 | css/jquery.terminal.min.css binary
 8 | css/jquery.terminal.css binary
 9 | __tests__/package-lock.json binary
10 | package-lock.json binary
11 | css/*map binary
12 | js/*map binary
13 | __tests__/__snapshots__/*.snap binary
14 | __tests__/__fixtures__/*.ans binary
15 | *.png binary
16 | 


--------------------------------------------------------------------------------
/.github/FUNDING.yml:
--------------------------------------------------------------------------------
 1 | # These are supported funding model platforms
 2 | 
 3 | github: jcubic
 4 | patreon: # Replace with a single Patreon username
 5 | open_collective: #jquery-terminal
 6 | ko_fi: jcubic
 7 | tidelift: # Replace with a single Tidelift platform-name/package-name e.g., npm/babel
 8 | community_bridge: # Replace with a single Community Bridge project-name e.g., cloud-foundry
 9 | custom: https://www.paypal.me/jcubic
10 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/bug.md:
--------------------------------------------------------------------------------
 1 | ---
 2 | name: Bug Report
 3 | about: Found bug in the library
 4 | labels: ["Bug"]
 5 | ---
 6 | ### Issue summary
 7 | 
 8 | ### Expected behavior
 9 | 
10 | ### Steps to reproduce
11 | 
12 | ### Browser and OS
13 | 
14 | ### Additional notes
15 | 
16 | <!--
17 | You can create demo on CodePen by using this template https://codepen.io/pen?template=MbVMwO
18 | 
19 | Please don't close the issue, I'm marking it as resolved and closing when merge to master
20 | 
21 | -->
22 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/config.yml:
--------------------------------------------------------------------------------
1 | blank_issues_enabled: true
2 | contact_links:
3 |   - name: Question
4 |     url: https://github.com/jcubic/jquery.terminal/discussions/new/choose
5 |     about: We use Discussions for these reports


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/feature.md:
--------------------------------------------------------------------------------
 1 | ---
 2 | name: Feature
 3 | about: Feature request or proposal
 4 | labels: ["feature"]
 5 | ---
 6 | 
 7 | ### I have an idea for a new feature for jQuery Terminal
 8 | 
 9 | <!-- add your idea here -->
10 | 


--------------------------------------------------------------------------------
/.github/PULL_REQUEST_TEMPLATE:
--------------------------------------------------------------------------------
1 | <!--
2 | 
3 | Thank you for the PR, if you want your PR to be merged make sure you modify -src files and create PR against devel branch
4 | 
5 | -->
6 | 


--------------------------------------------------------------------------------
/.github/support.svg:
--------------------------------------------------------------------------------
 1 | <?xml version="1.0" encoding="UTF-8" standalone="no"?>
 2 | <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg8" version="1.1" viewBox="0 0 52.916493 38.395805" height="38.395805mm" width="52.916492mm">
 3 |   <defs id="defs2">
 4 |     <clipPath id="clip0">
 5 |       <rect y="0" x="0" width="104" height="48" fill="#ffffff" id="rect863" />
 6 |     </clipPath>
 7 |   </defs>
 8 |   <metadata id="metadata5">
 9 |     <rdf:RDF>
10 |       <cc:Work rdf:about="">
11 |         <dc:format>image/svg+xml</dc:format>
12 |         <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
13 |         <dc:title></dc:title>
14 |       </cc:Work>
15 |     </rdf:RDF>
16 |   </metadata>
17 |   <g transform="translate(-25.681721,-32.05098)" id="layer1">
18 |     <rect ry="0.98588061" rx="0.98588061" y="32.05098" x="25.681721" height="38.395805" width="52.916492" id="rect833" style="opacity:1;fill:#2f2f2f;fill-opacity:1;stroke-width:0.5165;stroke-linecap:round" />
19 |     <g transform="matrix(0.32062318,0,0,0.32062318,31.189928,49.33767)" id="g886" style="fill:none">
20 |       <g clip-path="url(#clip0)" id="g861">
21 |         <path d="m 71.4061,9.88963 c 0.0012,-0.48657 0.1481,-0.96192 0.4223,-1.36624 0.2741,-0.40432 0.6633,-0.71954 1.1185,-0.906 0.4551,-0.18645 0.956,-0.23582 1.4395,-0.14187 0.4835,0.09394 0.9281,0.32699 1.2778,0.66982 0.3497,0.34283 0.5889,0.78013 0.6875,1.25687 0.0985,0.47674 0.0521,0.97159 -0.1335,1.42239 -0.1856,0.4507 -0.502,0.8372 -0.9096,1.1108 -0.4075,0.2735 -0.8879,0.422 -1.3806,0.4266 -0.3304,0.0024 -0.6579,-0.0599 -0.9638,-0.1831 -0.3058,-0.1232 -0.584,-0.3049 -0.8184,-0.5347 -0.2344,-0.2299 -0.4205,-0.5032 -0.5474,-0.8043 -0.127,-0.3011 -0.1923,-0.6241 -0.1923,-0.95027 z m 0,8.83007 c 0.0012,-0.4866 0.1481,-0.962 0.4223,-1.3663 0.2741,-0.4043 0.6633,-0.7195 1.1185,-0.906 0.4551,-0.1864 0.956,-0.2358 1.4395,-0.1419 0.4835,0.094 0.9281,0.327 1.2778,0.6699 0.3497,0.3428 0.5889,0.7801 0.6875,1.2568 0.0985,0.4768 0.0521,0.9717 -0.1335,1.4224 -0.1856,0.4508 -0.502,0.8372 -0.9096,1.1108 -0.4075,0.2736 -0.8879,0.422 -1.3806,0.4267 -0.3319,0.0023 -0.6609,-0.0605 -0.9679,-0.1848 -0.3071,-0.1243 -0.586,-0.3076 -0.8207,-0.5393 -0.2346,-0.2317 -0.4203,-0.5071 -0.5462,-0.8103 -0.1259,-0.3032 -0.1895,-0.628 -0.1871,-0.9557 z" fill="#007eff" id="path843" />
22 |         <path d="m 49.3708,22.8756 -2.8677,-4.8859 -2.8915,4.8859 h -4.4834 l 5.1213,-8.6887 -4.9007,-8.25312 h 4.4595 l 2.6948,4.47972 2.6471,-4.47972 h 4.4595 l -4.8768,8.24132 5.1213,8.6888 z" fill="#ffffff" id="path845" />
23 |         <path d="m 53.9555,19.0257 3.3804,-1.9543 c 0.2573,0.7222 0.7452,1.3424 1.3904,1.7671 0.6452,0.4247 1.4126,0.6309 2.1868,0.5875 1.8661,0 2.3311,-0.724 2.3311,-1.3775 0,-1.0419 -0.9837,-1.454 -3.5771,-2.1545 -2.5935,-0.7005 -5.0498,-1.9132 -5.0498,-5.1508 0,-3.23769 2.7961,-5.15675 5.7592,-5.15675 1.3198,-0.05346 2.6258,0.28252 3.7514,0.96507 1.1256,0.68255 2.0197,1.68072 2.5683,2.86715 l -3.3089,1.91313 c -0.5962,-1.2067 -1.3951,-1.96022 -2.981,-1.96022 -1.2281,0 -1.8362,0.58867 -1.8362,1.28332 0,0.777 0.4173,1.3068 3.0882,2.1074 2.671,0.8006 5.5148,1.6659 5.5148,5.2509 0,3.2671 -2.6471,5.2038 -6.3733,5.2038 -3.5652,0 -5.8904,-1.6953 -6.8443,-4.1913 z" fill="#ffffff" id="path847" />
24 |         <path d="m 38.6393,34.7961 c -0.0346,-1.1688 0.173,-2.3323 0.6102,-3.4191 0.4371,-1.0868 1.0946,-2.0739 1.932,-2.9007 0.8375,-0.8269 1.8372,-1.4761 2.9378,-1.9077 1.1007,-0.4317 2.2791,-0.6367 3.4629,-0.6025 1.4607,-0.0149 2.901,0.3397 4.1837,1.0301 1.2826,0.6904 2.3648,1.6936 3.1435,2.914 l -3.3804,1.9367 c -0.4142,-0.6648 -1.0005,-1.2084 -1.6985,-1.5747 -0.698,-0.3664 -1.4824,-0.5421 -2.2722,-0.5092 -3.0406,0 -5.002,2.0074 -5.002,5.0331 0,3.0258 1.9614,5.0332 5.002,5.0332 0.7898,0.0373 1.5752,-0.136 2.2738,-0.5016 0.6987,-0.3656 1.2848,-0.9101 1.6969,-1.5764 l 3.3804,1.9367 c -0.7794,1.2234 -1.8658,2.2272 -3.1537,2.9141 -1.288,0.6869 -2.7338,1.0336 -4.1974,1.0064 -1.18,0.03 -2.3539,-0.1775 -3.4501,-0.6099 -1.0962,-0.4323 -2.0919,-1.0804 -2.9263,-1.9048 -0.8344,-0.8245 -1.4901,-1.808 -1.9273,-2.8907 -0.4371,-1.0826 -0.6465,-2.2418 -0.6153,-3.407 z" fill="#ffffff" id="path849" />
25 |         <path d="m 55.7679,34.7962 c 0,-1.7464 0.5245,-3.4536 1.5072,-4.9057 0.9826,-1.4521 2.3793,-2.5839 4.0134,-3.2522 1.6341,-0.6683 3.4322,-0.8432 5.167,-0.5025 1.7347,0.3407 3.3282,1.1817 4.5789,2.4166 1.2507,1.2349 2.1024,2.8083 2.4475,4.5211 0.345,1.7129 0.1679,3.4883 -0.5089,5.1018 -0.6769,1.6134 -1.8231,2.9925 -3.2938,3.9628 -1.4706,0.9702 -3.1996,1.4881 -4.9684,1.4881 -1.1782,0.0134 -2.3471,-0.2058 -3.4383,-0.6448 -1.0911,-0.439 -2.0824,-1.0889 -2.9155,-1.9116 -0.8332,-0.8226 -1.4914,-1.8014 -1.936,-2.8787 -0.4446,-1.0774 -0.6667,-2.2316 -0.6531,-3.3949 z m 13.9211,0 C 69.7122,34.1336 69.6001,33.4733 69.3593,32.8544 69.1185,32.2356 68.754,31.6709 68.2875,31.1941 67.821,30.7174 67.262,30.3382 66.644,30.0792 c -0.6181,-0.259 -1.2826,-0.3924 -1.9541,-0.3924 -0.6714,0 -1.3359,0.1334 -1.954,0.3924 -0.618,0.259 -1.177,0.6382 -1.6435,1.1149 -0.4665,0.4768 -0.831,1.0415 -1.0718,1.6603 -0.2408,0.6189 -0.3529,1.2792 -0.3297,1.9418 -0.0232,0.6625 0.0889,1.3229 0.3297,1.9417 0.2408,0.6189 0.6053,1.1835 1.0718,1.6603 0.4665,0.4768 1.0255,0.856 1.6435,1.1149 0.6181,0.259 1.2826,0.3925 1.954,0.3925 0.6715,0 1.336,-0.1335 1.9541,-0.3925 0.618,-0.2589 1.177,-0.6381 1.6435,-1.1149 0.4665,-0.4768 0.831,-1.0414 1.0718,-1.6603 0.2408,-0.6188 0.3529,-1.2792 0.3297,-1.9417 z" fill="#ffffff" id="path851" />
26 |         <path d="m 91.0088,34.7962 c 0,4.7917 -3.5771,8.4709 -8.3466,8.4709 H 75.8179 V 26.3253 h 6.8622 c 4.7278,0 8.3287,3.6968 8.3287,8.4709 z m -3.7738,0 c 0,-2.9021 -1.8602,-4.7094 -4.5549,-4.7094 h -2.9452 v 9.454 h 2.9452 c 2.6947,0 4.5549,-1.8366 4.5549,-4.7446 z" fill="#ffffff" id="path853" />
27 |         <path d="m 104,39.5408 v 3.7263 H 93.2149 V 26.3253 h 10.6601 v 3.7321 h -6.7372 v 2.8021 h 6.1292 v 3.6791 h -6.1292 v 3.0022 z" fill="#ffffff" id="path855" />
28 |         <path d="m 22.4169,40.2059 v -8.7888 c 0,-2.9433 -1.6932,-5.2627 -4.388,-4.9507 v -5.2333 c 2.6948,0.312 4.388,-2.0014 4.388,-4.9742 V 7.47597 c 0,-8.06476 4.7397,-7.476091255 9.4258,-7.476091255 V 4.38546 c -2.6948,-0.312 -4.388,0.12362 -4.388,3.09051 v 8.78293 c 0,3.4084 -1.0671,6.0044 -3.3208,7.5526 2.2537,1.6071 3.3208,4.2031 3.3208,7.6056 v 8.7888 c 0,2.9434 1.6932,3.4025 4.388,3.0905 v 4.7094 c -4.066,-0.0059 -9.4258,0.2649 -9.4258,-7.7999 z" fill="#ffffff" id="path857" />
29 |         <path d="m 0,47.9964 v -4.7093 c 2.69479,0.312 4.38798,-0.1237 4.38798,-3.0906 v -8.7829 c 0,-3.4025 1.06123,-5.9985 3.3208,-7.6056 -2.25957,-1.5482 -3.3208,-4.1207 -3.3208,-7.5526 V 7.47246 C 4.38798,4.52912 2.69479,4.06996 0,4.38195 v -4.38558077 c 4.68608,0 9.42582,-0.58866823 9.42582,7.47609077 v 8.78294 c 0,2.9728 1.68718,5.298 4.38198,4.9742 v 5.2569 c -2.6948,-0.312 -4.38198,1.9838 -4.38198,4.9507 v 8.7652 c 0,8.0648 -5.35978,7.794 -9.42582,7.794 z" fill="#ffffff" id="path859" />
30 |       </g>
31 |     </g>
32 |     <g style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:8.58097px;line-height:1.25;font-family:Franchise;-inkscape-font-specification:Franchise;letter-spacing:0.160893px;word-spacing:0px;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.160893" id="text890" aria-label="Get Support via">
33 |       <path id="path848" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 32.640112,34.958965 q 0.223105,0 0.420467,0.08581 0.197363,0.08581 0.343239,0.231686 0.145877,0.145877 0.231686,0.343239 0.08581,0.197362 0.08581,0.420468 v 0.274591 q 0,0.120133 -0.111552,0.154457 l -0.780869,0.283172 q -0.111552,0.03432 -0.111552,-0.08581 v -0.583506 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145877,-0.06007 h -0.06865 q -0.08581,0 -0.145877,0.06007 -0.06007,0.06007 -0.06007,0.145876 v 3.878599 q 0,0.08581 0.06007,0.145876 0.06007,0.06007 0.145877,0.06007 h 0.06865 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 v -1.527413 h -0.240268 v -0.97823 h 1.124108 q 0.120133,0 0.120133,0.120133 v 2.428415 q 0,0.223105 -0.08581,0.420467 -0.08581,0.197362 -0.231686,0.343239 -0.145876,0.145876 -0.343239,0.231686 -0.197362,0.08581 -0.420467,0.08581 h -0.326077 q -0.223105,0 -0.420467,-0.08581 -0.197363,-0.08581 -0.343239,-0.231686 -0.145877,-0.145877 -0.231686,-0.343239 -0.08581,-0.197362 -0.08581,-0.420467 v -3.964408 q 0,-0.223106 0.08581,-0.420468 0.08581,-0.197362 0.231686,-0.343239 0.145876,-0.145876 0.343239,-0.231686 0.197362,-0.08581 0.420467,-0.08581 h 0.326077 z" />
34 |       <path id="path850" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 36.550878,40.021738 q 0.120133,0 0.120133,0.120133 v 0.763706 q 0,0.120134 -0.120133,0.120134 h -1.862071 q -0.120133,0 -0.120133,-0.120134 v -4.908314 q 0,-0.120134 0.120133,-0.120134 h 1.862071 q 0.120133,0 0.120133,0.120134 v 0.763706 q 0,0.120134 -0.120133,0.120134 h -0.978231 v 0.97823 h 0.849516 q 0.120134,0 0.120134,0.120134 v 0.763706 q 0,0.120134 -0.120134,0.120134 h -0.849516 v 1.158431 h 0.978231 z" />
35 |       <path id="path852" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 39.72369,35.877129 q 0.120134,0 0.120134,0.120134 v 0.763706 q 0,0.120134 -0.120134,0.120134 h -0.609249 v 4.024474 q 0,0.120134 -0.120133,0.120134 h -0.763706 q -0.0429,0 -0.08581,-0.03432 -0.03432,-0.03432 -0.03432,-0.08581 V 36.881103 H 37.5098 q -0.120133,0 -0.120133,-0.120134 v -0.763706 q 0,-0.120134 0.120133,-0.120134 h 2.21389 z" />
36 |       <path id="path854" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 43.177518,34.958965 q 0.223105,0 0.420467,0.08581 0.197363,0.08581 0.343239,0.231686 0.145877,0.145877 0.231686,0.343239 0.08581,0.197362 0.08581,0.420468 v 0.326076 q 0,0.120134 -0.111553,0.154458 l -0.780868,0.205943 q -0.111552,0.03432 -0.111552,-0.08581 v -0.557763 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145877,-0.06007 h -0.06865 q -0.08581,0 -0.145877,0.06007 -0.06007,0.06007 -0.06007,0.145876 v 0.780869 q 0.0086,0.09439 0.03432,0.163038 0.02574,0.06865 0.09439,0.137296 l 1.124107,0.840935 q 0.137295,0.120133 0.171619,0.248848 0.0429,0.120133 0.06007,0.274591 v 1.475927 q 0,0.223105 -0.08581,0.420467 -0.08581,0.197362 -0.231686,0.343239 -0.145876,0.145876 -0.343239,0.231686 -0.197362,0.08581 -0.420467,0.08581 h -0.326077 q -0.223105,0 -0.420467,-0.08581 -0.197363,-0.08581 -0.343239,-0.231686 -0.145877,-0.145877 -0.231686,-0.343239 -0.08581,-0.197362 -0.08581,-0.420467 v -0.823773 q 0,-0.120134 0.111552,-0.154458 l 0.780869,-0.205943 q 0.111552,-0.03432 0.111552,0.08581 v 1.055459 q 0,0.08581 0.06007,0.145876 0.06007,0.06007 0.145877,0.06007 h 0.06865 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 v -1.132688 q -0.0086,-0.111553 -0.03432,-0.197363 -0.02574,-0.08581 -0.102972,-0.154457 l -1.106945,-0.849516 q -0.128715,-0.120134 -0.188781,-0.240267 -0.05149,-0.120134 -0.05149,-0.317496 v -1.029716 q 0,-0.223106 0.08581,-0.420468 0.08581,-0.197362 0.231686,-0.343239 0.145876,-0.145876 0.343239,-0.231686 0.197362,-0.08581 0.420467,-0.08581 h 0.326077 z" />
37 |       <path id="path856" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 47.34571,35.877129 q 0.120134,0 0.120134,0.120134 v 4.007313 q 0,0.223105 -0.08581,0.420467 -0.08581,0.197362 -0.231686,0.343239 -0.145877,0.145876 -0.343239,0.231686 -0.197362,0.08581 -0.420467,0.08581 h -0.326077 q -0.223105,0 -0.420468,-0.08581 -0.197362,-0.08581 -0.343239,-0.231686 -0.145876,-0.145877 -0.231686,-0.343239 -0.08581,-0.197362 -0.08581,-0.420467 v -4.007313 q 0,-0.120134 0.120133,-0.120134 h 0.763706 q 0.120134,0 0.120134,0.120134 v 3.964408 q 0,0.08581 0.06007,0.145876 0.06007,0.06007 0.145876,0.06007 h 0.06865 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 v -3.964408 q 0,-0.120134 0.120134,-0.120134 h 0.763706 z" />
38 |       <path id="path858" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 49.720482,35.877129 q 0.223105,0 0.420467,0.08581 0.197363,0.08581 0.343239,0.231686 0.145877,0.145877 0.231686,0.343239 0.08581,0.197362 0.08581,0.420467 V 38.0996 q 0,0.223106 -0.08581,0.420468 -0.08581,0.197362 -0.231686,0.343239 -0.145876,0.145876 -0.343239,0.231686 -0.197362,0.08581 -0.420467,0.08581 h -0.403306 v 1.724774 q 0,0.120134 -0.120133,0.120134 h -0.763707 q -0.120133,0 -0.120133,-0.120134 v -4.908314 q 0,-0.120134 0.120133,-0.120134 z m 0.07723,1.124107 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145877,-0.06007 h -0.274591 v 1.467346 h 0.274591 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 z" />
39 |       <path id="path860" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 52.927616,35.877129 q 0.223105,0 0.420468,0.08581 0.197362,0.08581 0.343238,0.231686 0.145877,0.145877 0.231687,0.343239 0.08581,0.197362 0.08581,0.420467 V 38.0996 q 0,0.223106 -0.08581,0.420468 -0.08581,0.197362 -0.231687,0.343239 -0.145876,0.145876 -0.343238,0.231686 -0.197363,0.08581 -0.420468,0.08581 h -0.403305 v 1.724774 q 0,0.120134 -0.120134,0.120134 h -0.763706 q -0.120134,0 -0.120134,-0.120134 v -4.908314 q 0,-0.120134 0.120134,-0.120134 z m 0.07723,1.124107 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145876,-0.06007 h -0.274591 v 1.467346 h 0.274591 q 0.08581,0 0.145876,-0.06007 0.06007,-0.06007 0.06007,-0.145876 z" />
40 |       <path id="path862" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 57.130141,40.004576 q 0,0.223105 -0.08581,0.420467 -0.08581,0.197362 -0.231686,0.343239 -0.145876,0.145876 -0.343239,0.231686 -0.197362,0.08581 -0.420467,0.08581 h -0.326077 q -0.223105,0 -0.420468,-0.08581 -0.197362,-0.08581 -0.343238,-0.231686 -0.145877,-0.145877 -0.231687,-0.343239 -0.08581,-0.197362 -0.08581,-0.420467 v -3.106311 q 0,-0.223106 0.08581,-0.420468 0.08581,-0.197362 0.231687,-0.343239 0.145876,-0.145876 0.343238,-0.231686 0.197363,-0.08581 0.420468,-0.08581 h 0.326077 q 0.223105,0 0.420467,0.08581 0.197363,0.08581 0.343239,0.231686 0.145877,0.145877 0.231686,0.343239 0.08581,0.197362 0.08581,0.420468 z m -1.003974,-3.063407 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145877,-0.06007 h -0.06865 q -0.08581,0 -0.145876,0.06007 -0.06007,0.06007 -0.06007,0.145876 v 3.020502 q 0,0.08581 0.06007,0.145876 0.06007,0.06007 0.145876,0.06007 h 0.06865 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 z" />
41 |       <path id="path864" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 58.981475,40.905577 q 0,0.120134 -0.128714,0.120134 h -0.763707 q -0.111552,0 -0.111552,-0.120134 v -4.908314 q 0,-0.120134 0.120133,-0.120134 h 1.287146 q 0.223105,0 0.420467,0.08581 0.197363,0.08581 0.343239,0.231686 0.145877,0.145877 0.231686,0.343239 0.08581,0.197362 0.08581,0.420467 v 1.05546 q 0,0.317496 -0.188781,0.574925 -0.188782,0.248848 -0.454792,0.386143 l 0.815192,1.930718 q 0.02574,0.120134 -0.08581,0.120134 h -0.780868 q -0.05149,0 -0.102972,-0.03432 -0.0429,-0.03432 -0.06007,-0.08581 l -0.626411,-1.587479 z m 0,-2.728748 h 0.274591 q 0.08581,0 0.145877,-0.06007 0.06007,-0.06007 0.06007,-0.145876 v -0.96965 q 0,-0.08581 -0.06007,-0.145876 -0.06007,-0.06007 -0.145877,-0.06007 h -0.274591 z" />
42 |       <path id="path866" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 63.398512,35.877129 q 0.120134,0 0.120134,0.120134 v 0.763706 q 0,0.120134 -0.120134,0.120134 h -0.609249 v 4.024474 q 0,0.120134 -0.120133,0.120134 h -0.763707 q -0.0429,0 -0.08581,-0.03432 -0.03432,-0.03432 -0.03432,-0.08581 v -4.024474 h -0.600668 q -0.120134,0 -0.120134,-0.120134 v -0.763706 q 0,-0.120134 0.120134,-0.120134 h 2.21389 z" />
43 |       <path id="path868" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 68.233878,35.877129 q 0.120133,0 0.102971,0.120134 l -1.012554,4.908314 q -0.01716,0.120134 -0.137296,0.120134 h -0.755125 q -0.120133,0 -0.137295,-0.120134 l -1.012555,-4.908314 q -0.01716,-0.120134 0.102972,-0.120134 h 0.926745 q 0.111552,0 0.128714,0.120134 l 0.35182,3.209282 h 0.03432 l 0.35182,-3.209282 q 0.01716,-0.120134 0.128714,-0.120134 h 0.926745 z" />
44 |       <path id="path870" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 69.982234,40.905577 q 0,0.120134 -0.120133,0.120134 h -0.763706 q -0.120134,0 -0.120134,-0.120134 v -4.908314 q 0,-0.120134 0.120134,-0.120134 h 0.763706 q 0.120133,0 0.120133,0.120134 z" />
45 |       <path id="path872" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Franchise;-inkscape-font-specification:Franchise;fill:#ffffff;stroke-width:0.160893" d="m 73.403887,40.905577 q 0.01716,0.120134 -0.102971,0.120134 h -0.780868 q -0.111553,0 -0.128715,-0.120134 l -0.06865,-0.840935 h -0.53202 l -0.06865,0.840935 q -0.01716,0.120134 -0.128714,0.120134 h -0.780868 q -0.120134,0 -0.102972,-0.120134 l 0.643573,-4.908314 q 0.01716,-0.120134 0.137295,-0.120134 h 1.132688 q 0.120134,0 0.137296,0.120134 z m -1.14985,-1.802003 -0.163038,-1.896395 h -0.06865 l -0.163038,1.896395 z" />
46 |     </g>
47 |     <path id="path896" d="M 31.189928,43.652224 H 72.852326" style="fill:none;stroke:#ffffff;stroke-width:0.322152;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
48 |   </g>
49 | </svg>
50 | 


--------------------------------------------------------------------------------
/.github/workflows/build.yaml:
--------------------------------------------------------------------------------
 1 | name: Build and test
 2 | on: [pull_request, push]
 3 | jobs:
 4 |   build:
 5 |     runs-on: ubuntu-latest
 6 |     steps:
 7 |       - name: Update
 8 |         run: sudo apt-get update
 9 |       - name: Install ImageMagick
10 |         run: sudo apt-get -y install graphicsmagick
11 |       - name: checkout
12 |         uses: actions/checkout@v4
13 |       - name: setup node
14 |         uses: actions/setup-node@v4
15 |         with:
16 |           node-version: '20'
17 |       - run: npm install
18 |       - run: make
19 |       - run: make lint
20 |       - run: make skipped_tests
21 |       - run: make test
22 |       - name: Coveralls
23 |         uses: coverallsapp/github-action@v2
24 |         with:
25 |           github-token: ${{ secrets.GITHUB_TOKEN }}
26 | 


--------------------------------------------------------------------------------
/.gitignore:
--------------------------------------------------------------------------------
 1 | *~
 2 | .[0-9/]*
 3 | components
 4 | \#*\#
 5 | .\#*
 6 | www
 7 | test
 8 | bower_components
 9 | node_modules
10 | coverage
11 | reports
12 | .github.token
13 | .npmrc
14 | tmp
15 | npm
16 | contributors.json
17 | contributors-www.json


--------------------------------------------------------------------------------
/.gitmodules:
--------------------------------------------------------------------------------
1 | [submodule "examples/json-rpc"]
2 | 	path = examples/json-rpc
3 | 	url = https://github.com/jcubic/json-rpc.git
4 | 


--------------------------------------------------------------------------------
/.npmignore:
--------------------------------------------------------------------------------
 1 | .*
 2 | *~
 3 | \#*
 4 | .\#*
 5 | tmp
 6 | scripts
 7 | tsconfig.json
 8 | www
 9 | bower.*
10 | package.in
11 | test.ts
12 | Makefile*
13 | manifest
14 | README.in
15 | terminal.jquery.json
16 | SpecRunner.html
17 | __tests__
18 | reports
19 | node_modules
20 | bower_components
21 | coverage
22 | examples
23 | assets
24 | css/jquery.terminal-*.css
25 | js/jquery.terminal-*.js
26 | js/jquery-1.7.1.min.js
27 | js/terminal.widget.in
28 | version
29 | CONTRIBUTING.md
30 | methods
31 | options
32 | files
33 | templates
34 | mkemoji
35 | 


--------------------------------------------------------------------------------
/CODE_OF_CONDUCT.md:
--------------------------------------------------------------------------------
 1 | ## NON-BULSHIT CODE OF CONDUCT
 2 | 
 3 | By beeing part of this comminty you agree to follow this short list of rules
 4 | 
 5 | 1. Be excellent to each other.
 6 | 2. Think before you comment.
 7 | 3. Be empathetic to others feeling.
 8 | 4. No discriminations of any kind.
 9 | 5. No hate speach.
10 | 
11 | ## Violation
12 | 
13 | If you violate any of the above rules in any way, you may be banned to contribute into the project.
14 | 


--------------------------------------------------------------------------------
/CONTRIBUTING.md:
--------------------------------------------------------------------------------
 1 | ## Contributing
 2 | 
 3 | All contributions are welcome, even non-tech ones. To contribute you need to fork, then clone the repo:
 4 | 
 5 | ```
 6 | git clone git@github.com:your-name/jquery.terminal.git
 7 | ```
 8 | 
 9 | Please only modify `js/jquery.terminal-src.js`/`css/jquery.terminal-src.css` files (and extensions). You can run `make` but you may have conflicts. Other contributors push commits with their builds (you may have conflicts because there is a build date and time in the build file). Make sure you're on the devel branch, and create a PR to the devel branch as well. You could make fixes to examples and the README directly to the master, but you could also add them to the devel branch as well.
10 | 
11 | Non-technical contributions are also welcome. If you find a bug in the documentation on the website, you can file an issue to [jcubic/jquery.terminal-www](https://github.com/jcubic/jquery.terminal-www).
12 | 
13 | ## List of contributors with avatars
14 | 
15 | To update the list, the script needs to be run when changes are merged to master, and since all merges are done on
16 | devel. I need to run the script when I release a new version. To help me remember if this is your first contribution,
17 | please update the line `UPDATE_CONTRIBUTORS=1` in template/Makefile.in to reflect your contribution. It should be 1, which
18 | is true (0 is false). On each build, it will show a red reminder message, and it will stop the build when run on master.
19 | 
20 | ## Building the project
21 | 
22 | The process of building the project is very simple all you need is this:
23 | 
24 | ```bash
25 | clone https://github.com/jcubic/jquery.terminal.git
26 | cd jquery.terminal
27 | npm install
28 | make
29 | ```
30 | 
31 | While developing you can use -src versions, they are working fine. Make will just create
32 | Release files that have proper version number, create minified files and build emoji
33 | css.
34 | 
35 | ## Test
36 | 
37 | You should run test to make sure you don't break anything, to run tests from browser you need to run
38 | 
39 | ```bash
40 | npm install
41 | make test
42 | ```
43 | 
44 | and run ESlint and JSONLint using:
45 | 
46 | ```bash
47 | make lint
48 | ```
49 | 
50 | ## README
51 | 
52 | if you want to modify readme please modify the one in `./templates` directory, because
53 | that one is source file with {{VER}} markers that get filled with current version when
54 | running `make`.
55 | 
56 | ## Release Cycle
57 | 
58 | * New version is developed on devel branch
59 | * When bug is fixed (or feature implemented) it's not closed only `resolved` label is added
60 | * Each fix and feature need to be added to CHANGELOG.md file
61 | * After a random number of features and bugfixes are done, the code needs to be merged with master
62 | 
63 | ```bash
64 | git checkout master
65 | git merge devel --no-ff -m 'merge with devel'
66 | ```
67 | 
68 | * then the next version needs to be created, and the last version from the CHANGELOG needs to be used
69 | to call a version script that renames files that have a version at the end.
70 | 
71 | ```bash
72 | ./scripts/version 2.21.0
73 | make
74 | git commit -am 'version 2.21.0'
75 | git push
76 | git tag 2.21.0
77 | git push --tags
78 | ```
79 | 
80 | **NOTE:** If something is wrong (e.g., Travis CI failed), the tag can be removed and a fix can be added in a new commit and the tag readded again.
81 | 
82 | * New version on GitHub is released. You need to wait a bit to have confirmationfrom CI that the build was successful. In the meantime, you can add Release Notes  on GitHub. Just click releases -> draft new release, then pick the version and copy and paste what's in the CHANGELOG.md file.
83 | 
84 | * When new release is done, issues that have `resovled` label are closed.
85 | 
86 | * After you get confirmation that CI (travis) run successfully you can close issues
87 |   labeled with `resolved` and release to npm. By calling:
88 | 
89 | ```bash
90 | make publish
91 | ```
92 | 
93 | * Script will clone the repo (just in case you have lot of files in repo that you
94 |   don't want to publish to npm) into ./npm directory and run `npm publish`,
95 |   after that it will delete the directory.
96 | 
97 | * New version is ready.
98 | 
99 | 


--------------------------------------------------------------------------------
/LICENSE:
--------------------------------------------------------------------------------
 1 | The MIT License (MIT)
 2 | 
 3 | Copyright (c) 2010-2025 Jakub T. Jankiewicz
 4 | 
 5 | Permission is hereby granted, free of charge, to any person obtaining a copy
 6 | of this software and associated documentation files (the "Software"), to deal
 7 | in the Software without restriction, including without limitation the rights
 8 | to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 9 | copies of the Software, and to permit persons to whom the Software is
10 | furnished to do so, subject to the following conditions:
11 | 
12 | The above copyright notice and this permission notice shall be included in all
13 | copies or substantial portions of the Software.
14 | 
15 | THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
16 | IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
17 | FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
18 | AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
19 | LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
20 | OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
21 | SOFTWARE.
22 | 


--------------------------------------------------------------------------------
/Makefile:
--------------------------------------------------------------------------------
  1 | VERSION=2.45.2
  2 | SED=sed
  3 | CD=cd
  4 | NPM=npm
  5 | CP=cp
  6 | ECHO=echo
  7 | RM=rm
  8 | CAT=cat
  9 | DATE=`date -uR`
 10 | GIT=LC_ALL=C git
 11 | BRANCH=`git branch | grep '^*' | sed 's/* //'`
 12 | BRANCH_SAFE=`git branch | grep '^*' | sed 's/* //' | sed 's/\//\\\\\//g'`
 13 | UGLIFY=../node_modules/.bin/uglifyjs
 14 | JSONLINT=./node_modules/.bin/jsonlint
 15 | JEST=./node_modules/.bin/jest
 16 | CSSNANO=./scripts/cssnano.js
 17 | ESLINT=./node_modules/.bin/eslint
 18 | TSC=./node_modules/.bin/tsc
 19 | SPEC_CHECKSUM=`md5sum __tests__/terminal.spec.js | cut -d' ' -f 1`
 20 | COMMIT=`git log -n 1 | grep '^commit' | sed 's/commit //'`
 21 | TOKEN=cat .github.token | tr -d '\n'
 22 | URL=`git config --get remote.origin.url`
 23 | skip_re="[xfi]it\\(|[fdx]describe\\("
 24 | UPDATE_CONTRIBUTORS=0
 25 | 
 26 | .PHONY: coverage test coveralls lint.src eslint skipped_tests jsonlint publish lint tscheck publish-guthub emoji
 27 | 
 28 | ALL: Makefile .$(VERSION) terminal.jquery.json bower.json package.json assets/ascii_art.svg js/jquery.terminal.js js/jquery.terminal.min.js js/jquery.terminal.min.js.map  css/jquery.terminal.min.css css/jquery.terminal.min.css.map css/jquery.terminal.css README.md import.html js/terminal.widget.js css/emoji.css update-contributors
 29 | 
 30 | bower.json: templates/bower.in .$(VERSION)
 31 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/bower.in > bower.json
 32 | 
 33 | package.json: .$(VERSION)
 34 | 	$(SED) -i 's/"version": "[^"]\+"/"version": "$(VERSION)"/' package.json
 35 | 
 36 | js/jquery.terminal.js: js/jquery.terminal-src.js .$(VERSION)
 37 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e "s/{{DATE}}/$(DATE)/g" js/jquery.terminal-src.js > js/jquery.terminal.js || $(SED) -e "s/{{VER}}/$(VERSION)/g" -e "s/{{DATE}}/$(DATE)/g" js/jquery.terminal-src.js > js/jquery.terminal.js
 38 | 
 39 | js/jquery.terminal.min.js js/jquery.terminal.min.js.map: js/jquery.terminal.js
 40 | 	$(CD) js && $(UGLIFY) -o jquery.terminal.min.js --comments --mangle --source-map "includeSources,url='jquery.terminal.min.js.map'" -- jquery.terminal.js && $(ECHO) >> jquery.terminal.min.js
 41 | 
 42 | css/jquery.terminal.css: css/jquery.terminal-src.css .$(VERSION)
 43 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e "s/{{DATE}}/$(DATE)/g" css/jquery.terminal-src.css > css/jquery.terminal.css || $(SED) -e "s/{{VER}}/$(VERSION)/g" -e "s/{{DATE}}/$(DATE)/g" css/jquery.terminal-src.css > css/jquery.terminal.css
 44 | 
 45 | css/jquery.terminal.min.css css/jquery.terminal.min.css.map: css/jquery.terminal.css
 46 | 	$(CSSNANO) css/jquery.terminal.css css/jquery.terminal.min.css
 47 | 
 48 | README.md: templates/README.in .$(VERSION) __tests__/terminal.spec.js
 49 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e \
 50 | 	"s/{{BRANCH}}/$(BRANCH_SAFE)/g" -e "s/{{CHECKSUM}}/$(SPEC_CHECKSUM)/" \
 51 | 	-e "s/{{COMMIT}}/$(COMMIT)/g" < templates/README.in > README.md || $(SED) -e \
 52 | 	"s/{{VER}}/$(VERSION)/g" -e "s/{{BRANCH}}/$(BRANCH_SAFE)/g" -e \
 53 | 	"s/{{CHECKSUM}}/$(SPEC_CHECKSUM)/" -e "s/{{COMMIT}}/$(COMMIT)/g" < templates/README.in > README.md
 54 | 
 55 | .$(VERSION): Makefile
 56 | 	touch .$(VERSION)
 57 | 
 58 | Makefile: templates/Makefile.in
 59 | 	$(SED) -e "s/{{VER""SION}}/"$(VERSION)"/" templates/Makefile.in > Makefile
 60 | 
 61 | import.html: templates/import.in
 62 | 	$(SED) -e "s/{{BRANCH}}/$(BRANCH_SAFE)/g" templates/import.in > import.html
 63 | 
 64 | js/terminal.widget.js: js/terminal.widget.in .$(VERSION)
 65 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" js/terminal.widget.in > js/terminal.widget.js
 66 | 
 67 | terminal.jquery.json: manifest .$(VERSION)
 68 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" manifest > terminal.jquery.json
 69 | 
 70 | css/emoji.css: ./scripts/mkemoji .$(VERSION)
 71 | 	./scripts/mkemoji $(VERSION) > css/emoji.css
 72 | 
 73 | emoji:
 74 | 	./scripts/mkemoji $(VERSION) > css/emoji.css
 75 | 
 76 | test:
 77 | 	$(JEST) --coverage
 78 | 
 79 | test-watch:
 80 | 	$(JEST) --coverage --watch
 81 | 
 82 | assets/ascii_art.svg: templates/ascii_art.svg .$(VERSION)
 83 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/ascii_art.svg > assets/ascii_art.svg
 84 | 
 85 | test-accept-snapshots:
 86 | 	$(JEST) --coverage --updateSnapshot
 87 | 
 88 | coveralls:
 89 | 	$(CAT) ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
 90 | 
 91 | lint.src:
 92 | 	$(ESLINT) js/jquery.terminal-src.js
 93 | 
 94 | eslint:
 95 | 	$(ESLINT) js/jquery.terminal-src.js
 96 | 	$(ESLINT) js/dterm.js
 97 | 	$(ESLINT) js/xml_formatting.js
 98 | 	$(ESLINT) js/unix_formatting.js
 99 | 	$(ESLINT) js/prism.js
100 | 	$(ESLINT) js/less.js
101 | 	$(ESLINT) js/emoji.js
102 | 	$(ESLINT) js/pipe.js
103 | 	$(ESLINT) js/autocomplete_menu.js
104 | 	$(ESLINT) js/echo_newline.js
105 | 
106 | skipped_tests:
107 | 	@! grep -E $(skip_re) __tests__/terminal.spec.js
108 | 
109 | tscheck:
110 | 	$(TSC) --noEmit --project tsconfig.json
111 | 
112 | jsonlint: package.json bower.json
113 | 	$(JSONLINT) -cq package.json
114 | 	$(JSONLINT) -cq bower.json
115 | 
116 | publish:
117 | 	test -e npm && ( $(CD) npm && $(GIT) pull ) || true
118 | 	test -e npm || $(GIT) clone $(URL) --depth 1 npm
119 | 	$(CD) npm && $(NPM) publish && $(CD) .. && $(RM) -rf npm
120 | 
121 | publish-guthub: .github.token
122 | 	$(SED) "s/{{TOKEN}}/`$(TOKEN)`/" templates/npmrc.tmpl > .npmrc
123 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/package.git > package.json
124 | 
125 | contributors.json:
126 | 	./scripts/contributors.mjs -u jcubic -r jquery.terminal > contributors.json
127 | 
128 | contributors-www.json:
129 | 	./scripts/contributors.mjs -u jcubic -r jquery.terminal-www > contributors-www.json
130 | 
131 | contributors: contributors-www.json contributors.json
132 | 	./scripts/update-contributors-readme jquery.terminal contributors.json "CONTRIBUTORS" templates/README.in
133 | 	./scripts/update-contributors-readme jquery.terminal-www contributors-www.json "CONTRIBUTORS-WWW" templates/README.in
134 | 	./scripts/update-contributors-readme jquery.terminal-www contributors-www.json "CONTRIBUTORS" www/README.md
135 | 	./scripts/update-contributors-package.js -j contributors.json -f package.json
136 | 	./scripts/update-contributors-package.js -j contributors.json -f templates/package.git
137 | 
138 | lint: eslint jsonlint
139 | 
140 | checkout:
141 | 	@$(GIT) status | sed "1,/not staged/d" | grep modified | sed "s/.*modified:\s*\(.*\)/\1/" | tr '\n' ' ' | sed -e "s/.*/git checkout &; touch &/" | bash
142 | 
143 | 
144 | update-contributors:
145 | 	@if [ $(UPDATE_CONTRIBUTORS) = 1 ]; then\
146 | 		echo -e "\x1b[31mUpdate Contributors\x1b[m";\
147 | 		if [ $(BRANCH) = 'master' ]; then \
148 | 			false;\
149 | 		fi;\
150 | 	fi
151 | 


--------------------------------------------------------------------------------
/__tests__/__fixtures__/Ken_Thompson__and_Dennis_Ritchie_at_PDP-11.jpg:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/jcubic/jquery.terminal/3156d2e4d7a87149e8374ea6aa354ee8867d7e1e/__tests__/__fixtures__/Ken_Thompson__and_Dennis_Ritchie_at_PDP-11.jpg


--------------------------------------------------------------------------------
/__tests__/__fixtures__/bs-pacis.ans:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/jcubic/jquery.terminal/3156d2e4d7a87149e8374ea6aa354ee8867d7e1e/__tests__/__fixtures__/bs-pacis.ans


--------------------------------------------------------------------------------
/__tests__/__fixtures__/denis.ans:
--------------------------------------------------------------------------------
 1 | 
 2 |                      [38;5;255m,_ ,_==▄▂[0m
 3 |                   [38;5;255m,  ▂▃▄▄▅▅[48;5;240m▅[48;5;20m▂[48;5;240m▅¾[0m.            [38;5;199m/    [38;5;20m/[0m
 4 |                    [38;5;255m[48;5;20m▄[0m[38;5;255m[48;5;199m▆[38;5;16m[48;5;255m<´  [38;5;32m"[38;5;34m»[38;5;255m▓▓[48;5;32m▓[48;5;240m%[0m\       [38;5;199m/ [38;5;20m/   [38;5;45m/ [38;5;118m/[0m
 5 |                  [38;5;255m,[38;5;255m[48;5;240m▅[38;5;16m[48;5;255m7"     [38;5;160m´[38;5;34m>[38;5;255m[48;5;39m▓▓[38;5;199m[48;5;255m▓[0m[38;5;255m%   [38;5;20m/  [38;5;118m/ [38;5;199m> [38;5;118m/ [38;5;199m>[38;5;255m/[38;5;45m%[0m
 6 |                  [38;5;255m▐[48;5;240m[38;5;255m¶[48;5;240m[38;5;255m▓[48;5;255m       [38;5;196m,[38;5;34m»[48;5;201m[38;5;255m▓▓[0m[38;5;255m¾´[0m  [38;5;199m/[38;5;255m> %[38;5;199m/[38;5;118m%[38;5;255m/[38;5;199m/ [38;5;45m/  [38;5;199m/[0m
 7 |                   [38;5;255m[48;5;240m▓[48;5;255m[38;5;16m▃[48;5;16m[38;5;255m▅▅[38;5;16m[48;5;255m▅▃,,[38;5;32m▄[38;5;16m▅[38;5;255m[48;5;16m▅▅[38;5;255m[48;5;20mÆ[0m[38;5;255m\[0m[38;5;20m/[38;5;118m/[38;5;255m /[38;5;118m/[38;5;199m/[38;5;255m>[38;5;45m// [38;5;255m/[38;5;118m>[38;5;199m/   [38;5;20m/[0m
 8 |                  [48;5;20m[38;5;255mV[48;5;255m[38;5;16m║[48;5;20m[38;5;255m«[0m[38;5;255m¼.;[48;5;240m[38;5;255m→[48;5;255m[38;5;16m ║[0m[38;5;255m<«.,[48;5;25m[38;5;255m`[48;5;240m=[0m[38;5;20m/[38;5;199m/ [38;5;255m/>[38;5;45m/[38;5;118m/[38;5;255m%/[38;5;199m% / [38;5;20m/[0m
 9 |                [38;5;20m//[48;5;255m[38;5;16m╠<´ -²,)[48;5;16m[38;5;255m(▓[48;5;255m[38;5;16m~"-[38;5;199m╝/[0m[38;5;255m¾[0m[38;5;199m/ [38;5;118m%[38;5;255m/[38;5;118m>[38;5;45m/ [38;5;118m/[38;5;199m>[0m
10 |            [38;5;20m/ / [38;5;118m/ [48;5;20m[38;5;255m▐[48;5;240m[38;5;16m%[48;5;255m -./▄▃▄[48;5;16m[38;5;255m▅[48;5;255m[38;5;16m▐[48;5;255m[38;5;16m, [38;5;199m/[48;5;199m[38;5;255m7[0m[38;5;20m/[38;5;199m/[38;5;255m;/[38;5;199m/[38;5;118m% [38;5;20m/ /[0m
11 |            [38;5;20m/ [38;5;199m/[38;5;255m/[38;5;45m/[38;5;118m/[38;5;255m[48;5;240m`[48;5;20m[38;5;255m▌[48;5;20m[38;5;255m▐[48;5;255m[38;5;16m %z[0m[38;5;255mWv xX[48;5;20m[38;5;255m▓[48;5;34m[38;5;255m▇[48;5;199m[38;255m▌[0m[38;5;20m/[38;5;199m/[38;5;255m&;[38;5;20m% [38;5;199m/ [38;5;20m/[0m
12 |        [38;5;20m/ / [38;5;255m/ [38;5;118m%[38;5;199m/[38;5;255m/%/[48;5;240m[38;5;255m¾[48;5;255m[38;5;16m½´[38;5;255m[48;5;16m▌[0m[38;5;246m▃▄[38;5;255m▄▄[38;5;246m▄▃▃[0m[48;5;16m[38;5;255m▐[38;5;255m[48;5;199m¶[48;5;20m[38;5;255m\[0m[38;5;20m/[0m[48;5;255m[38;5;240m&[0m [38;5;20m/[0m
13 |          [38;5;199m<[38;5;118m/ [38;5;45m/[38;5;255m</[38;5;118m%[38;5;255m/[38;5;45m/[38;5;255m`[48;5;16m▓[48;5;255m[38;5;16m![48;5;240m[38;5;255m%[48;5;16m[38;5;255m▓[0m[38;5;255m%[48;5;240m[38;5;255m╣[48;5;240m[38;5;255m;╣[0m[38;5;255mW[0m[38;5;250mY<Y)[48;5;255m[38;5;16my&[0m[38;5;255m/`[48;5;240m\[0m
14 |      [38;5;20m/ [38;5;199m/ [38;5;199m%[38;5;255m/%[38;5;118m/[38;5;45m/[38;5;255m<[38;5;118m/[38;5;199m%[38;5;45m/[38;5;20m/[48;5;240m[38;5;255m\[38;5;16m[48;5;255mi7; ╠N[0m[38;5;246m>[38;5;255m)VY>[48;5;240m[38;5;255m7[0m[38;5;255m;  [38;5;255m[48;5;240m\[0m[38;5;255m_[0m    [38;5;255mUNIX IS VERY SIMPLE [38;5;45mIT JUST NEEDS A[0m
15 |   [38;5;20m/   [38;5;255m/[38;5;118m<[38;5;255m/ [38;5;45m/[38;5;255m/<[38;5;199m/[38;5;20m/[38;5;199m/[38;5;20m<[38;5;255m_/%\[38;5;255m[48;5;16m▓[48;5;255m[38;5;16m  V[0m[38;5;255m%[48;5;255m[38;5;16mW[0m[38;5;255m%£)XY[0m  [38;5;240m_/%[38;5;255m‾\_,[0m   [38;5;45mGENIUS TO UNDERSTAND ITS SIMPLICITY[38;5;255m[0m
16 |    [38;5;199m/ [38;5;255m/ [38;5;199m/[38;5;255m/[38;5;118m%[38;5;199m/[48;5;240m[38;5;255m_,=-[48;5;20m-^[0m[38;5;255m/%/%%[48;5;255m[38;5;16m\¾%[0m[38;5;255m¶[0m[48;5;255m[38;5;16m%[0m[38;5;255m%}[0m    [38;5;240m/%%%[38;5;20m%%[38;5;240m%;\,[0m
17 |     [38;5;45m%[38;5;20m/[38;5;199m< [38;5;20m/[48;5;20m[38;5;255m_/[48;5;240m [0m[38;5;255m%%%[38;5;240m%%[38;5;20m;[38;5;255mX[38;5;240m%[38;5;20m%[38;5;255m\%[38;5;240m%;,     _/%%%;[38;5;20m,[38;5;240m     \[0m
18 |    [38;5;118m/ [38;5;20m/ [38;5;240m%[38;5;20m%%%%[38;5;240m%;,    [38;5;255m\[38;5;240m%[38;5;20m%[38;5;255ml[38;5;240m%%;// _/[38;5;20m%;,[0m [38;5;234mdmr[0m
19 |  [38;5;20m/    [38;5;240m%[38;5;20m%%;,[0m         [38;5;255m<[38;5;20m;[38;5;240m\-=-/ /[0m
20 |      [38;5;20m;,[0m                [38;5;240ml[0m


--------------------------------------------------------------------------------
/__tests__/__fixtures__/dialog.ans:
--------------------------------------------------------------------------------
1 | Skrypt uruchomiony 2022-10-27 17:29:53+02:00 [COMMAND="dialog --title "HELLO" --yesno "Are you sure?" 6 30" TERM="xterm-256color" TTY="/dev/pts/1" COLUMNS="115" LINES="42"]
2 | [?1049h[22;0;0t[1;42r(B[m[4l[?7h[H[2J[?1049l[23;0;0t[H[2J[?1h=[?1006;1000h[39;49m[?1h=[25d(B[0;1m[36m[44m[J[H[K[2d[K[3d[K[4d[K[5d[K[6d[K[7d[K[8d[K[9d[K[10d[K[11d[K[12d[K[13d[K[14d[K[15d[K[16d[K[17d[K[18;41H[1K (0[0;1m[37m[47mlqqqqqqqqqq(B[0;1m[34m[47mHELLO(0[0;1m[37m[47mqqqqqqqqqqqqq(0[0m[30m[47mk(B[0;1m[36m[44m[K[19;41H[1K (0[0;1m[37m[47mx(B[0m[30m[47m[28X[19;71H(0[0m[30m[47mx(B[0;1m[30m[40m  [36m[44m[K[20;41H[1K (0[0;1m[37m[47mx(B[0m[30m[47m[28X[20;71H(0[0m[30m[47mx(B[0;1m[30m[40m  [36m[44m[K[21;41H[1K (0[0;1m[37m[47mtqqqqqqqqqqqqqqqqqqqqqqqqqqqq(0[0m[30m[47mu(B[0;1m[30m[40m  [36m[44m[K[22;41H[1K (0[0;1m[37m[47mx(B[0m[30m[47m     (B[0;1m[37m[44m<[33m[44m [37m[44mT[33m[44mak [37m[44m>(B[0m[30m[47m   <(B[0;1m[30m[47m (B[0m[31m[47mN(B[0;1m[30m[47mie (B[0m[30m[47m>      (0[0m[30m[47mx(B[0;1m[30m[40m  [36m[44m[K[23;41H[1K (0[0;1m[37m[47mm(0[0m[30m[47mqqqqqqqqqqqqqqqqqqqqqqqqqqqqj(B[0;1m[30m[40m  [36m[44m[K[24;43H[1K [30m[40m[30X[24;74H[36m[44m[K[22;50H[39;49m(B[m[19;44H[30m[47mAre you sure?[22;50H[39;49m(B[m[Z[30m[47m<(B[0;1m[30m[47m (B[0m[31m[47mT(B[0;1m[30m[47mak (B[0m[30m[47m>   (B[0;1m[37m[44m<[33m[44m [37m[44mN[33m[44mie [37m[44m>[60G[39;49m(B[m[24;73H[?1006;1000l[42;1H[?1049l[23;0;0t[?1l>
3 | Skrypt wykonany 2022-10-27 17:29:55+02:00 [KOD_WYJŚCIA="1"]
4 | 


--------------------------------------------------------------------------------
/__tests__/__fixtures__/ervy-plot.ans:
--------------------------------------------------------------------------------
  1 |   Y Axis                  A: [31m*[0m | B: [34m# [0m | C: [46m  [0m
  2 | 
  3 | [0C[0A                                  
  4 | [0C                                  
  5 | [0C                                  
  6 | [0C                                  
  7 | [0C                                  
  8 | [0C                                  
  9 | [0C                                  
 10 | [0C                                  
 11 | [0C                                  
 12 | [0C                                  
 13 | [0C                                  
 14 | [5C[1A[31m*[0m[1B[6D[7C[2A[31m*[0m[2B[8D[9C[3A[31m*[0m[3B[10D[11C[4A[31m*[0m[4B[12D[13C[5A[31m*[0m[5B[14D[15C[6A[31m*[0m[6B[16D[17C[6A[31m*[0m[6B[18D[19C[6A[31m*[0m[6B[20D[21C[6A[31m*[0m[6B[22D[23C[6A[31m*[0m[6B[24D[25C[6A[31m*[0m[6B[26D[27C[6A[31m*[0m[6B[28D[29C[6A[31m*[0m[6B[30D[31C[6A[31m*[0m[6B[32D[33C[6A[31m*[0m[6B[34D[35C[6A[31m*[0m[6B[36D[7C[6A[34m# [0m[34m# [0m
 15 | [7C[34m# [0m[34m# [0m
 16 | [4B[9D[15C[9A[46m  [0m[9B[17D[30D[11A   A
 17 |  10|
 18 |    |
 19 |   8|
 20 |    |
 21 |   6|
 22 |    |
 23 |   4|
 24 |    |
 25 |   2|
 26 |    |
 27 |    |[1D+[1B[1D0[1A---+[1B[1D2[1A---+[1B[1D4[1A---+[1B[1D6[1A---+[1B[1D8[1A---+[1B[1D10[1A[1D---+[1B[1D12[1A[1D---+[1B[1D14[1A[1D---> X Axis
 28 | 
 29 | 
 30 |               11                           
 31 |              ***                           
 32 |              ***                7          
 33 |   5          ***          5    [44m [0m[44m [0m[44m [0m         
 34 |  ***    3    ***         [42m [0m[42m [0m[42m [0m   [44m [0m[44m [0m[44m [0m         
 35 |  ***   +++   ***    1    [42m [0m[42m [0m[42m [0m   [44m [0m[44m [0m[44m [0m         
 36 |  ***   +++   ***   [41m [0m[41m [0m[41m [0m   [42m [0m[42m [0m[42m [0m   [44m [0m[44m [0m[44m [0m    0    
 37 |   A     B     C     D     E     F     G    
 38 |                  
 39 |      + + + + +   
 40 |    * * + + + + + 
 41 |    * * * + + + # 
 42 |    O O O # # # # 
 43 |    O O O O # # # 
 44 |    O O O O # # # 
 45 |      O O O # #   
 46 |  
 47 |  *  A: 5 (14%)
 48 |  +  B: 10 (29%)
 49 |  #  C: 10 (29%)
 50 |  O  D: 10 (29%)
 51 |  
 52 |                  
 53 |      [46m  [0m[46m  [0m[46m  [0m[43m  [0m[43m  [0m  
 54 |    [46m  [0m[46m  [0m[46m  [0m[46m  [0m[43m  [0m[43m  [0m[43m  [0m
 55 |    [46m  [0m[46m  [0m[46m  [0m[46m  [0m[43m  [0m[43m  [0m[43m  [0m
 56 |    [47m  [0m[47m  [0m[47m  [0m[43m  [0m[43m  [0m[43m  [0m[43m  [0m
 57 |    [47m  [0m[47m  [0m[47m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m
 58 |    [47m  [0m[47m  [0m[47m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m
 59 |      [47m  [0m[47m  [0m[45m  [0m[45m  [0m[45m  [0m  
 60 |  
 61 |  [46m  [0m A: 5 (25%)
 62 |  [43m  [0m B: 5 (25%)
 63 |  [45m  [0m C: 5 (25%)
 64 |  [47m  [0m D: 5 (25%)
 65 |  
 66 |  Month ++++++++
 67 |        ++++++++
 68 |  
 69 |   Week [31m*[0m[31m*[0m[31m*[0m[31m*[0m[31m*[0m
 70 |        [31m*[0m[31m*[0m[31m*[0m[31m*[0m[31m*[0m
 71 |  
 72 |    Day [44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m[44m [0m
 73 |  
 74 |    Now [46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m[46m [0m
 75 |  
 76 |                  
 77 |      [36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m  
 78 |    [36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m[36m+ [0m
 79 |    [36m+ [0m[36m+ [0m      [36m+ [0m[36m+ [0m
 80 |    [31m* [0m[31m* [0m      [36m+ [0m[36m+ [0m
 81 |    [31m* [0m[31m* [0m      [31m* [0m[31m* [0m
 82 |    [31m* [0m[31m* [0m[31m* [0m[31m* [0m[31m* [0m[31m* [0m[31m* [0m
 83 |      [31m* [0m[31m* [0m[31m* [0m[31m* [0m[31m* [0m  
 84 |  
 85 |  [36m+ [0m A: 10 (50%)
 86 |  [31m* [0m B: 10 (50%)
 87 |  
 88 |                  
 89 |      [42m  [0m[42m  [0m[42m  [0m[42m  [0m[44m  [0m  
 90 |    [42m  [0m[42m  [0m[42m  [0m[42m  [0m[42m  [0m[44m  [0m[44m  [0m
 91 |    [42m  [0m[42m  [0m      [44m  [0m[44m  [0m
 92 |    [43m  [0m[43m  [0m      [44m  [0m[44m  [0m
 93 |    [43m  [0m[43m  [0m      [44m  [0m[44m  [0m
 94 |    [43m  [0m[43m  [0m[43m  [0m[43m  [0m[43m  [0m[44m  [0m[44m  [0m
 95 |      [43m  [0m[43m  [0m[43m  [0m[43m  [0m[44m  [0m  
 96 |  
 97 |  [42m  [0m A: 20 (33%)
 98 |  [44m  [0m B: 20 (33%)
 99 |  [43m  [0m C: 20 (33%)
100 |  
101 |                               
102 |           # # # # + + +       
103 |         # # # # # + + + +     
104 |       # # # # # # + + + + +   
105 |     # # # # # # # + + + + + + 
106 |     # # # #           + + + + 
107 |     # # # #     50    + + + + 
108 |        0        A        100
109 |                               
110 |           [45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m      
111 |         [42m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m    
112 |       [42m  [0m[42m  [0m[42m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m  
113 |     [42m  [0m[42m  [0m[42m  [0m[42m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m[45m  [0m
114 |     [42m  [0m[42m  [0m[42m  [0m[42m  [0m          [45m  [0m[45m  [0m[45m  [0m[45m  [0m
115 |     [42m  [0m[42m  [0m[42m  [0m[42m  [0m    30    [45m  [0m[45m  [0m[45m  [0m[45m  [0m
116 |        0        PR       100
117 | 


--------------------------------------------------------------------------------
/__tests__/__fixtures__/neofetch.ans:
--------------------------------------------------------------------------------
 1 | Skrypt uruchomiony 2022-10-27 22:14:53+02:00 [COMMAND="neofetch" TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="118" LINES="26"]
 2 | [?25l[?7l[38;5;12m[1m             .',;::::;,'.
 3 |          .';:cccccccccccc:;,.
 4 |       .;cccccccccccccccccccccc;.
 5 |     .:cccccccccccccccccccccccccc:.
 6 |   .;ccccccccccccc;[37m[0m[1m.:dddl:.[38;5;12m[1m;ccccccc;.
 7 |  .:ccccccccccccc;[37m[0m[1mOWMKOOXMWd[38;5;12m[1m;ccccccc:.
 8 | .:ccccccccccccc;[37m[0m[1mKMMc[38;5;12m[1m;cc;[37m[0m[1mxMMc[38;5;12m[1m:ccccccc:.
 9 | ,cccccccccccccc;[37m[0m[1mMMM.[38;5;12m[1m;cc;[37m[0m[1m;WW:[38;5;12m[1m:cccccccc,
10 | :cccccccccccccc;[37m[0m[1mMMM.[38;5;12m[1m;cccccccccccccccc:
11 | :ccccccc;[37m[0m[1moxOOOo[38;5;12m[1m;[37m[0m[1mMMM0OOk.[38;5;12m[1m;cccccccccccc:
12 | cccccc:[37m[0m[1m0MMKxdd:[38;5;12m[1m;[37m[0m[1mMMMkddc.[38;5;12m[1m;cccccccccccc;
13 | ccccc:[37m[0m[1mXM0'[38;5;12m[1m;cccc;[37m[0m[1mMMM.[38;5;12m[1m;cccccccccccccccc'
14 | ccccc;[37m[0m[1mMMo[38;5;12m[1m;ccccc;[37m[0m[1mMMW.[38;5;12m[1m;ccccccccccccccc;
15 | ccccc;[37m[0m[1m0MNc.[38;5;12m[1mccc[37m[0m[1m.xMMd[38;5;12m[1m:ccccccccccccccc;
16 | cccccc;[37m[0m[1mdNMWXXXWM0:[38;5;12m[1m:cccccccccccccc:,
17 | cccccccc;[37m[0m[1m.:odl:.[38;5;12m[1m;cccccccccccccc:,.
18 | :cccccccccccccccccccccccccccc:'.
19 | .:cccccccccccccccccccccc:;,..
20 |   '::cccccccccccccc::;,.[0m
21 | [19A[9999999D[41C[0m[1m[38;5;12m[1mkuba[0m@[38;5;12m[1mjcubic[0m 
22 | [41C[0m-----------[0m 
23 | [41C[38;5;12m[1mOS[0m[0m:[0m Fedora Linux 36 (Xfce) x86_64[0m 
24 | [41C[38;5;12m[1mHost[0m[0m:[0m Inspiron 5570[0m 
25 | [41C[38;5;12m[1mKernel[0m[0m:[0m 5.19.16-200.fc36.x86_64[0m 
26 | [41C[38;5;12m[1mUptime[0m[0m:[0m 3 days, 23 hours, 10 mins[0m 
27 | [41C[38;5;12m[1mPackages[0m[0m:[0m 2845 (rpm), 6 (flatpak)[0m 
28 | [41C[38;5;12m[1mShell[0m[0m:[0m bash 5.2.2[0m 
29 | [41C[38;5;12m[1mResolution[0m[0m:[0m 1920x1080[0m 
30 | [41C[38;5;12m[1mDE[0m[0m:[0m Xfce 4.16[0m 
31 | [41C[38;5;12m[1mWM[0m[0m:[0m Xfwm4[0m 
32 | [41C[38;5;12m[1mWM Theme[0m[0m:[0m Default[0m 
33 | [41C[38;5;12m[1mTheme[0m[0m:[0m Adwaita-dark [GTK2], Adwaita [GTK3][0m 
34 | [41C[38;5;12m[1mIcons[0m[0m:[0m Clarity [GTK2/3][0m 
35 | [41C[38;5;12m[1mTerminal[0m[0m:[0m xfce4-terminal[0m 
36 | [41C[38;5;12m[1mTerminal Font[0m[0m:[0m Monospace 10[0m 
37 | [41C[38;5;12m[1mCPU[0m[0m:[0m Intel i7-8550U (8) @ 4.000GHz[0m 
38 | [41C[38;5;12m[1mGPU[0m[0m:[0m Intel UHD Graphics 620[0m 
39 | [41C[38;5;12m[1mGPU[0m[0m:[0m AMD ATI Radeon R7 M260/M265 / M340/M360 / M440/M445 / 530/535 / 620/625 Mobile[0m 
40 | [41C[38;5;12m[1mMemory[0m[0m:[0m 7819MiB / 15654MiB[0m 
41 | 
42 | [41C[30m[40m   [31m[41m   [32m[42m   [33m[43m   [34m[44m   [35m[45m   [36m[46m   [37m[47m   [m
43 | 
44 | 
45 | [?25h[?7h
46 | Skrypt wykonany 2022-10-27 22:14:55+02:00 [KOD_WYJŚCIA="0"]
47 | 


--------------------------------------------------------------------------------
/__tests__/__fixtures__/nf-marble.ans:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/jcubic/jquery.terminal/3156d2e4d7a87149e8374ea6aa354ee8867d7e1e/__tests__/__fixtures__/nf-marble.ans


--------------------------------------------------------------------------------
/assets/ascii_art.svg:
--------------------------------------------------------------------------------
 1 | <?xml version="1.0" encoding="UTF-8" standalone="no"?>
 2 | <!-- Created with Inkscape (http://www.inkscape.org/) -->
 3 | <svg width="198.4375mm" height="84.666664mm" viewBox="0 0 198.4375 84.666662" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 4 |   <defs id="defs2">
 5 |     <rect x="32.557903" y="83.587921" width="1097.2651" height="227.4912" id="rect2498" />
 6 |     <rect x="32.557903" y="83.587921" width="1097.2651" height="227.4912" id="rect2498-3" />
 7 |   </defs>
 8 |   <g id="layer1" transform="translate(-3.29423,-19.593231)">
 9 |     <rect style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.127353;-inkscape-stroke:none;stop-color:#000000" id="rect9028" width="198.4375" height="84.666664" x="3.29423" y="19.593231" />
10 |     <g id="g22127" transform="translate(1.8303341,-0.31156967)">
11 |       <text xml:space="preserve" transform="matrix(0.15391996,0,0,0.15391996,14.113411,31.8984)" id="text2496" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:27.5035px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect2498);fill:#b3b3b3"><tspan x="32.558594" y="107.92204" id="tspan22157">      _______                 ________                        __
12 | </tspan><tspan x="32.558594" y="142.30142" id="tspan22159">     / / _  /_ ____________ _/__  ___/______________  _____  / /
13 | </tspan><tspan x="32.558594" y="176.6808" id="tspan22161"> __ / / // / // / _  / _/ // / / / _  / _/     / /  \/ / _ \/ /
14 | </tspan><tspan x="32.558594" y="211.06018" id="tspan22163">/  / / // / // / ___/ // // / / / ___/ // / / / / /\  / // / /__
15 | </tspan><tspan x="32.558594" y="245.43956" id="tspan22165">\___/____ \\__/____/_/ \__ / /_/____/_//_/_/_/_/_/  \/\__\_\___/
16 | </tspan><tspan x="32.558594" y="279.81894" id="tspan22167">         \/          /____/                      </tspan></text>
17 |       <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-feature-settings:normal;font-variation-settings:normal;text-indent:0;text-align:end;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:end;white-space:pre;opacity:1;vector-effect:none;fill:#b3b3b3;fill-opacity:1;stroke-width:0.15392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000;stop-opacity:1" x="182.60426" y="75.276077" id="text12526"><tspan id="tspan12524" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-feature-settings:normal;font-variation-settings:normal;text-indent:0;text-align:end;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:end;white-space:pre;vector-effect:none;fill:#b3b3b3;fill-opacity:1;stroke-width:0.15392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000;stop-opacity:1" x="182.60426" y="75.276077">version 2.45.2</tspan></text>
18 |     </g>
19 |   </g>
20 | </svg>
21 | 


--------------------------------------------------------------------------------
/bin/convert.js:
--------------------------------------------------------------------------------
  1 | #!/usr/bin/env node
  2 | /**@license
  3 |  *       __ _____                     ________                              __
  4 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  5 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  6 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  7 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  8 |  *           \/              /____/                              version {{VER}}
  9 |  *
 10 |  * This file is part of jQuery Terminal. https://terminal.jcubic.pl
 11 |  *
 12 |  * Copyright (c) 2010-2025 Jakub T. Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  */
 15 | 
 16 | const $ = global.$ = global.jQuery = {
 17 |     fn: {
 18 |         extend: function(obj) {
 19 |             Object.assign(global.jQuery.fn, obj);
 20 |         }
 21 |     },
 22 |     extend:  Object.assign
 23 | };
 24 | 
 25 | global.navigator = {
 26 |     userAgent: 'Node'
 27 | };
 28 | 
 29 | require('../js/jquery.terminal-src')(global, global.$);
 30 | require('../js/unix_formatting')(global, global.$);
 31 | 
 32 | const fs = require('fs').promises;
 33 | const path = require('path');
 34 | const ansi = require('ansidec');
 35 | const iconv = require('iconv-lite');
 36 | const lily = require('@jcubic/lily');
 37 | 
 38 | const options = lily(process.argv.slice(2), { boolean: ['a', 'ansi'] });
 39 | 
 40 | function read_stdin() {
 41 |     return new Promise((resolve) => {
 42 |         const buff = [];
 43 | 
 44 |         process.stdin.on('data', data => {
 45 |             buff.push(data);
 46 |         }).on('end', () => {
 47 |             var len = buff.map(x => x.length).reduce((acc, e) => acc + e);
 48 |             resolve(Buffer.concat(buff, len));
 49 |         });
 50 |     });
 51 | }
 52 | 
 53 | const input = options.i || options.input;
 54 | const output = options.o || options.output;
 55 | 
 56 | 
 57 | 
 58 | if (options.h || options.help) {
 59 |     usage();
 60 | } else if (input) {
 61 |     if (input === '-') {
 62 |         read_stdin().then(process_buffer);
 63 |     } else {
 64 |         fs.readFile(input).then(process_buffer);
 65 |     }
 66 | } else {
 67 |     usage();
 68 | }
 69 | 
 70 | function usage() {
 71 |     const bin = path.basename(process.argv[1]);
 72 |     const space = ' '.repeat(bin.length);
 73 |     console.log('jQuery Terminal utility to convert ANSI escapes');
 74 |     console.log('Copyright (c) 2010-2025 Jakub T. Jankiewicz');
 75 |     console.log(`
 76 | usage:
 77 |   ${bin} [--help] [-h] [--input] [-i] [- | <file>]
 78 |   ${space} [--output] [-o] <file> [-a] [--ansi]
 79 | 
 80 | --ansi -a if this flag is set it will read file or STDIN as ANSI Art (CP437 encoding)
 81 | --input -i <file> input ANSI file, if - is used it will read from STDIN
 82 | --output -o <file> output jQuery Terminal formatting file
 83 | --help display this help screen
 84 | 
 85 | If no output specified it will print to STDOUT`);
 86 | }
 87 | 
 88 | function process_buffer(buff) {
 89 |     var text = format(buff);
 90 |     if (output) {
 91 |         fs.writeFile(output, text);
 92 |     } else {
 93 |         console.log(text);
 94 |     }
 95 | }
 96 | 
 97 | function format(buff) {
 98 |     var text;
 99 |     if (options.ansi || options.a) {
100 |         var meta = ansi.meta(buff);
101 |         let cols = 80;
102 |         if (meta) {
103 |             buff = buff.slice(0, meta.fileSize);
104 |             cols = meta.tInfo[0];
105 |         }
106 |         text = iconv.decode(buff, 'CP437');
107 |         return format_lines(text, cols);
108 |     } else {
109 |         text = buff.toString();
110 |         return format_lines(text);
111 |     }
112 | }
113 | 
114 | function format_lines(str, len) {
115 |     str = $.terminal.apply_formatters(str, {
116 |         unixFormatting: {
117 |             ansiArt: true
118 |         }
119 |     });
120 |     if (len) {
121 |         var lines = $.terminal.split_equal(str, len);
122 |         // unix formatting don't handle \r\n at the end
123 |         if (lines[lines.length - 1] === '') {
124 |             lines.pop();
125 |         }
126 |         return lines.join('\n');
127 |     } else {
128 |         return str;
129 |     }
130 | }
131 | 


--------------------------------------------------------------------------------
/bower.json:
--------------------------------------------------------------------------------
 1 | {
 2 |     "name": "jquery.terminal",
 3 |     "version": "2.45.2",
 4 |     "main": [
 5 |         "js/jquery.terminal.min.js",
 6 |         "js/jquery.mousewheel-min.js",
 7 |         "css/jquery.terminal.min.css"
 8 |     ],
 9 |     "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
10 |     "license": "MIT",
11 |     "ignore": [
12 |         "examples",
13 |         "README.in",
14 |         "bower.in",
15 |         "Makefile",
16 |         "manifest",
17 |         ".gitignore",
18 |         ".npmignore",
19 |         "package.in",
20 |         "package.json",
21 |         "bin",
22 |         "version"
23 |     ],
24 |     "dependencies": {
25 |         "jquery": "~3"
26 |     },
27 |     "devDependencies": {
28 |         "keyboardevent-key-polyfill": "^1.0.2"
29 |     }
30 | }
31 | 


--------------------------------------------------------------------------------
/examples/README.md:
--------------------------------------------------------------------------------
1 | ## Examples
2 | 
3 | For more and up to date examples see [jQuery Terminal Examples](https://terminal.jcubic.pl/examples.php) on official website.
4 | 


--------------------------------------------------------------------------------
/examples/dialog.css:
--------------------------------------------------------------------------------
  1 | /**
  2 |  * jQuery Plugin for text based dialogs that look
  3 |  * like dialog linux command it use cmd plugin from
  4 |  * jQuery Terminal
  5 |  *
  6 |  * Copyright (c) 2017 Jakub Jankiewicz <http://jcubic.pl/me>
  7 |  *
  8 |  * Linceses under MIT license
  9 |  */
 10 | .dialog {
 11 |     background-color: #00a;
 12 |     position: relatieve;
 13 |     font-size: 12px;
 14 |     line-height: 14px;
 15 |     margin: 0;
 16 | }
 17 | .dialog, .dialog button {
 18 |     font-family: monospace;
 19 | }
 20 | .dialog > :not(.box) {
 21 |     display: none;
 22 | }
 23 | .dialog .box > .input .cmd {
 24 |     float: none;
 25 |     margin-bottom: -4px;
 26 |     --color: #000;
 27 |     --background: #aaa;
 28 |     padding: 0;
 29 | }
 30 | .dialog .cmd > span:not(.prompt) {
 31 |     float: none;
 32 | }
 33 | @supports (--css: variables) {
 34 |     .dialog, .dialog button {
 35 |         font-size: calc(var(--size, 1) * 12px);
 36 |         line-height: calc(var(--size, 1) * 14px);
 37 |     }
 38 | }
 39 | .dialog > .box {
 40 |     background-color: #aaa;
 41 |     float: left;
 42 |     position: absolute;
 43 |     top: 50%;
 44 |     left: 50%;
 45 |     transform: translate(-50%, -50%);
 46 |     -webkit-box-shadow: calc(var(--char-width) * 2px) calc(var(--char-width) * 2px) black;
 47 |     box-shadow: calc(var(--char-width) * 2px) calc(var(--char-width) * 2px) black;
 48 | }
 49 | .dialog .box .light {
 50 |     color: #fff;
 51 | }
 52 | .dialog .box .dark {
 53 |     color: #000;
 54 | }
 55 | .dialog .line {
 56 |     float: left;
 57 |     clear: both;
 58 |     white-space: nowrap;
 59 | }
 60 | .dialog .box > .input .left,
 61 | .dialog .box > .input .top,
 62 | .dialog .box > .input .bottom,
 63 | .dialog .box > .input .cmd,
 64 | .dialog .box > .input .right {
 65 |     display: inline-block;
 66 | }
 67 | .dialog .box > .buttons-line .left,
 68 | .dialog .box > .buttons-line .buttons,
 69 | .dialog .box > .buttons-line .right {
 70 |     float: left;
 71 | }
 72 | .dialog .box .title {
 73 |     position: absolute;
 74 |     top: 0;
 75 |     left: 0;
 76 |     right: 0;
 77 |     text-align: center;
 78 |     overflow: hidden;
 79 | }
 80 | .dialog .box .title span {
 81 |     background-color: #aaa;
 82 | }
 83 | .dialog .box .header span {
 84 |     display: inline-block;
 85 | }
 86 | .dialog .box .buttons {
 87 |     display: flex;
 88 |     justify-content: space-around;
 89 | }
 90 | .dialog .box button {
 91 |     margin: 0;
 92 |     padding: 0;
 93 |     border: none;
 94 |     color: #555;
 95 |     min-width: 87px;
 96 | }
 97 | .dialog .box button:active,
 98 | .dialog .box button {
 99 |     outline: none;
100 | }
101 | 
102 | .dialog .box button:before {
103 |     content: '<';
104 |     float: left;
105 | }
106 | .dialog .box button:after {
107 |     content: '>';
108 |     float: right;
109 | }
110 | .dialog .box button:before,
111 | .dialog .box button:after {
112 |     display: inline-block;
113 |     color: #000;
114 | }
115 | .dialog .box button,
116 | .dialog .box button:before,
117 | .dialog .box button:after {
118 |     background-color: transparent;
119 | }
120 | .dialog .box button:not(.active) .mark {
121 |     color: #a00;
122 | }
123 | .dialog .box button.active,
124 | .dialog .box button.active:before,
125 | .dialog .box button.active:after {
126 |     background-color: #00a;
127 | }
128 | .dialog .box button.active {
129 |     color: #ff5;
130 | }
131 | .dialog .box button.active:before,
132 | .dialog .box button.active:after {
133 |     color: #fff;
134 | }
135 | .dialog .box button.active.selected .mark {
136 |     color: #00a;
137 |     background: #fff;
138 | }
139 | 


--------------------------------------------------------------------------------
/examples/dialog.html:
--------------------------------------------------------------------------------
 1 | <!DOCTYPE HTML>
 2 | <html xmlns="http://www.w3.org/1999/xhtml">
 3 |   <head>
 4 |     <meta charset="utf-8" />
 5 |     <title>Text based input box using jQuery Terminal</title>
 6 |     <link href="../css/jquery.terminal-src.css" rel="stylesheet"/>
 7 |     <script src="https://unpkg.com/js-polyfills/keyboard.js"></script>
 8 |     <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 9 |     <script src="dialog.js"></script>
10 |     <link href="dialog.css" rel="stylesheet"/>
11 |     <script src="../js/jquery.terminal-src.js"></script>
12 |     <style>
13 |      .dialog {
14 |          --size: 1.5;
15 |      }
16 |     </style>
17 |     <script>
18 |      $(function() {
19 |          $('body').dialog(function(input) {
20 |              setTimeout(function() {
21 |                  alert(input);
22 |              }, 100);
23 |          }, {
24 |              cols: 40,
25 |              rows: 10,
26 |              message: 'Hey you',
27 |              title: 'Foo Bar'
28 |          });
29 |      });
30 |     </script>
31 |   </head>
32 |   <body></body>
33 | </html>
34 | 


--------------------------------------------------------------------------------
/examples/dialog.js:
--------------------------------------------------------------------------------
  1 | /**
  2 |  * jQuery Plugin for text based dialogs that look
  3 |  * like dialog linux command it use cmd plugin from
  4 |  * jQuery Terminal
  5 |  *
  6 |  * Copyright (c) 2017 Jakub Jankiewicz <http://jcubic.pl/me>
  7 |  *
  8 |  * Linceses under MIT license
  9 |  */
 10 | /* global jQuery setTimeout  */
 11 | (function($) {
 12 |     $.dialog = {
 13 |         defaults: {
 14 |             cols: 50,
 15 |             rows: 8,
 16 |             title: '',
 17 |             message: '',
 18 |             cancel: $.noop
 19 |         },
 20 |         strings: {
 21 |             ok: '_OK',
 22 |             cancel: '_Cancel'
 23 |         }
 24 |     };
 25 |     function get_char_size() {
 26 |         var temp = $('<div class="dialog temp"><div class="box"><span>'+
 27 |                      '&nbsp;</span></div></div>').appendTo('body');
 28 |         var rect = temp.find('span')[0].getBoundingClientRect();
 29 |         var result = {
 30 |             width: rect.width,
 31 |             height: rect.height
 32 |         };
 33 |         temp.remove();
 34 |         return result;
 35 |     }
 36 |     function chunks(str, length) {
 37 |         if (str.length <= length) {
 38 |             return [str];
 39 |         }
 40 |         var num_chunks = Math.ceil(str.length / length);
 41 |         var result = [];
 42 |         for(var i = 0, o = 0; i < num_chunks; ++i, o += length) {
 43 |             result.push(str.substr(o, length));
 44 |         }
 45 |         return result;
 46 |     }
 47 |     function str_repeat(str, n) {
 48 |         return new Array(n).join(str);
 49 |     }
 50 |     $.fn.dialog = function(fn, options) {
 51 |         fn = fn || $.noop;
 52 |         var chars = {
 53 |             hor: '─',
 54 |             ver: '│',
 55 |             nw: '┌',
 56 |             cw: '├',
 57 |             sw: '└',
 58 |             ne: '┐',
 59 |             ce: '┤',
 60 |             se: '┘'
 61 |         };
 62 |         var settings = $.extend({}, $.dialog.defaults, options || {});
 63 |         var cols = settings.cols > 20 ? settings.cols : 20;
 64 |         var rows = settings.rows > 8 ? settings.rows : 8;
 65 |         function line(container, left, right, options) {
 66 |             var settings = $.extend({
 67 |                 bottom: false,
 68 |                 reverse: false,
 69 |                 length: cols
 70 |             }, options || {});
 71 |             var first, second;
 72 |             if (settings.bottom) {
 73 |                 first = left;
 74 |                 second = str_repeat(chars.hor, settings.length - 2) + right;
 75 |             } else {
 76 |                 first = left + str_repeat(chars.hor, settings.length - 2);
 77 |                 second = right;
 78 |             }
 79 |             container.append('<span class="' +
 80 |                              (settings.reverse ? 'dark' : 'light') +
 81 |                              '">' + first + '</span>');
 82 |             container.append('<span class="' +
 83 |                              (settings.reverse ? 'light' : 'dark') +
 84 |                              '">' + second + '</span>');
 85 |         }
 86 |         function update_css_var() {
 87 |             self[0].style.setProperty('--char-width', char_size.width);
 88 |             self[0].style.setProperty('--char-height', char_size.height);
 89 |         }
 90 |         if (this.length > 1) {
 91 |             var args = [].slice.call(arguments);
 92 |             return this.each(function() {
 93 |                 $.fn.dialog.apply(this, args);
 94 |             });
 95 |         }
 96 |         var char_size = get_char_size();
 97 |         var self = $(this).addClass('dialog');
 98 |         update_css_var();
 99 |         var box = $('<div class="box"/>');
100 |         var top = $('<div class="top"/>').appendTo(box);
101 |         line(top, chars.nw, chars.ne);
102 | 
103 |         var width;
104 | 
105 |         var title = $('<div class="title"><span>' + settings.title +
106 |                       '</span></div>').appendTo(box);
107 | 
108 |         if (settings.message) {
109 |             var header = $('<div class="header"/>').appendTo(box);
110 |             var size = cols - 5;
111 |             width = char_size.width * size;
112 |             chunks(settings.message, size).forEach(function(line) {
113 |                 var $line = $('<div class="line"/>').appendTo(header);
114 |                 $line.append('<span class="left light">' + chars.ver +
115 |                              '&nbsp;</span>');
116 |                 $('<span>' + line + '</span>').width(width).appendTo($line);
117 |                 $line.append('<span class="left dark">&nbsp;' + chars.ver +
118 |                              '</span>');
119 |             });
120 |         }
121 | 
122 |         var input = $('<div class="input"/>').appendTo(box);
123 | 
124 |         var input_line = $('<div class="line"/>').appendTo(input);
125 |         var input_left = $('<div class="left light">' + chars.ver +
126 |                            '&nbsp;</div>').appendTo(input_line);
127 |         var input_top = $('<div class="top"/>').appendTo(input_line);
128 |         line(input_top, chars.nw, chars.ne, {length: cols-4, reverse: true});
129 |         var input_right = $('<div class="right dark">&nbsp;' + chars.ver +
130 |                             '</div>').appendTo(input_line);
131 | 
132 |         input_line = $('<div class="line"/>').appendTo(input);
133 |         $('<div class="left light">' + chars.ver + '&nbsp;</div>')
134 |             .appendTo(input_line);
135 |         $('<div class="left dark">' + chars.ver + '</div>')
136 |             .appendTo(input_line);
137 |         fn = fn.bind(self);
138 |         width = char_size.width * (cols - 7);
139 |         var cmd = $('<div/>').appendTo(input_line).cmd({
140 |             width: width,
141 |             prompt: '',
142 |             commands: fn,
143 |             keydown: function() {
144 |                 setTimeout(function() {
145 |                     cmd.scrollLeft(cmd.prop('scrollWidth'));
146 |                 }, 0);
147 |             },
148 |             keymap: {
149 |                 UP: up,
150 |                 ARROWUP: up,
151 |                 DOWN: down,
152 |                 ARROWDOWN: down
153 |             }
154 |         });
155 |         cmd.on('click', function() {
156 |             cmd.enable();
157 |             buttons.find('.selected, .active').removeClass('selected active');
158 |             buttons.find('.ok').addClass('active');
159 |         });
160 |         $('<div class="right light">' + chars.ver + '</div>')
161 |             .appendTo(input_line);
162 |         $('<div class="right dark">&nbsp;' + chars.ver + '</div>')
163 |             .appendTo(input_line);
164 | 
165 |         input_line = $('<div class="line"/>').appendTo(input);
166 |         $('<div class="left light">' + chars.ver + '&nbsp;</div>')
167 |             .appendTo(input_line);
168 |         var input_bottom = $('<div class="bottom"/>').appendTo(input_line);
169 |         line(input_bottom, chars.sw, chars.se, {
170 |             length: cols-4,
171 |             reverse: true,
172 |             bottom: true
173 |         });
174 |         $('<div class="right dark">&nbsp;' + chars.ver + '</div>')
175 |             .appendTo(input_line);
176 | 
177 |         var separator = $('<div class="separator"/>').appendTo(box);
178 |         line(separator, chars.cw, chars.ce);
179 | 
180 |         var button_line = $('<div class="buttons-line"/>').appendTo(box);
181 |         $('<div class="left light">' + chars.ver + '</div>')
182 |             .appendTo(button_line);
183 |         width = char_size.width * (cols - 3);
184 |         var buttons = $('<div class="buttons"/>')
185 |             .appendTo(button_line).width(width);
186 |         function tag(str) {
187 |             return str.replace(/_(.)/, '<span class="mark">$1</span>');
188 |         }
189 |         $('<button class="ok active">' + tag($.dialog.strings.ok) +
190 |           '</button>').appendTo(buttons);
191 |         $('<button class="cancel">' + tag($.dialog.strings.cancel) +
192 |           '</button>').appendTo(buttons);
193 |         $('<div class="right dark">' + chars.ver +
194 |           '</div>').appendTo(button_line);
195 | 
196 |         buttons.on('click', '.ok', function() {
197 |             cmd.disable();
198 |             $(this).addClass('selected active').next()
199 |                 .removeClass('selected active');
200 |             fn(cmd.get());
201 |         }).on('click', '.cancel', function() {
202 |             cmd.disable();
203 |             $(this).addClass('selected active').prev()
204 |                 .removeClass('selected active');
205 |             settings.cancel.call(self, cmd.get());
206 |         });
207 |         function up() {
208 |             setTimeout(function() {
209 |                 cmd.disable();
210 |             }, 0);
211 |             var active = buttons.find('.cancel').addClass('selected active')
212 |                 .prev().removeClass('selected active');
213 |         }
214 |         function down() {
215 |             setTimeout(function() {
216 |                 cmd.disable();
217 |             }, 0);
218 |             var active = buttons.find('.ok').addClass('selected active')
219 |                 .next().removeClass('selected active');
220 |         }
221 |         function keydown(e) {
222 |             var key = e.key.toUpperCase();
223 |             var map = {
224 |                 ARROWUP: 'UP',
225 |                 ARROWDOWN: 'DOWN',
226 |                 ARROWLEFT: 'LEFT',
227 |                 ARROWRIGHT: 'RIGHT'
228 |             };
229 |             if (map[key]) {
230 |                 key = map[key];
231 |             }
232 |             var active = buttons.find('.active');
233 |             switch (key) {
234 |                 case 'ENTER':
235 |                     if (!cmd.isenabled()) {
236 |                         active.click();
237 |                     }
238 |                     break;
239 |                 case 'LEFT':
240 |                     if (!cmd.isenabled()) {
241 |                         if (active.is('.ok')) {
242 |                             cmd.enable();
243 |                             active.removeClass('selected');
244 |                         } else {
245 |                             active.removeClass('active selected').prev()
246 |                                 .addClass('active selected');
247 |                         }
248 |                     }
249 |                     break;
250 |                 case 'RIGHT':
251 |                     if (!cmd.isenabled()) {
252 |                         if (active.is('.cancel')) {
253 |                             cmd.enable();
254 |                             active.removeClass('selected');
255 |                         } else {
256 |                             active.removeClass('active selected').next()
257 |                                 .addClass('active selected');
258 |                         }
259 |                     }
260 |                     break;
261 |                 case 'UP':
262 |                     if (!cmd.isenabled()) {
263 |                         if (active.is('.ok')) {
264 |                             cmd.enable();
265 |                             active.removeClass('selected active');
266 |                             buttons.find('.ok').addClass('active');
267 |                         } else {
268 |                             active.removeClass('active selected').prev()
269 |                                 .addClass('active selected');
270 |                         }
271 |                     }
272 |                     break;
273 |                 case 'DOWN':
274 |                     if (!cmd.isenabled()) {
275 |                         if (active.is('.cancel')) {
276 |                             cmd.enable();
277 |                             active.removeClass('selected active');
278 |                             buttons.find('.ok').addClass('active');
279 |                         } else {
280 |                             active.removeClass('active selected').next()
281 |                                 .addClass('active selected');
282 |                         }
283 |                     }
284 |                     break;
285 |             }
286 |         }
287 |         $(document).on('keydown', keydown);
288 |         var bottom = $('<div class="bottom"/>').appendTo(box);
289 |         line(bottom, chars.sw, chars.se, {bottom: true});
290 | 
291 |         box.appendTo(self);
292 | 
293 |         $.extend(self, {
294 |             destroy: function() {
295 |                 self.removeClass('dialog');
296 |                 $(document).off('keydown', keydown);
297 |                 cmd.destroy();
298 |                 box.remove();
299 |             },
300 |             cmd: function() {
301 |                 return cmd;
302 |             },
303 |             refresh: function() {
304 |                 char_size = get_char_size();
305 |                 update_css_var();
306 |             }
307 |         });
308 |         return self;
309 |     };
310 | })(jQuery);
311 | 


--------------------------------------------------------------------------------
/examples/json-rpc-service-demo.php:
--------------------------------------------------------------------------------
 1 | <?php
 2 | 
 3 | require('json-rpc/json-rpc.php');
 4 | 
 5 | if (function_exists('xdebug_disable')) {
 6 |     xdebug_disable();
 7 | }
 8 | 
 9 | class Demo {
10 |   static $login_documentation = "login to the server (return token)";
11 |   public function login($user, $passwd) {
12 |     if (strcmp($user, 'demo') == 0 && strcmp($passwd, 'demo') == 0) {
13 |       // If you need to handle more than one user you can create
14 |       // new token and save it in database
15 |       // UPDATE users SET token = '$token' WHERE name = '$user'
16 |       return md5($user . ":" . $passwd);
17 |     } else {
18 |       throw new Exception("Wrong Password");
19 |     }
20 |   }
21 |   // ---------------------------------------------------------------------------
22 |   static $ls_documentation = "list directory if token is valid";
23 |   public function ls($token, $path = null) {
24 |     if (strcmp(md5("demo:demo"), $token) == 0) {
25 |       if (preg_match("/\.\./", $path)) {
26 |         throw new Exception("No directory traversal Dude");
27 |       }
28 |       $base = preg_replace("/(.*\/).*/", "$1", $_SERVER["SCRIPT_FILENAME"]);
29 |       $path = realpath($base . ($path[0] != '/' ? "/" : "") . $path);
30 |       $dir = opendir($path);
31 |       while($name = readdir($dir)) {
32 |         $fname = $path . "/" . $name;
33 |         if (!preg_match("/^\\.{1,2}$/", $name) && !is_dir($fname)) {
34 |           $list[] = $name;
35 |         }
36 |       }
37 |       closedir($dir);
38 |       return $list;
39 |     } else {
40 |       throw new Exception("Access Denied");
41 |     }
42 |   }
43 |   // ---------------------------------------------------------------------------
44 |   static $whoami_documentation = "return user information";
45 |   public function whoami($token) {
46 |     return array("your User Agent" => $_SERVER["HTTP_USER_AGENT"],
47 |                  "your IP" => $_SERVER['REMOTE_ADDR'],
48 |                  "you acces this from" => $_SERVER["HTTP_REFERER"]);
49 |   }
50 | }
51 | 
52 | handle_json_rpc(new Demo());
53 | 
54 | ?>
55 | 


--------------------------------------------------------------------------------
/examples/multiple-interpreters-demo.html:
--------------------------------------------------------------------------------
 1 | <!DOCTYPE HTML>
 2 | <html xmlns="http://www.w3.org/1999/xhtml">
 3 |   <head>
 4 |     <meta charset="utf-8" />
 5 |     <title>JSON-RPC Demo for JQuery Terminal Emulator</title>
 6 |     <meta name="author" content="Jakub Jankiewicz - jcubic&#64;onet.pl"/>
 7 |     <meta name="Description" content="Demonstration for JQuery Terminal Emulator using call automaticly JSON-RPC service (in php) with authentication."/>
 8 |     <script src="https://cdn.jsdelivr.net/npm/jquery"></script>
 9 |     <script src="../js/jquery.terminal.min.js"></script>
10 |     <link href="../css/jquery.terminal.min.css" rel="stylesheet"/>
11 |     <script src="https://cdn.jsdelivr.net/npm/js-polyfills/keyboard.js"></script>
12 |     <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content"/>
13 |   </head>
14 | <body>
15 | 
16 | <script>
17 | var term;
18 | jQuery(function($) {
19 |     var id = 1;
20 |     term = $('body').terminal(function(command, term) {
21 |         if (command == 'help') {
22 |             term.echo("available commands are mysql, js, test");
23 |         } else if (command == 'test'){
24 |             term.push(function(command, term) {
25 |                 if (command == 'help') {
26 |                     term.echo('if you type ping it will display pong');
27 |                 } else if (command == 'ping') {
28 |                     term.echo('pong');
29 |                 } else {
30 |                     term.echo('unknown command ' + command);
31 |                 }
32 |             }, {
33 |                 prompt: 'test> ',
34 |                 name: 'test'
35 |             });
36 |         } else if (command == "js") {
37 |             term.push(function(command, term) {
38 |                 var result = window.eval(command);
39 |                 if (result != undefined) {
40 |                     term.echo(String(result));
41 |                 }
42 |             }, {
43 |                 name: 'js',
44 |                 prompt: 'js> '
45 |             });
46 |         } else if (command == 'mysql') {
47 |             term.push(function(command, term) {
48 |                 term.pause();
49 |                 $.jrpc("mysql-rpc-demo.php",
50 |                        "query",
51 |                        [command],
52 |                        function(data) {
53 |                            term.resume();
54 |                            if (data.error) {
55 |                                if (data.error.error && data.error.error.message) {
56 |                                    term.error(data.error.error.message);
57 |                                } else if (data.error.message) {
58 |                                    term.error(data.error.message);
59 |                                }
60 |                            } else {
61 |                                if (typeof data.result == 'boolean') {
62 |                                    term.echo(data.result ? 'success' : 'fail');
63 |                                } else {
64 |                                    var len = data.result.length;
65 |                                    for(var i=0;i<len; ++i) {
66 |                                        term.echo(data.result[i].join(' | '));
67 |                                    }
68 |                                }
69 |                            }
70 |                        },
71 |                        function(xhr, status, error) {
72 |                            term.error('[AJAX] ' + status +
73 |                                       ' - Server reponse is: \n' +
74 |                                       xhr.responseText);
75 |                            term.resume();
76 |                        });
77 |             }, {
78 |                 greetings: "This is example of using mysql from terminal\n\
79 | you are allowed to execute: select, insert, update and delete from/to table:\n\
80 |     table test(integer_value integer, varchar_value varchar(255))",
81 |                 prompt: "mysql> "});
82 |         } else {
83 |             term.echo("unknow command " + command);
84 |         }
85 |     }, {
86 |         greetings: "multiply terminals demo use help to see available commands"
87 |     });
88 | });
89 | 
90 | </script>
91 | </body>
92 | </html>
93 | 


--------------------------------------------------------------------------------
/examples/mysql-rpc-demo.php:
--------------------------------------------------------------------------------
 1 | <?php
 2 | 
 3 | require('json-rpc/json-rpc.php');
 4 | 
 5 | if (function_exists('xdebug_disable')) {
 6 |     xdebug_disable();
 7 | }
 8 | 
 9 | 
10 | 
11 | class MysqlDemo {
12 |   public function query($query) {
13 |     $link = new mysqli('localhost', 'user', 'password', 'db_name');
14 |     if (mysqli_connect_errno()) {
15 |         throw new Exception("MySQL Connection: " . mysqli_connect_error());
16 |     }
17 |     if (preg_match("/create|drop/", $query)) {
18 |       throw new Exception("Sorry you are not allowed to execute '" .
19 |                           $query . "'");
20 |     }
21 |     if (!preg_match("/^\s*(select.*from *test|insert *into *test.*|delete *from *test|update *test)\s*$/", $query)) {
22 |       throw new Exception("Sorry you can't execute '" . $query .
23 |                           "' you are only allowed to select, insert, delete " .
24 |                           "or update 'test' table");
25 |     }
26 |     if ($res = $link->query($query)) {
27 |       if ($res === true) {
28 |         return true;
29 |       }
30 |       if ($res->num_rows > 0) {
31 |         while ($row = $res->fetch_array(MYSQLI_NUM)) {
32 |           $result[] = $row;
33 |         }
34 |         return $result;
35 |       } else {
36 |         return array();
37 |       }
38 |     } else {
39 |       throw new Exception("MySQL Error: " . mysqli_error($link));
40 |     }
41 |   }
42 | }
43 | 
44 | handle_json_rpc(new MysqlDemo());
45 | 
46 | ?>
47 | 


--------------------------------------------------------------------------------
/examples/rpc-demo.html:
--------------------------------------------------------------------------------
 1 | <!DOCTYPE HTML>
 2 | <html xmlns="http://www.w3.org/1999/xhtml">
 3 |   <head>
 4 |     <meta charset="utf-8" />
 5 |     <title>JSON-RPC Demo for JQuery Terminal Emulator</title>
 6 |     <meta name="author" content="Jakub Jankiewicz - jcubic&#64;onet.pl"/>
 7 |     <meta name="Description" content="Demonstration for JQuery Terminal Emulator using call automaticly JSON-RPC service (in php) with authentication."/>
 8 |     <script src="https://cdn.jsdelivr.net/npm/jquery"></script>
 9 |     <script src="../js/jquery.terminal.min.js"></script>
10 |     <link href="../css/jquery.terminal.min.css" rel="stylesheet"/>
11 |     <script src="https://cdn.jsdelivr.net/npm/js-polyfills/keyboard.js"></script>
12 |     <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content"/>
13 | 
14 |     <script>
15 |     jQuery(document).ready(function($) {
16 |         $('body').terminal("json-rpc-service-demo.php", {
17 |             login: true,
18 |             greetings: "You are authenticated",
19 |             completion: true,
20 |             processRPCResponse: function(data) {
21 |                 if (typeof data === 'string' || data instanceof Array) {
22 |                     this.echo(data);
23 |                 } else if (data && typeof data === 'object') {
24 |                     var str = Object.keys(data).map(function(key) {
25 |                         return '[[b;#fff;]' + key + ']: ' + data[key];
26 |                     }).join('\n');
27 |                     this.echo(str);
28 |                 }
29 |             }
30 |         });
31 |     });
32 |     </script>
33 |   </head>
34 | <body>
35 | </html>
36 | 


--------------------------------------------------------------------------------
/examples/tilda-demo.html:
--------------------------------------------------------------------------------
  1 | <!-- -*- mode:javascript -*--->
  2 | <!DOCTYPE HTML>
  3 | <html>
  4 | <head>
  5 |   <meta charset="utf-8" />
  6 |   <title>Quake like teminal - JQuery Terminal Emulator Demo</title>
  7 |   <meta name="Description" content="This is demonstration of JQuery Terminal Emulator Plugin. To run terminal type tilda on you keyboard."/>
  8 |   <script src="../js/jquery-1.7.1.min.js"></script>
  9 |   <script src="../js/jquery.mousewheel-min.js"></script>
 10 |   <script src="../js/jquery.terminal.min.js"></script>
 11 |   <link href="../css/jquery.terminal.css" rel="stylesheet"/>
 12 |   <script src="https://unpkg.com/js-polyfills/keyboard.js"></script>
 13 |   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 14 | <!--[if IE]>
 15 | <style>
 16 | body {
 17 |     margin: 0;
 18 |     padding: 0;
 19 | }
 20 | .tilda {
 21 |     position: absolute;
 22 | }
 23 | </style>
 24 | <script>
 25 | jQuery(document).ready(function($) {
 26 |    $(window).scroll(function() {
 27 |       $('.tilda').each(function() {
 28 |          $(this).css({top: $('body').prop('scrollTop')});
 29 |       });
 30 |    });
 31 | });
 32 | </script>
 33 | <![endif]-->
 34 | <script>
 35 | 
 36 | 
 37 | String.prototype.strip = function(char) {
 38 |     return this.replace(new RegExp("^" + char + "*"), '').
 39 |         replace(new RegExp(char + "*$"), '');
 40 | }
 41 | 
 42 | 
 43 | $.extend_if_has = function(desc, source, array) {
 44 |     for (var i=array.length;i--;) {
 45 |         if (typeof source[array[i]] != 'undefined') {
 46 |             desc[array[i]] = source[array[i]];
 47 |         }
 48 |     }
 49 |     return desc;
 50 | };
 51 | 
 52 | 
 53 | (function($) {
 54 |     $.fn.tilda = function(eval, options) {
 55 |         if ($('body').data('tilda')) {
 56 |             return $('body').data('tilda').terminal;
 57 |         }
 58 |         this.addClass('tilda');
 59 |         options = options || {};
 60 |         eval = eval || function(command, term) {
 61 |             term.echo("you don't set eval for tilda");
 62 |         };
 63 |         var settings = {
 64 |             prompt: 'tilda> ',
 65 |             name: 'tilda',
 66 |             height: 100,
 67 |             enabled: false,
 68 |             greetings: 'Quake like console',
 69 |             keypress: function(e) {
 70 |                 if (e.which == 96) {
 71 |                     return false;
 72 |                 }
 73 |             }
 74 |         };
 75 |         if (options) {
 76 |             $.extend(settings, options);
 77 |         }
 78 |         this.append('<div class="td"></div>');
 79 |         var self = this;
 80 |         self.terminal = this.find('.td').terminal(eval, settings);
 81 |         var focus = false;
 82 |         $(document.documentElement).keypress(function(e) {
 83 |             if (e.which == 96) {
 84 |                 self.slideToggle('fast');
 85 |                 self.terminal.focus(focus = !focus);
 86 |                 self.terminal.attr({
 87 |                     scrollTop: self.terminal.attr("scrollHeight")
 88 |                 });
 89 |             }
 90 |         });
 91 |         $('body').data('tilda', this);
 92 |         this.hide();
 93 |         return self;
 94 |     };
 95 | })(jQuery);
 96 | 
 97 | //--------------------------------------------------------------------------
 98 | jQuery(document).ready(function($) {
 99 | 
100 |     $('#tilda').tilda(function(command, terminal) {
101 |         if (command) {
102 |             terminal.echo('you type command "' + command + '"');
103 |         }
104 |     });
105 | });
106 | 
107 | </script>
108 | </head>
109 | <body>
110 |     <div id="tilda"></div>
111 |     <h1>This is demo of JQuery Terminal Emulator, type tilda to open terminal</h1>
112 | </body>
113 | </html>
114 | 


--------------------------------------------------------------------------------
/files:
--------------------------------------------------------------------------------
1 | #!/bin/bash
2 | 
3 | find . -type f -not -path './node_modules*' -a -not -path '*.git*' -a -not -path './coverage*' -a -not -path './bower_components*' | while read file; do
4 |   git check-ignore -q "$file" || echo "$file"
5 | done


--------------------------------------------------------------------------------
/import.html:
--------------------------------------------------------------------------------
 1 | <!DOCTYPE html>
 2 | <html>
 3 | <head>
 4 | <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 5 | <script src="https://cdn.rawgit.com/jcubic/jquery.terminal/devel/js/jquery.terminal.min.js"></script>
 6 | <style>
 7 | body {
 8 |     min-height: 100vh;
 9 |     margin: 0;
10 | }
11 | </style>
12 | <script>
13 | (function() {
14 |     var url = 'https://cdn.rawgit.com/jcubic/jquery.terminal/devel/css/jquery.terminal.min.css';
15 |     var $ = jQuery.noConflict();
16 |     $('<link href="' + url + '" rel="stylesheet"/>').appendTo('head');
17 |     var importDoc = document.currentScript.ownerDocument;
18 |     var style = importDoc.querySelector('style');
19 |     document.head.appendChild(style);
20 |     window.terminal = function(selector) {
21 |         var args = [].slice.call(arguments, 1);
22 |         return $.fn.terminal.apply($(selector), args);
23 |     };
24 | })();
25 | </script>
26 | </head>
27 | 


--------------------------------------------------------------------------------
/jest.config.js:
--------------------------------------------------------------------------------
 1 | module.exports = {
 2 |     testEnvironment: 'jsdom',
 3 |     verbose: true,
 4 |     modulePathIgnorePatterns: [
 5 |         "\\/\\.#"
 6 |     ],
 7 |     testPathIgnorePatterns: [
 8 |         "\\/\\.#",
 9 |         "/docs/",
10 |         "/docusaurus/"
11 |     ],
12 |     testMatch: [
13 |         "<rootDir>/__tests__/*.spec.js"
14 |     ]
15 | };
16 | 


--------------------------------------------------------------------------------
/js/animation.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * This file is part of jQuery Terminal that create base class for animation
 11 |  *
 12 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define */
 17 | (function(factory) {
 18 |     var root;
 19 |     if (typeof window !== 'undefined') {
 20 |         root = window;
 21 |     } else if (typeof self !== 'undefined') {
 22 |         root = self;
 23 |     } else if (typeof global !== 'undefined') {
 24 |         root = global;
 25 |     } else {
 26 |         throw new Error('Unknow context');
 27 |     }
 28 |     if (typeof define === 'function' && define.amd) {
 29 |         // AMD. Register as an anonymous module.
 30 |         // istanbul ignore next
 31 |         define(['jquery', 'jquery.terminal'], factory);
 32 |     } else if (typeof module === 'object' && module.exports) {
 33 |         // Node/CommonJS
 34 |         module.exports = function(root, jQuery) {
 35 |             if (jQuery === undefined) {
 36 |                 // require('jQuery') returns a factory that requires window to
 37 |                 // build a jQuery instance, we normalize how we use modules
 38 |                 // that require this pattern but the window provided is a noop
 39 |                 // if it's defined (how jquery works)
 40 |                 if (typeof window !== 'undefined') {
 41 |                     jQuery = require('jquery');
 42 |                 } else {
 43 |                     jQuery = require('jquery')(root);
 44 |                 }
 45 |             }
 46 |             if (!jQuery.fn.terminal) {
 47 |                 if (typeof window !== 'undefined') {
 48 |                     require('jquery.terminal');
 49 |                 } else {
 50 |                     require('jquery.terminal')(jQuery);
 51 |                 }
 52 |             }
 53 |             factory(jQuery);
 54 |             return jQuery;
 55 |         };
 56 |     } else {
 57 |         // Browser
 58 |         // istanbul ignore next
 59 |         factory(root.jQuery);
 60 |     }
 61 | })(function($) {
 62 |     class Renderer {
 63 |         /* eslint-disable no-unused-vars */
 64 |         constructor(render, {
 65 |             color = '#cccccc',
 66 |             background = 'black',
 67 |             font = 'monospace',
 68 |             char = {width: 7, height: 14}
 69 |         } = {}) {
 70 |         /* eslint-enable no-unused-vars */
 71 |             this._options = {
 72 |                 background,
 73 |                 color,
 74 |                 char
 75 |             };
 76 |             this._render = render;
 77 |         }
 78 |         option(arg, value) {
 79 |             if (typeof arg === 'object') {
 80 |                 Object.assign(this._options, arg);
 81 |             } else if (typeof value === 'undefined') {
 82 |                 return this._options[arg];
 83 |             } else {
 84 |                 this._options[arg] = value;
 85 |             }
 86 |         }
 87 |         render() {
 88 |             const char = this.option('char');
 89 |             const lines = this._render();
 90 |             const max = Math.max(...lines.map(l => l.length));
 91 |             const width = max * char.width;
 92 |             const size = char.height;
 93 |             const height = lines.length * size;
 94 |             this.clear({width, height});
 95 |             for (let line = 0; line < lines.length; ++line) {
 96 |                 const text = lines[line];
 97 |                 this.line(text, 0, size * line);
 98 |             }
 99 |         }
100 |         /* eslint-disable no-unused-vars */
101 |         line(text, x, y) {
102 |             throw new Error('Renderer::line invalid Invocation');
103 |         }
104 |         clear({width, height, size} = {}) {
105 |             throw new Error('Renderer::clear invalid Invocation');
106 |         }
107 |         /* eslint-enable no-unused-vars */
108 |     }
109 | 
110 |     // -----------------------------------------------------------------------------------
111 |     class CanvasRenderer extends Renderer {
112 |         constructor(render, options = {}) {
113 |             super(render, options);
114 |             var $canvas = $('<canvas/>');
115 |             this.canvas = $canvas[0];
116 |             this.ctx = this.canvas.getContext('2d');
117 |         }
118 |         clear({width, height}) {
119 |             this.canvas.width = width;
120 |             this.canvas.height = height;
121 |             this.ctx.fillStyle = this.option('background');
122 |             this.ctx.fillRect(0, 0, width, height);
123 |             this.ctx.font = `1em ${this.option('font')}`;
124 |             this.ctx.textBaseline = 'hanging';
125 |             this.ctx.fillStyle = this.option('color');
126 |         }
127 |         line(text, x, y) {
128 |             this.ctx.fillText(text, x, y);
129 |         }
130 |     }
131 | 
132 |     class FormattingCanvasRenderer extends CanvasRenderer {
133 |         render() {
134 |             this._char = this.option('char');
135 |             var stripped = [];
136 |             const lines = this._render().map(function(line) {
137 |                 if ($.terminal.have_formatting(line)) {
138 |                     stripped.push($.terminal.strip(line));
139 |                 } else {
140 |                     stripped.push(line);
141 |                 }
142 |                 return $.terminal.process_formatting(line);
143 |             });
144 |             const max = Math.max(...stripped.map(l => l.length));
145 |             const width = max * this._char.width;
146 |             const size = this._char.height;
147 |             const height = stripped.length * size;
148 |             this.clear({width, height});
149 |             for (let index = 0; index < lines.length; ++index) {
150 |                 const line = lines[index];
151 |                 this.line(line, 0, size * index);
152 |             }
153 |         }
154 |         line(line, x, y) {
155 |             var ctx = this.ctx;
156 |             var color = this.option('color');
157 |             var char_width = Math.ceil(this._char.width);
158 |             var char_height = this._char.height;
159 |             line.forEach(function(arr) {
160 |                 var text = arr[3];
161 |                 var len = $.terminal.length(text);
162 |                 if (arr[2]) {
163 |                     ctx.fillStyle = arr[2];
164 |                     ctx.fillRect(x, y, char_width * len, char_height);
165 |                 }
166 |                 if (arr[1]) {
167 |                     ctx.fillStyle = arr[1];
168 |                 } else {
169 |                     ctx.fillStyle = color;
170 |                 }
171 |                 ctx.fillText(text, x, y);
172 |                 x += len * char_width;
173 |             });
174 |         }
175 |     }
176 | 
177 |     // -----------------------------------------------------------------------------------
178 |     class Animation {
179 |         constructor(fps = null, renderer = CanvasRenderer) {
180 |             this._fps = fps;
181 |             this._Renderer = renderer;
182 |         }
183 |         start(term) {
184 |             this.renderer = new this._Renderer(() => this.render(term));
185 |             term.echo(this.renderer.canvas, {
186 |                 onClear: () => {
187 |                     this.stop();
188 |                     this.unmount();
189 |                 },
190 |                 finalize: (div) => {
191 |                     div.addClass('animation');
192 |                     this.mount(div);
193 |                 }
194 |             });
195 | 
196 |             var self = this;
197 |             self.run = true;
198 |             const delay = self._fps === null ? null : 1000 / self._fps;
199 |             (function loop() {
200 |                 if (self.run) {
201 |                     var style = getComputedStyle(term[0]);
202 |                     var color = style.getPropertyValue('--color') || '#cccccc';
203 |                     var background = style.getPropertyValue('--background') || 'black';
204 |                     var font = style.getPropertyValue('--font') || 'monospace';
205 |                     self.renderer.option({
206 |                         char: term.geometry().char,
207 |                         background,
208 |                         font,
209 |                         color
210 |                     });
211 |                     self.renderer.render();
212 |                     if (delay === null) {
213 |                         requestAnimationFrame(loop);
214 |                     } else {
215 |                         setTimeout(loop, delay);
216 |                     }
217 |                 }
218 |             })();
219 |         }
220 |         stop() {
221 |             this.run = false;
222 |         }
223 |         /* eslint-disable no-unused-vars */
224 |         render(term) {
225 |             throw new Error('Animation::render You need to overwrite this method');
226 |         }
227 |         /* eslint-enable no-unused-vars */
228 |         /* eslint-disable no-empty-function */
229 |         mount() { }
230 |         unmount() { }
231 |         /* eslint-enable no-empty-function */
232 |     }
233 | 
234 |     // -----------------------------------------------------------------------------------
235 |     class FramesAnimation extends Animation {
236 |         constructor(frames, ...args) {
237 |             super(...args);
238 |             this._i = 0;
239 |             this._frames = frames;
240 |             this._max = frames.length - 1;
241 |         }
242 |         render() {
243 |             if (this._i >= this._max) {
244 |                 this._i = 0;
245 |             } else {
246 |                 this._i++;
247 |             }
248 |             return this._frames[this._i];
249 |         }
250 |     }
251 | 
252 |     $.terminal.Renderer = Renderer;
253 |     $.terminal.CanvasRenderer = CanvasRenderer;
254 |     $.terminal.FormattingCanvasRenderer = FormattingCanvasRenderer;
255 |     $.terminal.Animation = Animation;
256 |     $.terminal.FramesAnimation = FramesAnimation;
257 | });
258 | 


--------------------------------------------------------------------------------
/js/ascii_table.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * utility that renders simple ascii table, like the one from mysql cli tool
 11 |  * it was first created for leash shell https://leash.jcubic.pl
 12 |  *
 13 |  * usage:
 14 |  *
 15 |  *        var arr = [[1,2,3,4,5], ["lorem", "ipsum", "dolor", "sit", "amet"]];
 16 |  *        term.echo(ascii_table(arr));
 17 |  *        // or
 18 |  *        term.echo(ascii_table(arr, true)); // this will render first row as header
 19 |  *
 20 |  * Copyright (c) 2018-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 21 |  * Released under the MIT license
 22 |  *
 23 |  */
 24 | /* global define, module, global, wcwidth, require */
 25 | (function(factory) {
 26 |     var root;
 27 |     if (typeof window !== 'undefined') {
 28 |         root = window;
 29 |     } else if (typeof self !== 'undefined') {
 30 |         root = self;
 31 |     } else if (typeof global !== 'undefined') {
 32 |         root = global;
 33 |     } else {
 34 |         throw new Error('Unknow context');
 35 |     }
 36 |     if (typeof define === 'function' && define.amd) {
 37 |         // AMD. Register as an anonymous module.
 38 |         define(['wcwidth'], function(wcwidth) {
 39 |             return (root.ascii_table = factory(wcwidth));
 40 |         });
 41 |     } else if (typeof module === 'object' && module.exports) {
 42 |         // Node/CommonJS
 43 |         module.exports = factory(require('wcwidth'));
 44 |     } else {
 45 |         root.ascii_table = factory(root.wcwidth);
 46 |     }
 47 | })(function(wcwidth, undefined) {
 48 |     var strlen
 49 |     if (typeof $ !== 'undefined' && $.terminal) {
 50 |         strlen = (function() {
 51 |             if (typeof wcwidth === 'undefined') {
 52 |                 return function(string) {
 53 |                     return $.terminal.length(string);
 54 |                 };
 55 |             } else {
 56 |                 return function(string) {
 57 |                     return wcwidth($.terminal.strip(string));
 58 |                 };
 59 |             }
 60 |         })();
 61 |     } else {
 62 |         strlen = (function() {
 63 |             if (typeof wcwidth === 'undefined') {
 64 |                 return function(string) {
 65 |                     return string.length;
 66 |                 };
 67 |             } else {
 68 |                 return wcwidth;
 69 |             }
 70 |         })();
 71 |     }
 72 |     function ascii_table(array, header) {
 73 |         if (!array.length) {
 74 |             return '';
 75 |         }
 76 |         // Fix to the algorithm that hanlde newlines by cviejo
 77 |         // ref: https://stackoverflow.com/a/35115703/387194
 78 |         for (var i = array.length - 1; i >= 0; i--) {
 79 |             var row = array[i];
 80 |             var stacks = [];
 81 |             for (var j = 0; j < row.length; j++) {
 82 |                 var item = row[j].toString().replace(/\t/g, '    ');
 83 |                 var new_lines = item.replace(/\r/g).split('\n');
 84 |                 row[j] = new_lines.shift();
 85 |                 stacks.push(new_lines);
 86 |             }
 87 |             var stack_lengths = stacks.map(function(column) {
 88 |                 return column.length;
 89 |             });
 90 |             var new_rows_count = Math.max.apply(Math, stack_lengths);
 91 |             for (var k = new_rows_count - 1; k >= 0; k--) {
 92 |                 array.splice(i + 1, 0, stacks.map(function(column) {
 93 |                     return column[k] || '';
 94 |                 }));
 95 |             }
 96 |         }
 97 |         var lengths = array[0].map(function(_, i) {
 98 |             var col = array.map(function(row) {
 99 |                 if (row[i] != undefined) {
100 |                     return strlen(row[i]);
101 |                 } else {
102 |                     return 0;
103 |                 }
104 |             });
105 |             return Math.max.apply(Math, col);
106 |         });
107 |         // column padding
108 |         array = array.map(function(row) {
109 |             return '| ' + row.map(function(item, i) {
110 |                 var size = strlen(item);
111 |                 if (size < lengths[i]) {
112 |                     item += new Array(lengths[i] - size + 1).join(' ');
113 |                 }
114 |                 return item;
115 |             }).join(' | ') + ' |';
116 |         });
117 |         array = array.map(function(line) {
118 |             return line.replace(/&(?![^;]+;)/g, '&amp;');
119 |         });
120 |         var sep = '+' + lengths.map(function(length) {
121 |             return new Array(length + 3).join('-');
122 |         }).join('+') + '+';
123 |         if (header) {
124 |             return sep + '\n' + array[0] + '\n' + sep + '\n' +
125 |                 array.slice(1).join('\n') + '\n' + sep;
126 |         } else {
127 |             return sep + '\n' + array.join('\n') + '\n' + sep;
128 |         }
129 |     }
130 |     return ascii_table;
131 | });
132 | 


--------------------------------------------------------------------------------
/js/autocomplete_menu.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * Wrapper for options that will create autocomplete menu for jQuery Terminal
 11 |  *
 12 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define */
 17 | (function(factory) {
 18 |     var root;
 19 |     if (typeof window !== 'undefined') {
 20 |         root = window;
 21 |     } else if (typeof self !== 'undefined') {
 22 |         root = self;
 23 |     } else if (typeof global !== 'undefined') {
 24 |         root = global;
 25 |     } else {
 26 |         throw new Error('Unknow context');
 27 |     }
 28 |     if (typeof define === 'function' && define.amd) {
 29 |         // AMD. Register as an anonymous module.
 30 |         // istanbul ignore next
 31 |         define(['jquery', 'jquery.terminal'], factory);
 32 |     } else if (typeof module === 'object' && module.exports) {
 33 |         // Node/CommonJS
 34 |         module.exports = function(root, jQuery) {
 35 |             if (jQuery === undefined) {
 36 |                 // require('jQuery') returns a factory that requires window to
 37 |                 // build a jQuery instance, we normalize how we use modules
 38 |                 // that require this pattern but the window provided is a noop
 39 |                 // if it's defined (how jquery works)
 40 |                 if (typeof window !== 'undefined') {
 41 |                     jQuery = require('jquery');
 42 |                 } else {
 43 |                     jQuery = require('jquery')(root);
 44 |                 }
 45 |             }
 46 |             if (!jQuery.fn.terminal) {
 47 |                 if (typeof window !== 'undefined') {
 48 |                     require('jquery.terminal');
 49 |                 } else {
 50 |                     require('jquery.terminal')(jQuery);
 51 |                 }
 52 |             }
 53 |             factory(jQuery);
 54 |             return jQuery;
 55 |         };
 56 |     } else {
 57 |         // Browser
 58 |         // istanbul ignore next
 59 |         factory(root.jQuery);
 60 |     }
 61 | })(function($) {
 62 |     var jquery_terminal = $.fn.terminal;
 63 |     $.fn.terminal = function(interpreter, options) {
 64 |         function init(node) {
 65 |             return jquery_terminal.call(node, interpreter, autocomplete_menu(options));
 66 |         }
 67 |         if (this.length > 1) {
 68 |             return this.each(init.bind(null, this));
 69 |         } else {
 70 |             return init(this);
 71 |         }
 72 |     };
 73 |     // -----------------------------------------------------------------------------------
 74 |     // :: cancableble task for usage in comletion menu to ignore previous async completion
 75 |     // -----------------------------------------------------------------------------------
 76 |     function Task(fn) {
 77 |         this._fn = fn;
 78 |     }
 79 |     Task.prototype.invoke = function() {
 80 |         if (!this._cancel) {
 81 |             this._fn.apply(null, arguments);
 82 |         }
 83 |     };
 84 |     Task.prototype.cancel = function() {
 85 |         this._cancel = true;
 86 |     };
 87 |     // -----------------------------------------------------------------------------------
 88 |     // :: function return patched terminal settings
 89 |     // -----------------------------------------------------------------------------------
 90 |     function autocomplete_menu(options) {
 91 |         if (options && !options.autocompleteMenu) {
 92 |             return options;
 93 |         }
 94 |         var settings = options || {};
 95 |         var last_task;
 96 |         // -------------------------------------------------------------------------------
 97 |         // :: function that do actuall matching and displaying of completion menu
 98 |         // -------------------------------------------------------------------------------
 99 |         function complete_menu(term, e, word, list) {
100 |             var matched = [];
101 |             var regex = new RegExp('^' + $.terminal.escape_regex(word));
102 |             for (var i = list.length; i--;) {
103 |                 if (regex.test(list[i])) {
104 |                     matched.unshift(list[i]);
105 |                 }
106 |             }
107 |             if (e.which === 9) {
108 |                 if (term.complete(matched, {escape: completionEscape})) {
109 |                     word = term.before_cursor(true);
110 |                     regex = new RegExp('^' + $.terminal.escape_regex(word));
111 |                 }
112 |             }
113 |             if (word && matched.length) {
114 |                 ul.hide();
115 |                 for (i = 0; i < matched.length; ++i) {
116 |                     var text = matched[i].replace(regex, '');
117 |                     if (text) {
118 |                         $('<li>' + text + '</li>').appendTo(ul);
119 |                     }
120 |                 }
121 |                 ul.show();
122 |             }
123 |         }
124 |         var ul;
125 |         if (typeof settings.completion !== 'undefined') {
126 |             var onInit = settings.onInit || $.noop;
127 |             var keydown = settings.keydown || $.noop;
128 |             var completion = settings.completion;
129 |             var completionEscape = settings.completionEscape;
130 |             delete settings.completion;
131 |             settings.onInit = function(term) {
132 |                 onInit.call(this, term);
133 |                 // init html menu element
134 |                 var wrapper = this.cmd().find('.cmd-cursor').
135 |                     wrap('<span/>').parent().addClass('cursor-wrapper');
136 |                 ul = $('<ul></ul>').appendTo(wrapper);
137 |                 ul.on('click', 'li', function() {
138 |                     term.insert($(this).text());
139 |                     ul.empty();
140 |                 });
141 |             };
142 |             var timer;
143 |             settings.keydown = function(e, term) {
144 |                 // setTimeout because terminal is adding characters in keypress
145 |                 // we use keydown because we need to prevent default action
146 |                 // for tab and still execute custom code
147 |                 clearTimeout(timer);
148 |                 timer = setTimeout(function() {
149 |                     ul.empty();
150 |                     var word = term.before_cursor(true);
151 |                     if (last_task) {
152 |                         last_task.cancel(); // ignore previous completion task
153 |                     }
154 |                     // we save task in closure for callbacks and promise::then
155 |                     var task = last_task = new Task(complete_menu);
156 |                     if (typeof completion === 'function') {
157 |                         var ret = completion.call(term, word, function(list) {
158 |                             task.invoke(term, e, word, list);
159 |                         });
160 |                         if (ret && typeof ret.then === 'function') {
161 |                             ret.then(function(completion) {
162 |                                 task.invoke(term, e, word, completion);
163 |                             });
164 |                         } else if (ret instanceof Array) {
165 |                             task.invoke(term, e, word, ret);
166 |                         }
167 |                     } else if (completion instanceof Array) {
168 |                         task.invoke(term, e, word, completion);
169 |                     }
170 |                 }, 0);
171 |                 var ret = keydown.call(this, e, term);
172 |                 if (typeof ret !== 'undefined') {
173 |                     return false;
174 |                 }
175 |                 if (e.which === 9) {
176 |                     return false;
177 |                 }
178 |             };
179 |         }
180 |         return settings;
181 |     }
182 | });
183 | 


--------------------------------------------------------------------------------
/js/dterm.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * Example plugin using jQuery Terminal Emulator
  9 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 10 |  * Released under the MIT license
 11 |  *
 12 |  */
 13 | /* global define */
 14 | (function(factory, undefined) {
 15 | 
 16 |     var root;
 17 |     if (typeof window !== 'undefined') {
 18 |         root = window;
 19 |     } else if (typeof self !== 'undefined') {
 20 |         root = self;
 21 |     } else if (typeof global !== 'undefined') {
 22 |         root = global;
 23 |     } else {
 24 |         throw new Error('Unknow context');
 25 |     }
 26 |     if (typeof define === 'function' && define.amd) {
 27 |         // AMD. Register as an anonymous module.
 28 |         // istanbul ignore next
 29 |         define(['jquery', 'jquery.terminal'], factory);
 30 |     } else if (typeof module === 'object' && module.exports) {
 31 |         // Node/CommonJS
 32 |         module.exports = function(root, jQuery) {
 33 |             if (jQuery === undefined) {
 34 |                 // require('jQuery') returns a factory that requires window to
 35 |                 // build a jQuery instance, we normalize how we use modules
 36 |                 // that require this pattern but the window provided is a noop
 37 |                 // if it's defined (how jquery works)
 38 |                 if (window !== undefined) {
 39 |                     jQuery = require('jquery');
 40 |                 } else {
 41 |                     jQuery = require('jquery')(root);
 42 |                 }
 43 |             }
 44 |             if (!jQuery.fn.terminal) {
 45 |                 if (window !== undefined) {
 46 |                     require('jquery.terminal');
 47 |                 } else {
 48 |                     require('jquery.terminal')(jQuery);
 49 |                 }
 50 |             }
 51 |             factory(jQuery);
 52 |             return jQuery;
 53 |         };
 54 |     } else {
 55 |         // Browser
 56 |         // istanbul ignore next
 57 |         factory(root.jQuery);
 58 |     }
 59 | })(function($) {
 60 |     $.extend_if_has = function(desc, source, array) {
 61 |         for (var i = array.length; i--;) {
 62 |             if (typeof source[array[i]] !== 'undefined') {
 63 |                 desc[array[i]] = source[array[i]];
 64 |             }
 65 |         }
 66 |         return desc;
 67 |     };
 68 |     var defaults = Object.keys($.terminal.defaults).concat(['greetings']);
 69 |     $.fn.dterm = function(interpreter, options) {
 70 |         var op = $.extend_if_has({}, options, defaults);
 71 |         op.enabled = false;
 72 |         this.addClass('dterm');
 73 |         var terminal = $('<div/>').appendTo(this).terminal(interpreter, op);
 74 |         if (!options.title) {
 75 |             options.title = 'JQuery Terminal Emulator';
 76 |         }
 77 |         var close = options.close || $.noop;
 78 |         if (options.logoutOnClose) {
 79 |             options.close = function() {
 80 |                 terminal.logout();
 81 |                 terminal.clear();
 82 |                 close();
 83 |             };
 84 |         } else {
 85 |             options.close = function() {
 86 |                 terminal.disable();
 87 |                 close();
 88 |             };
 89 |         }
 90 |         var self = this;
 91 |         if (window.IntersectionObserver) {
 92 |             var visibility_observer = new IntersectionObserver(function() {
 93 |                 if (self.is(':visible')) {
 94 |                     terminal.focus().resize();
 95 |                 } else {
 96 |                     terminal.disable();
 97 |                 }
 98 |             }, {
 99 |                 root: null
100 |             });
101 |             visibility_observer.observe(terminal[0]);
102 |         }
103 |         this.dialog($.extend({}, options, {
104 |             open: function(event, ui) {
105 |                 if (!window.IntersectionObserver) {
106 |                     setTimeout(function() {
107 |                         terminal.enable().resize();
108 |                     }, 100);
109 |                 }
110 |                 if (typeof options.open === 'function') {
111 |                     options.open(event, ui);
112 |                 }
113 |             },
114 |             show: 'fade',
115 |             closeOnEscape: false
116 |         }));
117 |         self.terminal = terminal;
118 |         return self;
119 |     };
120 | });
121 | 


--------------------------------------------------------------------------------
/js/echo_newline.js:
--------------------------------------------------------------------------------
 1 | /**@license
 2 |  *       __ _____                     ________                              __
 3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 7 |  *           \/              /____/
 8 |  * http://terminal.jcubic.pl
 9 |  *
10 |  * Monkey patch to add newlinew option for echo method inside jQuery Terminal
11 |  * this file is depracated the echo without newline was added to the library
12 |  *
13 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
14 |  * Released under the MIT license
15 |  *
16 |  */
17 | /* global define */
18 | (function(factory) {
19 |     var root;
20 |     if (typeof window !== 'undefined') {
21 |         root = window;
22 |     } else if (typeof self !== 'undefined') {
23 |         root = self;
24 |     } else if (typeof global !== 'undefined') {
25 |         root = global;
26 |     } else {
27 |         throw new Error('Unknow context');
28 |     }
29 |     if (typeof define === 'function' && define.amd) {
30 |         // AMD. Register as an anonymous module.
31 |         // istanbul ignore next
32 |         define(['jquery', 'jquery.terminal'], factory);
33 |     } else if (typeof module === 'object' && module.exports) {
34 |         // Node/CommonJS
35 |         module.exports = function(root, jQuery) {
36 |             if (jQuery === undefined) {
37 |                 // require('jQuery') returns a factory that requires window to
38 |                 // build a jQuery instance, we normalize how we use modules
39 |                 // that require this pattern but the window provided is a noop
40 |                 // if it's defined (how jquery works)
41 |                 if (typeof window !== 'undefined') {
42 |                     jQuery = require('jquery');
43 |                 } else {
44 |                     jQuery = require('jquery')(root);
45 |                 }
46 |             }
47 |             if (!jQuery.fn.terminal) {
48 |                 if (typeof window !== 'undefined') {
49 |                     require('jquery.terminal');
50 |                 } else {
51 |                     require('jquery.terminal')(jQuery);
52 |                 }
53 |             }
54 |             factory(jQuery);
55 |             return jQuery;
56 |         };
57 |     } else {
58 |         // Browser
59 |         // istanbul ignore next
60 |         factory(root.jQuery);
61 |     }
62 | })(function() {}); // eslint-disable-line no-empty-function
63 | 


--------------------------------------------------------------------------------
/js/emoji.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * this is formatter for jQuery Terminal that add support for emoji
 11 |  *
 12 |  * Copyright (c) 2019-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define */
 17 | (function(factory, undefined) {
 18 |     var root;
 19 |     if (typeof window !== 'undefined') {
 20 |         root = window;
 21 |     } else if (typeof self !== 'undefined') {
 22 |         root = self;
 23 |     } else if (typeof global !== 'undefined') {
 24 |         root = global;
 25 |     } else {
 26 |         throw new Error('Unknow context');
 27 |     }
 28 |     if (typeof define === 'function' && define.amd) {
 29 |         // AMD. Register as an anonymous module.
 30 |         // istanbul ignore next
 31 |         define(['jquery', 'jquery.terminal'], factory);
 32 |     } else if (typeof module === 'object' && module.exports) {
 33 |         // Node/CommonJS
 34 |         module.exports = function(root, jQuery) {
 35 |             if (jQuery === undefined) {
 36 |                 // require('jQuery') returns a factory that requires window to
 37 |                 // build a jQuery instance, we normalize how we use modules
 38 |                 // that require this pattern but the window provided is a noop
 39 |                 // if it's defined (how jquery works)
 40 |                 if (window !== undefined) {
 41 |                     jQuery = require('jquery');
 42 |                 } else {
 43 |                     jQuery = require('jquery')(root);
 44 |                 }
 45 |             }
 46 |             if (!jQuery.fn.terminal) {
 47 |                 if (window !== undefined) {
 48 |                     require('jquery.terminal');
 49 |                 } else {
 50 |                     require('jquery.terminal')(jQuery);
 51 |                 }
 52 |             }
 53 |             factory(jQuery);
 54 |             return jQuery;
 55 |         };
 56 |     } else {
 57 |         // Browser
 58 |         // istanbul ignore next
 59 |         factory(root.jQuery, root.Prism);
 60 |     }
 61 | })(function($, undefined) {
 62 |     // https://2ality.com/2013/09/javascript-unicode.html
 63 |     function toUTF16(codePoint) {
 64 |         var TEN_BITS = parseInt('1111111111', 2);
 65 |         function u(codeUnit) {
 66 |             return '\\u' + codeUnit.toString(16).toUpperCase();
 67 |         }
 68 | 
 69 |         if (codePoint <= 0xFFFF) {
 70 |             return u(codePoint);
 71 |         }
 72 |         codePoint -= 0x10000;
 73 | 
 74 |         // Shift right to get to most significant 10 bits
 75 |         var leadSurrogate = 0xD800 + (codePoint >> 10);
 76 | 
 77 |         // Mask to get least significant 10 bits
 78 |         var tailSurrogate = 0xDC00 + (codePoint & TEN_BITS);
 79 | 
 80 |         return u(leadSurrogate) + u(tailSurrogate);
 81 |     }
 82 |     // compare two arrays of numbers
 83 |     function compare_nums(a, b) {
 84 |         for (var i = 0; i < a.length; ++i) {
 85 |             if (a[1] === undefined) {
 86 |                 return 1;
 87 |             }
 88 |             if (b[i] === undefined) {
 89 |                 return -1;
 90 |             }
 91 |             if (a[i] > b[i]) {
 92 |                 return -1;
 93 |             } else if (a[i] < b[i]) {
 94 |                 return 1;
 95 |             }
 96 |         }
 97 |         return 0;
 98 |     }
 99 |     function make_formatter(unified, short_name) {
100 |         var unicode = unified.split('-').map(function(u) {
101 |             var x = parseInt(u, 16);
102 |             if (x > 0xFFFF) {
103 |                 return toUTF16(x);
104 |             }
105 |             return '\\u' + u;
106 |         }).join('');
107 |         var re = new RegExp('(' + unicode + ')', 'g');
108 |         return [re, '[[;;;emoji ' + short_name + ']☺]'];
109 |     }
110 |     // create array of numbers out of unified field
111 |     function parse_unified(str) {
112 |         return str.split('-').map(function(num) {
113 |             return parseInt(num, 16);
114 |         });
115 |     }
116 |     // emoji_data param need to be JavaScript object from
117 |     // https://unpkg.com/emoji-datasource-twitter/emoji.json
118 |     $.terminal.emoji = function(emoji_data) {
119 |         var text = {};
120 |         var names = [];
121 |         emoji_data.forEach(function(emoji) {
122 |             if (emoji.text && !text[emoji.text]) {
123 |                 text[emoji.text] = emoji.short_name;
124 |             }
125 |             names.push(emoji.short_name);
126 |         });
127 |         // new API from version 1.10.0, old one with function will still work but
128 |         // if you need to use replacement that change length of the input text
129 |         // you need to use [regex, str] or function formatter where you use
130 |         // $.terminal.tracking_replace that returns [string, position] the same
131 |         // should be returned by formatter, optionally you can check if options
132 |         // have position
133 |         $.terminal.defaults.formatters.push([
134 |             new RegExp(':(' + names.map(function(name) {
135 |                 return $.terminal.escape_regex(name);
136 |             }).join('|') + '):', 'g'),
137 |             '[[;;;emoji $1]☺]'
138 |         ]);
139 |         Object.keys(text).forEach(function(name) {
140 |             $.terminal.defaults.formatters.push([
141 |                 new RegExp($.terminal.escape_regex(name), 'g'),
142 |                 '[[;;;emoji ' + text[name] + ']☺]'
143 |             ]);
144 |         });
145 |         for (var i = 0; i < emoji_data.length; ++i) {
146 |             var emoji = emoji_data[i];
147 |             emoji.sort = parse_unified(emoji.unified);
148 |         }
149 |         emoji_data = emoji_data.sort(function(a, b) {
150 |             return compare_nums(a.sort, b.sort);
151 |         });
152 |         var formatters = [];
153 |         emoji_data.forEach(function(emoji) {
154 |             formatters.push(make_formatter(emoji.unified, emoji.short_name));
155 |             if (emoji.skin_variations) {
156 |                 var variations = Object.keys(emoji.skin_variations).map(function(key, i) {
157 |                     var unified = emoji.skin_variations[key].unified;
158 |                     var short_name = emoji.short_name + '-var-' + i;
159 |                     return make_formatter(unified, short_name);
160 |                 });
161 |                 formatters = formatters.concat(variations);
162 |             }
163 |         });
164 |         // this is unicode emoji handling
165 |         $.terminal.defaults.formatters.push(function(string, options) {
166 |             return $.terminal.apply_formatters(string, $.extend(options, {
167 |                 formatters: formatters
168 |             }));
169 |         });
170 |     };
171 | });
172 | 


--------------------------------------------------------------------------------
/js/figlet.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * This is wrapper over Figlet.js library by patorjk
 11 |  *
 12 |  * Copyright (c) 2024-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define */
 17 | (function(factory, undefined) {
 18 |     if (typeof module === 'object' && module.exports) {
 19 |         // Node/CommonJS
 20 |         module.exports = function(root, jQuery) {
 21 |             if (jQuery === undefined) {
 22 |                 // require('jQuery') returns a factory that requires window to
 23 |                 // build a jQuery instance, we normalize how we use modules
 24 |                 // that require this pattern but the window provided is a noop
 25 |                 // if it's defined (how jquery works)
 26 |                 if (window !== undefined) {
 27 |                     jQuery = require('jquery');
 28 |                 } else {
 29 |                     jQuery = require('jquery')(root);
 30 |                 }
 31 |             }
 32 |             if (!jQuery.fn.terminal) {
 33 |                 if (window !== undefined) {
 34 |                     require('jquery.terminal');
 35 |                 } else {
 36 |                     require('jquery.terminal')(jQuery);
 37 |                 }
 38 |             }
 39 |             const figlet = require('figlet');
 40 |             factory(jQuery, figlet);
 41 |             return jQuery;
 42 |         };
 43 |     } else {
 44 |         // Browser
 45 |         // istanbul ignore next
 46 |         factory(jQuery, figlet);
 47 |     }
 48 | })(function($, figlet) {
 49 |     if (!$) {
 50 |         throw new Error('jQuery Not defined');
 51 |     }
 52 |     if (!$.terminal) {
 53 |         throw new Error('$.terminal is not defined');
 54 |     }
 55 | 
 56 |     $.terminal.figlet = function(font, text, { color = null, ...options } = {}) {
 57 |         return function() {
 58 |             const cols = this.cols();
 59 |             let result = figlet.textSync(text, {
 60 |                 font: font,
 61 |                 width: cols,
 62 |                 whitespaceBreak: true,
 63 |                 ...options
 64 |             });
 65 |             result = trim(result);
 66 |             if (color === null) {
 67 |                 return result;
 68 |             }
 69 |             return '[[;' + color + ';]' + result + ']';
 70 |         };
 71 |     };
 72 | 
 73 |     const fontpath = 'https://cdn.jsdelivr.net/npm/figlet/fonts';
 74 | 
 75 |     $.terminal.figlet.load = (function() {
 76 |         const installed = [];
 77 |         return function(fonts, fontPath = fontpath) {
 78 |             if (all_include(fonts, installed)) {
 79 |                 return Promise.resolve();
 80 |             }
 81 |             let last_path;
 82 |             return new Promise(resolve => {
 83 |                 if (last_path !== fontPath) {
 84 |                     last_path = fontPath;
 85 |                     figlet.defaults({ fontPath });
 86 |                 }
 87 |                 figlet.preloadFonts(fonts, () => {
 88 |                     installed.push(...fonts);
 89 |                     resolve();
 90 |                 });
 91 |             });
 92 |         };
 93 |     })();
 94 | 
 95 |     function all_include(items, list) {
 96 |         return items.every(item => list.includes(item));
 97 |     }
 98 | 
 99 |     function trim(str) {
100 |         return str.replace(/[\s\n]+$/, '').replace(/^\s+\n/, '');
101 |     }
102 | });
103 | 


--------------------------------------------------------------------------------
/js/forms.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * This file is part of jQuery Terminal that creates interactive forms
 11 |  *
 12 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define, Promise */
 17 | (function(factory) {
 18 |     var root;
 19 |     if (typeof window !== 'undefined') {
 20 |         root = window;
 21 |     } else if (typeof self !== 'undefined') {
 22 |         root = self;
 23 |     } else if (typeof global !== 'undefined') {
 24 |         root = global;
 25 |     } else {
 26 |         throw new Error('Unknow context');
 27 |     }
 28 |     if (typeof define === 'function' && define.amd) {
 29 |         // AMD. Register as an anonymous module.
 30 |         // istanbul ignore next
 31 |         define(['jquery', 'jquery.terminal'], factory);
 32 |     } else if (typeof module === 'object' && module.exports) {
 33 |         // Node/CommonJS
 34 |         module.exports = function(root, jQuery) {
 35 |             if (jQuery === undefined) {
 36 |                 // require('jQuery') returns a factory that requires window to
 37 |                 // build a jQuery instance, we normalize how we use modules
 38 |                 // that require this pattern but the window provided is a noop
 39 |                 // if it's defined (how jquery works)
 40 |                 if (typeof window !== 'undefined') {
 41 |                     jQuery = require('jquery');
 42 |                 } else {
 43 |                     jQuery = require('jquery')(root);
 44 |                 }
 45 |             }
 46 |             if (!jQuery.fn.terminal) {
 47 |                 if (typeof window !== 'undefined') {
 48 |                     require('jquery.terminal');
 49 |                 } else {
 50 |                     require('jquery.terminal')(jQuery);
 51 |                 }
 52 |             }
 53 |             factory(jQuery);
 54 |             return jQuery;
 55 |         };
 56 |     } else {
 57 |         // Browser
 58 |         // istanbul ignore next
 59 |         factory(root.jQuery);
 60 |     }
 61 | })(function($) {
 62 |     $.terminal.forms = {
 63 |         types: {
 64 |             input: 'input',
 65 |             password: 'password',
 66 |             boolean: 'boolean',
 67 |             checkboxes: 'checkboxes',
 68 |             radio: 'radio'
 69 |         },
 70 |         form: async function(term, data) {
 71 |             var result = {};
 72 |             var types = $.terminal.forms.types;
 73 |             while (data.length) {
 74 |                 var item = data.shift();
 75 |                 const {type, name} = item;
 76 |                 if (type && types[type]) {
 77 |                     if (item.message) {
 78 |                         term.echo(item.message);
 79 |                     }
 80 |                     result[name] = await this[types[type]](term, item);
 81 |                 }
 82 |             }
 83 |             return result;
 84 |         },
 85 |         checkboxes: function(term, data) {
 86 |             return checkboxes(term, data.items);
 87 |         },
 88 |         radio: function(term, data) {
 89 |             return select(term, data.items);
 90 |         },
 91 |         boolean: function(term, data) {
 92 |             var prompt = data.prompt || '> ';
 93 |             var items = [/y|yes/i, /n|no/i];
 94 |             if (Array.isArray(data.items) && data.items.length === 2) {
 95 |                 items = data.items;
 96 |             }
 97 |             return new Promise(resolve => {
 98 |                 term.push(function(str) {
 99 |                     var value;
100 |                     if (str.match(items[0])) {
101 |                         value = true;
102 |                     } else if (str.match(items[1])) {
103 |                         value = false;
104 |                     }
105 |                     if (typeof value !== 'undefined') {
106 |                         term.pop();
107 |                         resolve(value);
108 |                     }
109 |                 }, {
110 |                     prompt
111 |                 });
112 |             });
113 |         },
114 |         password: function(term, data) {
115 |             term.set_mask(true);
116 |             return this.input(term, data).then((result) => {
117 |                 term.set_mask(false);
118 |                 return result;
119 |             });
120 |         },
121 |         input: function(term, data) {
122 |             var prompt = data.prompt || '> ';
123 |             return new Promise((resolve, reject) => {
124 |                 term.push(function(str) {
125 |                     this.pop();
126 |                     resolve(str);
127 |                 }, {
128 |                     prompt,
129 |                     keymap: {
130 |                         'CTRL+D': reject
131 |                     }
132 |                 });
133 |             });
134 |         }
135 |     };
136 |     // -------------------------------------------------------------------------
137 |     function select(term, data) {
138 |         return new Promise((resolve) => {
139 |             var index = term.last_index();
140 |             var selection = 0;
141 |             var keys, values;
142 |             if (data instanceof Array) {
143 |                 keys = values = data;
144 |             } else if (data && typeof data === 'object') {
145 |                 keys = Object.keys(data);
146 |                 values = keys.map(key => data[key]);
147 |             }
148 |             function render(selection) {
149 |                 // align with checkboxes
150 |                 return keys.map((label, i) => {
151 |                     return `   <bold>${i === selection ? '(o)' : '( )'}</bold>: ${label}`;
152 |                 }).join('\n');
153 |             }
154 |             term.echo(render(selection));
155 | 
156 |             term.push($.noop, {
157 |                 prompt: '',
158 |                 keypress: function(e) {
159 |                     if (!e.key.match(/Up|Down/i) && e.key.toLowerCase() !== 'enter') {
160 |                         return false;
161 |                     }
162 |                 },
163 |                 keymap: {
164 |                     ENTER: function() {
165 |                         this.pop();
166 |                         resolve(values[selection]);
167 |                     },
168 |                     ARROWUP: function() {
169 |                         if (selection > 0) {
170 |                             selection--;
171 |                             this.update(index + 1, render(selection), {});
172 |                         }
173 |                     },
174 |                     ARROWDOWN: function() {
175 |                         if (selection < values.length - 1) {
176 |                             selection++;
177 |                             this.update(index + 1, render(selection), {});
178 |                         }
179 |                     }
180 |                 }
181 |             });
182 |         });
183 |     }
184 |     // -------------------------------------------------------------------------
185 |     function checkboxes(term, data) {
186 |         return new Promise((resolve) => {
187 |             var index = term.last_index();
188 |             var selection = [];
189 |             var cursor = 0;
190 |             var keys, values;
191 |             if (data instanceof Array) {
192 |                 keys = values = data;
193 |             } else if (data && typeof data === 'object') {
194 |                 keys = Object.keys(data);
195 |                 values = keys.map(key => data[key]);
196 |             }
197 |             function render(cursor, selection) {
198 |                 return keys.map((label, i) => {
199 |                     const prefix = cursor === i ? '=>' : '  ';
200 |                     const selected = selection.includes(i);
201 |                     const checkbox = selected ? '&#91;x&#93;' : '&#91; &#93;';
202 |                     return `${prefix} <bold>${checkbox}</bold>: ${label}`;
203 |                 }).join('\n');
204 |             }
205 |             term.echo(render(cursor, selection));
206 | 
207 |             term.push($.noop, {
208 |                 prompt: '',
209 |                 keypress: function(e) {
210 |                     if (!e.key.match(/Up|Down/i) &&
211 |                         !['enter', ' '].includes(e.key.toLowerCase())) {
212 |                         return false;
213 |                     }
214 |                 },
215 |                 keymap: {
216 |                     ENTER: function() {
217 |                         this.pop();
218 |                         resolve(values.filter((_, i) => selection.includes(i)));
219 |                     },
220 |                     ' ': function() {
221 |                         if (selection.includes(cursor)) {
222 |                             selection = selection.filter(x => x !== cursor);
223 |                         } else {
224 |                             selection.push(cursor);
225 |                         }
226 |                         this.update(index + 1, render(cursor, selection));
227 |                         return false;
228 |                     },
229 |                     ARROWUP: function() {
230 |                         if (cursor > 0) {
231 |                             cursor--;
232 |                             this.update(index + 1, render(cursor, selection));
233 |                         }
234 |                     },
235 |                     ARROWDOWN: function() {
236 |                         if (cursor < values.length - 1) {
237 |                             cursor++;
238 |                             this.update(index + 1, render(cursor, selection));
239 |                         }
240 |                     }
241 |                 }
242 |             });
243 |         });
244 |     }
245 |     // -------------------------------------------------------------------------
246 |     $.terminal.new_formatter([
247 |         /<bold>(.*?)<\/bold>/g, '[[;rgba(256,256,256,0.99);]$1]'
248 |     ]);
249 | });
250 | 


--------------------------------------------------------------------------------
/js/jquery.mousewheel-min.js:
--------------------------------------------------------------------------------
1 | (function(c){function g(a){var b=a||window.event,i=[].slice.call(arguments,1),e=0,h=0,f=0;a=c.event.fix(b);a.type="mousewheel";if(b.wheelDelta)e=b.wheelDelta/120;if(b.detail)e=-b.detail/3;f=e;if(b.axis!==undefined&&b.axis===b.HORIZONTAL_AXIS){f=0;h=-1*e}if(b.wheelDeltaY!==undefined)f=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)h=-1*b.wheelDeltaX/120;i.unshift(a,e,h,f);return(c.event.dispatch||c.event.handle).apply(this,i)}var d=["DOMMouseScroll","mousewheel"];if(c.event.fixHooks)for(var j=d.length;j;)c.event.fixHooks[d[--j]]=
2 | c.event.mouseHooks;c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],g,false);else this.onmousewheel=g},teardown:function(){if(this.removeEventListener)for(var a=d.length;a;)this.removeEventListener(d[--a],g,false);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
3 | 


--------------------------------------------------------------------------------
/js/prism.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * this is utility that monkey patch Prism functions to output
 11 |  * terminal formatting (it was first created here https://codepen.io/jcubic/pen/zEyxjJ)
 12 |  *
 13 |  * usage:
 14 |  *
 15 |  *     you need to include both css and js (it need to be before this file)
 16 |  *
 17 |  * js code:
 18 |  *
 19 |  *     code = $.terminal.escape_brackets(code);
 20 |  *     code = $.terminal.prism(language, code);
 21 |  *
 22 |  *     term.echo(code); // or term.less(code) if you include less.js
 23 |  *
 24 |  * you can also use helper that will create formatter
 25 |  *
 26 |  *     $.terminal.syntax(language);
 27 |  *
 28 |  * there is one extra language 'website' that format html with script and style tags
 29 |  *
 30 |  * by default only javascript markup and css languages are defined (also file extension
 31 |  * for them. To have more languages you need to include appropriate js files.
 32 |  *
 33 |  * Copyright (c) 2018-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 34 |  * Released under the MIT license
 35 |  *
 36 |  */
 37 | /* global define */
 38 | (function(factory, undefined) {
 39 |     var root;
 40 |     if (typeof window !== 'undefined') {
 41 |         root = window;
 42 |     } else if (typeof self !== 'undefined') {
 43 |         root = self;
 44 |     } else if (typeof global !== 'undefined') {
 45 |         root = global;
 46 |     } else {
 47 |         throw new Error('Unknow context');
 48 |     }
 49 |     if (typeof define === 'function' && define.amd) {
 50 |         // AMD. Register as an anonymous module.
 51 |         // istanbul ignore next
 52 |         define(['jquery', 'prismjs', 'jquery.terminal'], factory);
 53 |     } else if (typeof module === 'object' && module.exports) {
 54 |         // Node/CommonJS
 55 |         module.exports = function(root, jQuery, Prism) {
 56 |             if (Prism === undefined) {
 57 |                 Prism = require('prismjs');
 58 |             }
 59 |             if (jQuery === undefined) {
 60 |                 // require('jQuery') returns a factory that requires window to
 61 |                 // build a jQuery instance, we normalize how we use modules
 62 |                 // that require this pattern but the window provided is a noop
 63 |                 // if it's defined (how jquery works)
 64 |                 if (window !== undefined) {
 65 |                     jQuery = require('jquery');
 66 |                 } else {
 67 |                     jQuery = require('jquery')(root);
 68 |                 }
 69 |             }
 70 |             if (!jQuery.fn.terminal) {
 71 |                 if (window !== undefined) {
 72 |                     require('jquery.terminal');
 73 |                 } else {
 74 |                     require('jquery.terminal')(jQuery);
 75 |                 }
 76 |             }
 77 |             factory(jQuery, Prism);
 78 |             return jQuery;
 79 |         };
 80 |     } else {
 81 |         // Browser
 82 |         // istanbul ignore next
 83 |         factory(root.jQuery, root.Prism);
 84 |     }
 85 | })(function($, Prism) {
 86 |     if (!$) {
 87 |         throw new Error('jQuery Not defined');
 88 |     }
 89 |     if (!$.terminal) {
 90 |         throw new Error('$.terminal is not defined');
 91 |     }
 92 |     if (typeof Prism === 'undefined') {
 93 |         throw new Error('PrismJS not defined');
 94 |     }
 95 |     var Token = Prism.Token;
 96 |     var _ = $.extend({}, Prism);
 97 | 
 98 |     _.Token = function() {
 99 |         Token.apply(this, [].slice.call(arguments));
100 |     };
101 |     _.Token.stringify = function(o, language, parent) {
102 |         if (typeof o === 'string') {
103 |             return o;
104 |         }
105 | 
106 |         if (_.util.type(o) === 'Array') {
107 |             return o.map(function(element) {
108 |                 return _.Token.stringify(element, language, o);
109 |             }).join('');
110 |         }
111 | 
112 |         var env = {
113 |             content: _.Token.stringify(o.content, language, parent),
114 |             tag: 'span',
115 |             classes: ['token', o.type],
116 |             attributes: {},
117 |             language: language,
118 |             parent: parent
119 |         };
120 | 
121 |         if (env.type === 'comment') {
122 |             env.attributes['spellcheck'] = 'true';
123 |         }
124 | 
125 |         if (o.alias) {
126 |             var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];
127 |             Array.prototype.push.apply(env.classes, aliases);
128 |         }
129 | 
130 |         _.hooks.run('wrap', env);
131 | 
132 |         return env.content.split(/\n/).map(function(content) {
133 |             if (content) {
134 |                 // escape nested non formatting
135 |                 // so you can use like <script>alert("[[;red;]xxxx]");</script>
136 |                 var parts = content.split(format_split_re).filter(Boolean);
137 |                 content = parts.map(function(string) {
138 |                     if (!string.match(/^\x00/)) {
139 |                         return $.terminal.escape_brackets(string).replace(/\\/g, '&#92;');
140 |                     }
141 |                     return string;
142 |                 }).join('');
143 |                 return '\x00\x00\x00\x00[[b;;;' + env.classes.join(' ') + ']' +
144 |                     content + '\x00\x00\x00\x00]';
145 |             }
146 |             return '';
147 |         }).join('\n');
148 |     };
149 |     // we use 0x00 character so we know which one of the formatting came from prism
150 |     // so we can escape the reset because we unescape original values, the values
151 |     // need to be escape in cmd plugin so you can't type in formatting
152 |     /* eslint-disable */
153 |     var format_split_re = /(\x00\x00\x00\x00(?:\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]\\]*(\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?|\]))/i;
154 |     /* eslint-enable */
155 |     function no_target(options) {
156 |         if (!options) {
157 |             return true;
158 |         }
159 |         return Object.keys(options).length === 1 && 'position' in options;
160 |     }
161 |     function should_render(options) {
162 |         if (no_target(options)) {
163 |             return true;
164 |         }
165 |         var props = Object.keys($.terminal.prism_formatters);
166 |         for (var i = props.length; i--;) {
167 |             var prop = props[i];
168 |             if (options[prop] === true && $.terminal.prism_formatters[prop] === true) {
169 |                 return true;
170 |             }
171 |         }
172 |         return false;
173 |     }
174 |     $.terminal.prism = function prism(language, string, options) {
175 |         if (!should_render(options)) {
176 |             return string;
177 |         }
178 |         if (language === 'website') {
179 |             var re = /(<\/?\s*(?:script|style)[^>]*>)/g;
180 |             var style;
181 |             var script;
182 |             return string.split(re).filter(Boolean).map(function(string) {
183 |                 if (script) {
184 |                     script = false;
185 |                     return $.terminal.prism('javascript', string);
186 |                 } else if (style) {
187 |                     style = false;
188 |                     return $.terminal.prism('css', string);
189 |                 }
190 |                 if (string.match(/^<script/)) {
191 |                     script = true;
192 |                 } else if (string.match(/^<style/)) {
193 |                     style = true;
194 |                 }
195 |                 return $.terminal.prism('html', string);
196 |             }).join('');
197 |         }
198 |         if (language && _.languages[language]) {
199 |             string = $.terminal.unescape_brackets(string);
200 |             var env = {
201 |                 code: string,
202 |                 grammar: _.languages[language],
203 |                 language: language
204 |             };
205 |             _.hooks.run('before-tokenize', env);
206 |             env.tokens = _.tokenize(env.code, env.grammar);
207 |             _.hooks.run('after-tokenize', env);
208 |             string = _.Token.stringify(env.tokens, env.language);
209 |             string = string.split(format_split_re).filter(Boolean).map(function(string) {
210 |                 if (string.match(/^\x00/)) {
211 |                     return string.replace(/\x00/g, '');
212 |                 }
213 |                 return $.terminal.escape_brackets(string);
214 |             }).join('');
215 |         }
216 |         return string;
217 |     };
218 |     $.terminal.prism_formatters = {
219 |         echo: true,
220 |         animation: true,
221 |         command: true
222 |     };
223 |     $.terminal.syntax = function syntax(language) {
224 |         // we create function with name so we will see it in developer tools
225 |         // we bind jQuery as argument so it will work when jQuery with noConflict
226 |         // is added after this script
227 |         var name = 'syntax_' + language;
228 |         var fn = new Function('$', 'return function ' + name +
229 |                               '(string, options) { return $.terminal.prism("' + language +
230 |                               '", string, options); }')($);
231 |         fn.__no_warn__ = true;
232 |         var formatters = $.terminal.defaults.formatters;
233 |         $.terminal.defaults.formatters = formatters.filter(function(formatter) {
234 |             if (typeof formatter !== 'function') {
235 |                 return true;
236 |             }
237 |             return formatter.name !== name;
238 |         });
239 |         // disable warning because it may create nested formatting
240 |         $.terminal.new_formatter(fn);
241 |     };
242 | });
243 | 


--------------------------------------------------------------------------------
/js/terminal.widget.in:
--------------------------------------------------------------------------------
 1 | /**@license
 2 |  *       __ _____                     ________                              __
 3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 7 |  *           \/              /____/                              version {{VER}}
 8 |  *
 9 |  * This file is part of jQuery Terminal. https://terminal.jcubic.pl
10 |  *
11 |  * Copyright (c) 2010-2025 Jakub T. Jankiewicz <https://jcubic.pl/me>
12 |  * Released under the MIT license
13 |  */
14 | /* global jQuery */
15 | (function() {
16 |     function get(url) {
17 |         var element;
18 |         if (url.match(/css$/)) {
19 |             element = document.createElement('link');
20 |             element.setAttribute('href', url);
21 |             element.setAttribute('rel', 'stylesheet');
22 |         } else if (url.match(/js$/)) {
23 |             element = document.createElement('script');
24 |             element.setAttribute('src', url);
25 |         }
26 |         console.log(element);
27 |         return new Promise(function(resolve, reject) {
28 |             console.log(element);
29 |             if (element) {
30 |                 element.onload = resolve;
31 |                 var head = document.querySelector('head');
32 |                 head.appendChild(element);
33 |             } else {
34 |                 reject();
35 |             }
36 |         });
37 |     }
38 |     var terminals = window.terminals || [];
39 |     if (typeof jQuery === 'undefined') {
40 |         get('http://code.jquery.com/jquery-3.5.0.min.js').then(function() {
41 |             jQuery.noConflict();
42 |             get('https://cdnjs.cloudflare.com/ajax/libs/jquery.terminal/{{VER}}/css/jquery.terminal.min.css');
43 |             return get('https://cdnjs.cloudflare.com/ajax/libs/jquery.terminal/{{VER}}/js/jquery.terminal.min.js');
44 |         }).then(function() {
45 |             terminals.forEach(function(spec) {
46 |                 jQuery.fn.terminal.apply(jQuery(spec[0]), spec.slice(1));
47 |             });
48 |         });
49 |     }
50 | })();
51 | 


--------------------------------------------------------------------------------
/js/terminal.widget.js:
--------------------------------------------------------------------------------
 1 | /**@license
 2 |  *       __ _____                     ________                              __
 3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 7 |  *           \/              /____/                              version 2.45.2
 8 |  *
 9 |  * This file is part of jQuery Terminal. https://terminal.jcubic.pl
10 |  *
11 |  * Copyright (c) 2010-2025 Jakub T. Jankiewicz <https://jcubic.pl/me>
12 |  * Released under the MIT license
13 |  */
14 | /* global jQuery */
15 | (function() {
16 |     function get(url) {
17 |         var element;
18 |         if (url.match(/css$/)) {
19 |             element = document.createElement('link');
20 |             element.setAttribute('href', url);
21 |             element.setAttribute('rel', 'stylesheet');
22 |         } else if (url.match(/js$/)) {
23 |             element = document.createElement('script');
24 |             element.setAttribute('src', url);
25 |         }
26 |         console.log(element);
27 |         return new Promise(function(resolve, reject) {
28 |             console.log(element);
29 |             if (element) {
30 |                 element.onload = resolve;
31 |                 var head = document.querySelector('head');
32 |                 head.appendChild(element);
33 |             } else {
34 |                 reject();
35 |             }
36 |         });
37 |     }
38 |     var terminals = window.terminals || [];
39 |     if (typeof jQuery === 'undefined') {
40 |         get('http://code.jquery.com/jquery-3.5.0.min.js').then(function() {
41 |             jQuery.noConflict();
42 |             get('https://cdnjs.cloudflare.com/ajax/libs/jquery.terminal/2.45.2/css/jquery.terminal.min.css');
43 |             return get('https://cdnjs.cloudflare.com/ajax/libs/jquery.terminal/2.45.2/js/jquery.terminal.min.js');
44 |         }).then(function() {
45 |             terminals.forEach(function(spec) {
46 |                 jQuery.fn.terminal.apply(jQuery(spec[0]), spec.slice(1));
47 |             });
48 |         });
49 |     }
50 | })();
51 | 


--------------------------------------------------------------------------------
/js/xml_formatting.js:
--------------------------------------------------------------------------------
  1 | /**@license
  2 |  *       __ _____                     ________                              __
  3 |  *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  4 |  *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
  5 |  * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
  6 |  * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
  7 |  *           \/              /____/
  8 |  * http://terminal.jcubic.pl
  9 |  *
 10 |  * This is example of custom formatter for jQuery Terminal
 11 |  *
 12 |  * Copyright (c) 2014-2025 Jakub Jankiewicz <https://jcubic.pl/me>
 13 |  * Released under the MIT license
 14 |  *
 15 |  */
 16 | /* global define */
 17 | (function(factory) {
 18 |     var root;
 19 |     /* istanbul ignore next */
 20 |     if (typeof window !== 'undefined') {
 21 |         root = window;
 22 |     } else if (typeof self !== 'undefined') {
 23 |         root = self;
 24 |     } else if (typeof global !== 'undefined') {
 25 |         root = global;
 26 |     } else {
 27 |         throw new Error('Unknow context');
 28 |     }
 29 |     /* istanbul ignore next */
 30 |     if (typeof define === 'function' && define.amd) {
 31 |         // AMD. Register as an anonymous module.
 32 |         // istanbul ignore next
 33 |         define(['jquery', 'jquery.terminal'], factory);
 34 |     } else if (typeof module === 'object' && module.exports) {
 35 |         // Node/CommonJS
 36 |         module.exports = function(root, jQuery) {
 37 |             if (jQuery === undefined) {
 38 |                 // require('jQuery') returns a factory that requires window to
 39 |                 // build a jQuery instance, we normalize how we use modules
 40 |                 // that require this pattern but the window provided is a noop
 41 |                 // if it's defined (how jquery works)
 42 |                 if (typeof window !== 'undefined') {
 43 |                     jQuery = require('jquery');
 44 |                 } else {
 45 |                     jQuery = require('jquery')(root);
 46 |                 }
 47 |             }
 48 |             if (!jQuery.fn.terminal) {
 49 |                 if (typeof window !== 'undefined') {
 50 |                     require('jquery.terminal');
 51 |                 } else {
 52 |                     require('jquery.terminal')(jQuery);
 53 |                 }
 54 |             }
 55 |             factory(jQuery);
 56 |             return jQuery;
 57 |         };
 58 |     } else {
 59 |         // Browser
 60 |         // istanbul ignore next
 61 |         factory(root.jQuery);
 62 |     }
 63 | })(function($) {
 64 |     /* istanbul ignore next */
 65 |     if (!$.terminal) {
 66 |         throw new Error('$.terminal is not defined');
 67 |     }
 68 |     // this formatter allow to echo xml where tags are colors like:
 69 |     // <red>hello <navy>blue</navy> world</red>
 70 |     // it allso support special tags e.g. link, img or bold
 71 |     var tags = {
 72 |         font: function(attrs) {
 73 |             var styles = [];
 74 |             if ('size' in attrs) {
 75 |                 styles.push('--size:' + attrs.size);
 76 |             }
 77 |             if ('spacing' in attrs) {
 78 |                 styles.push('letter-spacing: ' + attrs.spacing);
 79 |             }
 80 |             var background = attrs.background || '';
 81 |             var color = attrs.color || '';
 82 |             var style = styles.length ? '{"style": "' + styles.join(';') + '"}' : '';
 83 |             return '[[;' + color + ';' + background + ';;;' + style + ']';
 84 |         },
 85 |         img: function(attrs) {
 86 |             var cls = attrs.class || '';
 87 |             var alt = attrs.alt || '';
 88 |             var src = attrs.src || '';
 89 |             delete attrs.alt;
 90 |             delete attrs.class;
 91 |             delete attrs.src;
 92 |             var formatting = ['@', '', '', cls, src, JSON.stringify(attrs)];
 93 |             return '[[' + formatting.join(';') + ']' + alt + ']';
 94 |         },
 95 |         bold: style('b'),
 96 |         overline: style('o'),
 97 |         strike: style('s'),
 98 |         underline: style('u'),
 99 |         glow: style('g'),
100 |         italic: style('i'),
101 |         reverse: style('r'),
102 |         span: function(attrs) {
103 |             var cls = attrs.class || '';
104 |             delete attrs.class;
105 |             var formatting = ['', '', '', cls, '', JSON.stringify(attrs)];
106 |             return '[[' + formatting.join(';') + ']';
107 |         },
108 |         link: function(attrs) {
109 |             var cls = attrs.class || '';
110 |             var href = attrs.href || '';
111 |             delete attrs.class;
112 |             delete attrs.href;
113 |             var formatting = ['!', '', '', cls, href, JSON.stringify(attrs)];
114 |             return '[[' + formatting.join(';') + ']';
115 |         }
116 |     };
117 |     function style(value) {
118 |         return function(attrs) {
119 |             var cls = attrs.class || '';
120 |             delete attrs.class;
121 |             var formatting = [value, '', '', cls, '', JSON.stringify(attrs)];
122 |             return '[[' + formatting.join(';') + ']';
123 |         };
124 |     }
125 |     // short aliases
126 |     tags.b = tags.bold;
127 |     tags.a = tags.link;
128 |     tags.i = tags.italic;
129 |     tags.r = tags.reverse;
130 |     var tag_re = /(<\/?\s*[a-zA-Z]+(?:\s?[^>]+)?>)/;
131 |     function no_target(options) {
132 |         if (!options) {
133 |             return true;
134 |         }
135 |         return Object.keys(options).length === 1 && 'position' in options;
136 |     }
137 |     function should_render(options) {
138 |         if (no_target(options)) {
139 |             return true;
140 |         }
141 |         for (var i = targets.length; i--;) {
142 |             var prop = targets[i];
143 |             if (options[prop] === true && $.terminal.xml_formatter[prop] === true) {
144 |                 return true;
145 |             }
146 |         }
147 |         return false;
148 |     }
149 |     function xml_formatter(string, options) {
150 |         if (!should_render(options)) {
151 |             return string;
152 |         }
153 |         return string.split(tag_re).map(function(string) {
154 |             if (string.match(tag_re)) {
155 |                 if (string[1] === '/') {
156 |                     return ']';
157 |                 }
158 |                 string = string.replace(/^<|>$/g, '');
159 |                 var m = string.match(/^([a-zA-Z]+)(?:\s*(.+))?/);
160 |                 if (!m) {
161 |                     // invalid XML
162 |                     return string;
163 |                 }
164 |                 var name = m[1].toLowerCase();
165 |                 var attrs = {};
166 |                 if (m[2]) {
167 |                     var string_attrs = m[2];
168 |                     var re = /([\w-]+)\s*=\s*"([^"]+)"/g;
169 |                     var match;
170 |                     while (match = re.exec(string_attrs)) {
171 |                         var attr_name = match[1];
172 |                         var value = match[2];
173 |                         attrs[attr_name] = value;
174 |                     }
175 |                 }
176 |                 if (tags[name]) {
177 |                     return tags[name](attrs);
178 |                 } else {
179 |                     var cls = attrs.class || '';
180 |                     var formatting = ['', name, '', cls, '', JSON.stringify(attrs)];
181 |                     return '[[' + formatting.join(';') + ']';
182 |                 }
183 |             }
184 |             return string.replace(/&lt;/g, '<').replace(/&gt;/g, '>');
185 |         }).join('');
186 |     }
187 |     xml_formatter.__no_warn__ = true;
188 |     xml_formatter.tags = tags;
189 | 
190 |     var targets = ['echo', 'prompt', 'animation', 'command'];
191 |     targets.forEach(function(target) {
192 |         xml_formatter[target] = true;
193 |     });
194 | 
195 |     $.terminal.defaults.allowedAttributes.push('style');
196 |     $.terminal.xml_formatter = xml_formatter;
197 |     $.terminal.new_formatter(xml_formatter);
198 | });
199 | 


--------------------------------------------------------------------------------
/manifest:
--------------------------------------------------------------------------------
 1 | {
 2 |     "name": "terminal",
 3 |     "title": "jQuery Terminal Emulator",
 4 |     "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
 5 |     "version": "{{VER}}",
 6 |     "keywords": [
 7 |         "terminal", "emulator", "prompt", "console", "keyboard", "type", "rpc", "input", "ui"
 8 |     ],
 9 |     "author": {
10 |         "name": "Jakub Jankiewicz",
11 |         "email": "jcubic@onet.pl",
12 |         "url": "http://jcubic.pl/me"
13 |     },
14 |     "licenses": [{
15 |         "type": "MIT",
16 |         "url": "http://opensource.org/licenses/MIT"
17 |     }],
18 |     "homepage": "http://terminal.jcubic.pl/",
19 |     "bugs": "https://github.com/jcubic/jquery.terminal/issues",
20 |     "demo": "http://terminal.jcubic.pl/#demo",
21 |     "docs": "http://terminal.jcubic.pl/api_reference.php",
22 |     "download": "https://github.com/jcubic/jquery.terminal/releases",
23 |     "dependencies": {
24 |         "jquery": ">=1.5"
25 |     }
26 | }
27 | 


--------------------------------------------------------------------------------
/package.json:
--------------------------------------------------------------------------------
  1 | {
  2 |   "name": "jquery.terminal",
  3 |   "version": "2.45.2",
  4 |   "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
  5 |   "main": "js/jquery.terminal.js",
  6 |   "typings": "js/jquery.terminal.d.ts",
  7 |   "keywords": [
  8 |     "terminal",
  9 |     "emulator",
 10 |     "prompt",
 11 |     "console",
 12 |     "keyboard",
 13 |     "linux",
 14 |     "unix",
 15 |     "bash",
 16 |     "typing",
 17 |     "type",
 18 |     "rpc",
 19 |     "input",
 20 |     "ui"
 21 |   ],
 22 |   "bin": {
 23 |     "from-ansi": "bin/convert.js"
 24 |   },
 25 |   "scripts": {
 26 |     "test": "make test"
 27 |   },
 28 |   "author": {
 29 |     "name": "Jakub T. Jankiewicz",
 30 |     "email": "jcubic@onet.pl",
 31 |     "url": "https://jcubic.pl/me"
 32 |   },
 33 |   "contributors": [
 34 |     {
 35 |       "name": "Jakub T. Jankiewicz",
 36 |       "url": "https://jakub.jankiewicz.org/"
 37 |     },
 38 |     {
 39 |       "name": "Riccardo Mura",
 40 |       "url": "https://github.com/cowuake"
 41 |     },
 42 |     {
 43 |       "name": "Jean-Michel Carrel",
 44 |       "url": "https://github.com/Neyxo"
 45 |     },
 46 |     {
 47 |       "name": "kid1412z",
 48 |       "url": "https://github.com/kid1412z"
 49 |     },
 50 |     {
 51 |       "name": "Marcel Link",
 52 |       "url": "https://github.com/ml1nk"
 53 |     },
 54 |     {
 55 |       "name": "Sébastien Warin",
 56 |       "url": "http://sebastien.warin.fr"
 57 |     },
 58 |     {
 59 |       "name": "Christopher John Ryan",
 60 |       "url": "https://github.com/ChrisJohnRyan"
 61 |     },
 62 |     {
 63 |       "name": "Johan",
 64 |       "url": "https://github.com/johanjordaan"
 65 |     },
 66 |     {
 67 |       "name": "Snyk bot",
 68 |       "url": "https://snyk.io"
 69 |     },
 70 |     {
 71 |       "name": "Florian Schäfer",
 72 |       "url": "https://github.com/fschaefer"
 73 |     },
 74 |     {
 75 |       "name": "Tomasz Ducin",
 76 |       "url": "ducin.dev"
 77 |     },
 78 |     {
 79 |       "name": "Qijia Liu",
 80 |       "url": "https://github.com/eagleoflqj"
 81 |     },
 82 |     {
 83 |       "name": "Ishan Ratnapala",
 84 |       "url": "https://github.com/IshanRatnapala"
 85 |     },
 86 |     {
 87 |       "name": "David Refoua",
 88 |       "url": "http://www.refoua.me"
 89 |     },
 90 |     {
 91 |       "name": "Antoine",
 92 |       "url": "https://github.com/antoineol"
 93 |     },
 94 |     {
 95 |       "name": "youurayy",
 96 |       "url": "https://github.com/youurayy"
 97 |     },
 98 |     {
 99 |       "name": "Steve Kirkegard",
100 |       "url": "https://www.linkedin.com/in/steve-kirkegard"
101 |     },
102 |     {
103 |       "name": "stereobooster",
104 |       "url": "https://stereobooster.com"
105 |     },
106 |     {
107 |       "name": "Dev Kumar Gupta",
108 |       "url": "https://github.com/mrkaiser"
109 |     },
110 |     {
111 |       "name": "dependabot[bot]",
112 |       "url": "https://github.com/dependabot[bot]"
113 |     },
114 |     {
115 |       "name": "coderaiser",
116 |       "url": "http://coderaiser.github.io"
117 |     },
118 |     {
119 |       "name": "Yutong Luo",
120 |       "url": "https://yutongluo.com"
121 |     },
122 |     {
123 |       "name": "Steve Phillips",
124 |       "url": "https://tryingtobeawesome.com/"
125 |     },
126 |     {
127 |       "name": "Robert W",
128 |       "url": "https://github.com/rbw"
129 |     },
130 |     {
131 |       "name": "exit1",
132 |       "url": "https://github.com/exit1"
133 |     },
134 |     {
135 |       "name": "Mateusz Paprocki",
136 |       "url": "https://github.com/mattpap"
137 |     },
138 |     {
139 |       "name": "Martin v. Löwis",
140 |       "url": "https://github.com/loewis"
141 |     },
142 |     {
143 |       "name": "KiddoV",
144 |       "url": "https://github.com/KiddoV"
145 |     },
146 |     {
147 |       "name": "Jon Steinich",
148 |       "url": "https://github.com/jsteinich"
149 |     },
150 |     {
151 |       "name": "John Jarvis",
152 |       "url": "http://www.jarv.org"
153 |     },
154 |     {
155 |       "name": "Jarry Shaw",
156 |       "url": "https://jarryshaw.me"
157 |     },
158 |     {
159 |       "name": "jpaye",
160 |       "url": "https://github.com/jpaye"
161 |     },
162 |     {
163 |       "name": "Hraban",
164 |       "url": "https://br0g.0brg.net"
165 |     },
166 |     {
167 |       "name": "Hasan",
168 |       "url": "juanpota.to"
169 |     },
170 |     {
171 |       "name": "finlob",
172 |       "url": "https://github.com/finlob"
173 |     },
174 |     {
175 |       "name": "Ezinne Anne Emilia",
176 |       "url": "linktr.ee/ezinneanne"
177 |     },
178 |     {
179 |       "name": "Anton Vasilev",
180 |       "url": "https://github.com/avdes"
181 |     },
182 |     {
183 |       "name": "Abdelrahman Omran",
184 |       "url": "https://omranic.com"
185 |     },
186 |     {
187 |       "name": "7twin",
188 |       "url": "https://github.com/7twin"
189 |     }
190 |   ],
191 |   "license": "MIT",
192 |   "repository": {
193 |     "type": "git",
194 |     "url": "git+https://github.com/jcubic/jquery.terminal.git"
195 |   },
196 |   "bugs": {
197 |     "url": "https://github.com/jcubic/jquery.terminal/issues"
198 |   },
199 |   "homepage": "https://terminal.jcubic.pl",
200 |   "eslintConfig": {
201 |     "parserOptions": {
202 |       "ecmaVersion": 5,
203 |       "sourceType": "script",
204 |       "ecmaFeatures": {}
205 |     },
206 |     "env": {
207 |       "browser": true,
208 |       "jasmine": true,
209 |       "node": true
210 |     },
211 |     "globals": {
212 |       "jQuery": true,
213 |       "sprintf": true,
214 |       "$": true,
215 |       "Symbol": true
216 |     },
217 |     "rules": {
218 |       "no-console": "error",
219 |       "eqeqeq": "error",
220 |       "curly": "error",
221 |       "no-unreachable": "error",
222 |       "valid-typeof": "error",
223 |       "no-unexpected-multiline": "error",
224 |       "no-regex-spaces": "error",
225 |       "no-irregular-whitespace": "error",
226 |       "no-invalid-regexp": "error",
227 |       "no-inner-declarations": "error",
228 |       "no-func-assign": "error",
229 |       "no-extra-semi": "error",
230 |       "no-extra-boolean-cast": "error",
231 |       "no-debugger": "error",
232 |       "no-dupe-args": "error",
233 |       "no-dupe-keys": "error",
234 |       "no-duplicate-case": "error",
235 |       "no-empty-character-class": "error",
236 |       "no-ex-assign": "error",
237 |       "array-callback-return": "error",
238 |       "no-case-declarations": "error",
239 |       "guard-for-in": "error",
240 |       "no-caller": "error",
241 |       "no-empty-function": "error",
242 |       "no-extend-native": "error",
243 |       "no-extra-bind": "error",
244 |       "no-fallthrough": "error",
245 |       "no-global-assign": "error",
246 |       "no-implicit-globals": "error",
247 |       "no-implied-eval": "error",
248 |       "no-multi-spaces": "error",
249 |       "no-new-wrappers": "error",
250 |       "no-redeclare": "error",
251 |       "no-self-assign": "error",
252 |       "no-return-assign": "error",
253 |       "no-self-compare": "error",
254 |       "no-throw-literal": "error",
255 |       "no-unused-labels": "error",
256 |       "no-useless-call": "error",
257 |       "no-useless-escape": "error",
258 |       "no-void": "error",
259 |       "no-with": "error",
260 |       "radix": "error",
261 |       "wrap-iife": [
262 |         "error",
263 |         "inside"
264 |       ],
265 |       "yoda": [
266 |         "error",
267 |         "never"
268 |       ],
269 |       "no-catch-shadow": "error",
270 |       "no-delete-var": "error",
271 |       "no-label-var": "error",
272 |       "no-undef-init": "error",
273 |       "no-unused-vars": "error",
274 |       "no-undef": "error",
275 |       "comma-style": [
276 |         "error",
277 |         "last"
278 |       ],
279 |       "comma-dangle": [
280 |         "error",
281 |         "never"
282 |       ],
283 |       "comma-spacing": [
284 |         "error",
285 |         {
286 |           "before": false,
287 |           "after": true
288 |         }
289 |       ],
290 |       "computed-property-spacing": [
291 |         "error",
292 |         "never"
293 |       ],
294 |       "eol-last": [
295 |         "error",
296 |         "always"
297 |       ],
298 |       "func-call-spacing": [
299 |         "error",
300 |         "never"
301 |       ],
302 |       "key-spacing": [
303 |         "error",
304 |         {
305 |           "beforeColon": false,
306 |           "afterColon": true,
307 |           "mode": "strict"
308 |         }
309 |       ],
310 |       "max-len": [
311 |         "error",
312 |         90
313 |       ],
314 |       "max-statements-per-line": "error",
315 |       "new-parens": "error",
316 |       "no-array-constructor": "error",
317 |       "no-lonely-if": "error",
318 |       "no-mixed-spaces-and-tabs": "error",
319 |       "no-multiple-empty-lines": "error",
320 |       "no-new-object": "error",
321 |       "no-tabs": "error",
322 |       "no-trailing-spaces": "error",
323 |       "no-whitespace-before-property": "error",
324 |       "object-curly-spacing": [
325 |         "error",
326 |         "never"
327 |       ],
328 |       "space-before-blocks": "error",
329 |       "keyword-spacing": [
330 |         "error",
331 |         {
332 |           "before": true,
333 |           "after": true
334 |         }
335 |       ],
336 |       "space-in-parens": [
337 |         "error",
338 |         "never"
339 |       ],
340 |       "space-infix-ops": "error",
341 |       "space-before-function-paren": [
342 |         "error",
343 |         "never"
344 |       ],
345 |       "complexity": [
346 |         "error",
347 |         {
348 |           "max": 30
349 |         }
350 |       ],
351 |       "indent": [
352 |         "error",
353 |         4,
354 |         {
355 |           "SwitchCase": 1
356 |         }
357 |       ],
358 |       "linebreak-style": [
359 |         "error",
360 |         "unix"
361 |       ],
362 |       "semi": [
363 |         "error",
364 |         "always"
365 |       ]
366 |     }
367 |   },
368 |   "dependencies": {
369 |     "@jcubic/lily": "^0.3.0",
370 |     "@types/jquery": "^3.5.29",
371 |     "ansidec": "^0.3.4",
372 |     "coveralls-next": "^4.2.1",
373 |     "iconv-lite": "^0.6.3",
374 |     "jquery": "^3.7.1",
375 |     "node-fetch": "^3.3.2",
376 |     "prismjs": "^1.30.0",
377 |     "wcwidth": "^1.0.1"
378 |   },
379 |   "devDependencies": {
380 |     "cssnano": "^5.1.5",
381 |     "emoji-datasource-twitter": "^14.0.0",
382 |     "eslint": "^8.11.0",
383 |     "gm": "^1.23.1",
384 |     "jest": "^29.7.0",
385 |     "jest-environment-jsdom": "^29.7.0",
386 |     "jsonlint-mod": "^1.7.6",
387 |     "postcss": "^8.4.12",
388 |     "typescript": "^4.6.2",
389 |     "uglify-js": "^3.15.3"
390 |   },
391 |   "optionalDependencies": {
392 |     "fsevents": "^2.3.2"
393 |   }
394 | }
395 | 


--------------------------------------------------------------------------------
/scripts/contributors.js:
--------------------------------------------------------------------------------
  1 | #!/usr/bin/env node
  2 | 
  3 | import https from 'https';
  4 | import path from 'path';
  5 | import fs from 'fs';
  6 | import fetch from 'node-fetch';
  7 | import lily from '@jcubic/lily';
  8 | 
  9 | const argv = lily(process.argv.slice(2));
 10 | 
 11 | function split_equal(array, length) {
 12 |     const result = [];
 13 |     const len = array.length;
 14 |     if (len < length) {
 15 |         return [array];
 16 |     } else if (length < 0) {
 17 |         throw new Error("split_equal: length can't be negative");
 18 |     }
 19 |     for (let i = 0; i < len; i += length) {
 20 |         result.push(array.slice(i, i + length));
 21 |     }
 22 |     return result;
 23 | }
 24 | 
 25 | function get(url, query) {
 26 |     const options = {
 27 |         headers: {
 28 |             'User-Agent': 'Node.js'
 29 |         }
 30 |     };
 31 | 
 32 |     if (argv.auth) {
 33 |         const [user, pass] = argv.auth.split(':');
 34 |         options.headers.Authorization = `Basic ${Buffer.from(`${user}:${pass}`).toString('base64')}`;
 35 |     }
 36 | 
 37 |     const queryString = new URLSearchParams(query).toString();
 38 | 
 39 |     if (queryString) {
 40 |         url = `${url}?${queryString}`;
 41 |     }
 42 | 
 43 |     return fetch(url, options).then(response => {
 44 |         if (response.ok) {
 45 |             return response.json();
 46 |         } else if (response.headers.get('x-ratelimit-remaining') === '0') {
 47 |             const date = new Date(parseInt(response.headers.get('x-ratelimit-reset')) * 1000);
 48 |             throw new Error('Rate limit util ' + date);
 49 |         } else {
 50 |             throw new Error('Error code ' + response.status);
 51 |         }
 52 |     });
 53 | }
 54 | 
 55 | function get_file(filename) {
 56 |     return new Promise(function(resolve, reject) {
 57 |         fs.readFile(filename, function(err, data) {
 58 |             if (err) {
 59 |                 reject(err);
 60 |             } else {
 61 |                 resolve(JSON.parse(data.toString()));
 62 |             }
 63 |         });
 64 |     });
 65 | }
 66 | 
 67 | function get_api(argv) {
 68 |     const user = argv.u;
 69 |     const repo = argv.r;
 70 |     const path = '/repos/' + user + '/' + repo + '/contributors';
 71 |     const query = {
 72 |         "per_page": 100
 73 |     };
 74 |     if (argv.t) {
 75 |         query['access_token'] = argv.t;
 76 |     }
 77 |     return get('https://api.github.com' + path, query).then(function(contributors) {
 78 |         return Promise.all(contributors.map(function(contributor) {
 79 |             const path = contributor.url.replace(/https:\/\/[^\/]+/, '');
 80 |             return get('https://api.github.com' + path, query).then(function(user) {
 81 |                 if (user.name || user.login) {
 82 |                     const object = {
 83 |                         name: user.name || user.login
 84 |                     };
 85 |                     if (user.email) {
 86 |                         object.email = user.email;
 87 |                     }
 88 |                     if (user.blog) {
 89 |                         object.url = user.blog;
 90 |                     } else {
 91 |                         object.url = "https://github.com/" + user.login
 92 |                     }
 93 |                     object.avatar = contributor.avatar_url;
 94 |                     object.login = user.login;
 95 |                     return object;
 96 |                 }
 97 |             });
 98 |         }).filter(Boolean));
 99 |     });
100 | }
101 | 
102 | 
103 | if (((argv.f && argv.m) || (argv.u && argv.r)) && argv.r) {
104 |     (argv.f ? get_file(argv.f) : get_api(argv)).then(function(contributors) {
105 |         if (argv.m) {
106 |             const split = split_equal(contributors, 7);
107 |             const align = new Array(split[0].length + 1).join('| :---: ') + ' |';
108 |             const rows = split.map(function(list) {
109 |                 return '| ' + list.map(function(contributor) {
110 |                     return '[<img src="' + contributor.avatar + '" width="100px;"/>' +
111 |                         '<br /><sub>' + contributor.name + '</sub>](' +
112 |                         contributor.url + ')<br>[commits](https://github.com/jcubic' +
113 |                         '/' + argv.r + '/commits?author=' + contributor.login + ')';
114 |                 }).join(' | ') + ' |';
115 |             });
116 |             rows.splice(1, 0, align);
117 |             console.log(rows.join('\n'));
118 |         } else {
119 |             console.log(JSON.stringify(contributors, null, 2));
120 |         }
121 |     }).catch(function(error) {
122 |         console.log('ERROR: ' + error);
123 |     });
124 | } else {
125 |     const script = path.basename(process.argv[1]);
126 |     console.log('usage: \n' + script + '-u <user> -r <repo> ' +
127 |                 '[--auth githubUsername:githubPassword] [-m]\n' +
128 |                 script + ' -f <json filename> -m');
129 | }
130 | 


--------------------------------------------------------------------------------
/scripts/contributors.mjs:
--------------------------------------------------------------------------------
  1 | #!/usr/bin/env node
  2 | 
  3 | import https from 'https';
  4 | import path from 'path';
  5 | import fs from 'fs';
  6 | import fetch from 'node-fetch';
  7 | import lily from '@jcubic/lily';
  8 | 
  9 | const argv = lily(process.argv.slice(2));
 10 | 
 11 | function split_equal(array, length) {
 12 |     var result = [];
 13 |     var len = array.length;
 14 |     if (len < length) {
 15 |         return [array];
 16 |     } else if (length < 0) {
 17 |         throw new Error("split_equal: length can't be negative");
 18 |     }
 19 |     for (var i = 0; i < len; i += length) {
 20 |         result.push(array.slice(i, i + length));
 21 |     }
 22 |     return result;
 23 | }
 24 | 
 25 | function get(url, query) {
 26 |     const options = {
 27 |         headers: {
 28 |             'User-Agent': 'Node.js'
 29 |         }
 30 |     };
 31 | 
 32 |     if (argv.auth) {
 33 |         const [user, pass] = argv.auth.split(':');
 34 |         options.headers.Authorization = `Basic ${Buffer.from(`${user}:${pass}`).toString('base64')}`;
 35 |     }
 36 | 
 37 |     const queryString = new URLSearchParams(query).toString();
 38 | 
 39 |     if (queryString) {
 40 |         url = `${url}?${queryString}`;
 41 |     }
 42 | 
 43 |     return fetch(url, options).then(response => {
 44 |         if (response.ok) {
 45 |             return response.json();
 46 |         } else if (response.headers.get('x-ratelimit-remaining') === '0') {
 47 |             const date = new Date(parseInt(response.headers.get('x-ratelimit-reset')) * 1000);
 48 |             throw new Error('Rate limit util ' + date);
 49 |         } else {
 50 |             throw new Error('Error code ' + response.status);
 51 |         }
 52 |     });
 53 | }
 54 | 
 55 | function get_file(filename) {
 56 |     return new Promise(function(resolve, reject) {
 57 |         fs.readFile(filename, function(err, data) {
 58 |             if (err) {
 59 |                 reject(err);
 60 |             } else {
 61 |                 resolve(JSON.parse(data.toString()));
 62 |             }
 63 |         });
 64 |     });
 65 | }
 66 | 
 67 | function get_api(argv) {
 68 |     var user = argv.u;
 69 |     var repo = argv.r;
 70 |     var path = '/repos/' + user + '/' + repo + '/contributors';
 71 |     var query = {
 72 |         "per_page": 100
 73 |     };
 74 |     if (argv.t) {
 75 |         query['access_token'] = argv.t;
 76 |     }
 77 |     return get('https://api.github.com' + path, query).then(function(contributors) {
 78 |         return Promise.all(contributors.map(function(contributor) {
 79 |             var path = contributor.url.replace(/https:\/\/[^\/]+/, '');
 80 |             return get('https://api.github.com' + path, query).then(function(user) {
 81 |                 if (user.name || user.login) {
 82 |                     var object = {
 83 |                         name: user.name || user.login
 84 |                     };
 85 |                     if (user.email) {
 86 |                         object.email = user.email;
 87 |                     }
 88 |                     if (user.blog) {
 89 |                         object.url = user.blog;
 90 |                     } else {
 91 |                         object.url = "https://github.com/" + user.login
 92 |                     }
 93 |                     object.avatar = contributor.avatar_url;
 94 |                     object.login = user.login;
 95 |                     return object;
 96 |                 }
 97 |             });
 98 |         }).filter(Boolean));
 99 |     });
100 | }
101 | 
102 | 
103 | if (((argv.f && argv.m) || (argv.u && argv.r)) && argv.r) {
104 |     (argv.f ? get_file(argv.f) : get_api(argv)).then(function(contributors) {
105 |         if (argv.m) {
106 |             var split = split_equal(contributors, 7);
107 |             var align = new Array(split[0].length + 1).join('| :---: ') + ' |';
108 |             var rows = split.map(function(list) {
109 |                 return '| ' + list.map(function(contributor) {
110 |                     return '[<img src="' + contributor.avatar + '" width="100px;"/>' +
111 |                         '<br /><sub>' + contributor.name + '</sub>](' +
112 |                         contributor.url + ')<br>[commits](https://github.com/jcubic' +
113 |                         '/' + argv.r + '/commits?author=' + contributor.login + ')';
114 |                 }).join(' | ') + ' |';
115 |             });
116 |             rows.splice(1, 0, align);
117 |             console.log(rows.join('\n'));
118 |         } else {
119 |             console.log(JSON.stringify(contributors, null, 2));
120 |         }
121 |     }).catch(function(error) {
122 |         console.log('ERROR: ' + error);
123 |     });
124 | } else {
125 |     var script = path.basename(process.argv[1]);
126 |     console.log('usage: \n' + script + '-u <user> -r <repo> ' +
127 |                 '[--auth githubUsername:githubPassword] [-m]\n' +
128 |                 script + ' -f <json filename> -m');
129 | }
130 | 


--------------------------------------------------------------------------------
/scripts/cssnano.js:
--------------------------------------------------------------------------------
 1 | #!/usr/bin/env node
 2 | 
 3 | var fs = require('fs');
 4 | var nano = require('cssnano')();
 5 | 
 6 | var input = process.argv[2];
 7 | var output = process.argv[3];
 8 | 
 9 | var options = {
10 |     preset: "default",
11 |     map: {
12 |         inline: false
13 |     },
14 |     discardUnused: false,
15 |     from: input,
16 |     to: output
17 | };
18 | 
19 | function error(err) {
20 |     if (err) {
21 |         if (err.message && typeof err.showSourceCode === 'function') {
22 |             console.error(err.message);
23 |             console.error(err.showSourceCode());
24 |         } else {
25 |             console.error(err);
26 |         }
27 |         process.exit(1);
28 |     }
29 | }
30 | 
31 | fs.readFile(input, function(err, buffer) {
32 |     nano.process(String(buffer), options).then(function(result) {
33 |         fs.writeFile(output, result.css, function(err) {
34 |             error(err);
35 |             fs.writeFile(output + '.map', result.map.toString(), error);
36 |         });
37 |     }).catch(error);
38 | });
39 | 


--------------------------------------------------------------------------------
/scripts/methods.js:
--------------------------------------------------------------------------------
 1 | #!/usr/bin/node
 2 | 
 3 | /*
 4 |  * script print terminal methods. it require esprima.
 5 |  *
 6 |  * To get list of functions, not covered by tests, use:
 7 |  *
 8 |  * methods | while read method; do
 9 |  *     grep $method spec/terminalSpec.js > /dev/null || echo $method;
10 |  * done
11 |  *
12 |  * if you want to find methods not in documentation use www/api_reference.php
13 |  * instead of spec/terminalSpec.js
14 |  */
15 | 
16 | var fs = require('fs');
17 | var esprima = require('esprima');
18 | 
19 | fs.readFile('js/jquery.terminal-src.js', function(err, file) {
20 |     var syntax = esprima.parse(file.toString());
21 |     traverse(syntax, function(obj) {
22 |         if (obj.callee && obj.callee.property && obj.callee.property.name == 'omap' &&
23 |             obj.callee.type == 'MemberExpression') {
24 |             var methods = [];
25 |             if (obj.arguments[0].properties) {
26 |                 obj.arguments[0].properties.map(function(prop) {
27 |                     console.log(prop.key.name);
28 |                 });
29 |                 return false;
30 |             }
31 |         }
32 |     });
33 |     function traverse(obj, fn) {
34 |         for (var key in obj) {
35 |             if (obj[key] !== null && fn(obj[key]) === false) {
36 |                 return false;
37 |             }
38 |             if (typeof obj[key] == 'object' && obj[key] !== null) {
39 |                 if (traverse(obj[key], fn) === false) {
40 |                     return false;
41 |                 }
42 |             }
43 |         }
44 |     }
45 | 
46 | });
47 | 


--------------------------------------------------------------------------------
/scripts/mkemoji:
--------------------------------------------------------------------------------
 1 | #!/usr/bin/env node
 2 | 
 3 | const http = require('https');
 4 | const url = require('url');
 5 | const emoji = require('emoji-datasource-twitter');
 6 | 
 7 | if (process.argv.length === 3) {
 8 |     console.log([
 9 |         '/*',
10 |         ' * Autogenerated by mkemoji script from jQuery Terminal',
11 |         ' * Copyright (C) Jakub T. Jankiewicz <https://jcubic.pl>',
12 |         ' * ship with version: ' + process.argv[2],
13 |         ' * build: ' + new Date().toUTCString(),
14 |         ' */'].join('\n'));
15 |     function make_emoji(class_name, url) {
16 |         var selector = [
17 |             '.terminal-output .emoji.' + class_name,
18 |             '.cmd .emoji.' + class_name].join(',');
19 |         return `${selector}{background-image:url(${url});}`;
20 |     }
21 |     var base = 'https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/';
22 |     emoji.map(function(emoji) {
23 |         var url = base + emoji.image;
24 |         // escape special characters in class name
25 |         // https://mathiasbynens.be/notes/css-escapes
26 |         var class_name = emoji.short_name.replace(/\+/g, '\\+')
27 |             .replace(/^(\d)/i, '\\3$1 ');
28 |         console.log(make_emoji(class_name, url));
29 |         if (emoji.skin_variations) {
30 |             Object.values(emoji.skin_variations).forEach((emoji, i) => {
31 |                 var url = base + emoji.image;
32 |                 var var_class_name = `${class_name}-var-${i}`;
33 |                 console.log(make_emoji(var_class_name, url));
34 |             });
35 |         }
36 |     });
37 | }
38 | 


--------------------------------------------------------------------------------
/scripts/options:
--------------------------------------------------------------------------------
1 | #!/bin/bash
2 | # print missing options in documentation
3 | grep -oE 'settings\.[^;, ().?:]+' js/jquery.terminal-src.js | sort | uniq | while read setting; do grep `echo $setting | sed -e 's/settings.//'` ../www/api_reference.php.in > /dev/null || echo $setting; done
4 | 


--------------------------------------------------------------------------------
/scripts/update-contributors-package.js:
--------------------------------------------------------------------------------
 1 | #!/usr/bin/env node
 2 | 
 3 | var fs = require('fs');
 4 | var path = require('path');
 5 | var lily = require('@jcubic/lily');
 6 | var argv = lily(process.argv.slice(2));
 7 | 
 8 | function usage(error) {
 9 |     if (error) {
10 |         console.error(error);
11 |     }
12 |     console.log('usage: \n' + path.basename(process.argv[1]) +
13 |                 ' -f <package-json-file>' +
14 |                 ' -j <Contributor JSON file>');
15 | }
16 | 
17 | if (argv.f && argv.j) {
18 |     fs.readFile(argv.j, function(err, data) {
19 |         if (err) {
20 |             return usage(err);
21 |         }
22 |         var contributors = JSON.parse(data.toString());
23 |         fs.readFile(argv.f, function(err, data) {
24 |             if (err) {
25 |                 return usage(err);
26 |             }
27 |             var _package = JSON.parse(data.toString());
28 |             _package.contributors = contributors.map(function(user) {
29 |                 const { name, url } = user;
30 |                 return { name, url };
31 |             });
32 |             fs.writeFile(argv.f, JSON.stringify(_package, null, 2) + '\n', 'utf8', function(err) { 
33 |                 if (err) {
34 |                     return usage(err);
35 |                 }
36 |             });
37 |         });
38 |     });
39 | } else {
40 |     usage();
41 | }
42 | 


--------------------------------------------------------------------------------
/scripts/update-contributors-readme:
--------------------------------------------------------------------------------
 1 | #!/bin/bash
 2 | 
 3 | repo=$1
 4 | input=$2
 5 | marker=$3
 6 | file=$4
 7 | 
 8 | 
 9 | CONTRIBUTORS=`./scripts/contributors.mjs -r $repo -f $input -m | tr '\n' '☺'`
10 | if echo "$CONTRIBUTORS" | grep ERROR > /dev/null; then
11 |     echo "$CONTRIBUTORS" | tr '☺' '\n'
12 | else
13 |     cat $file | sed -n "/${marker}-START/{p;:a;N;/${marker}-END/!ba;s%.*\n%${CONTRIBUTORS}%};p" | tr '☺' '\n' > README.tmp
14 |     cp README.tmp $file
15 |     rm README.tmp
16 | fi
17 | 


--------------------------------------------------------------------------------
/scripts/version:
--------------------------------------------------------------------------------
 1 | #!/bin/bash
 2 | 
 3 | # Display current version or update version if used with version as argument
 4 | 
 5 | cd `git rev-parse --show-toplevel`
 6 | 
 7 | VERSION=`grep VERSION= Makefile | sed -e 's/VERSION=\(.*\)/\1/'`
 8 | if [ -z "$1" ]; then
 9 |     echo $VERSION
10 | elif [ "$1" != "$VERSION" ]; then
11 |     sed -e "s/{{VERSION}}/"$1"/" templates/Makefile.in > Makefile
12 |     #git mv css/jquery.terminal-${VERSION}.css css/jquery.terminal-${1}.css
13 |     #git mv css/jquery.terminal-${VERSION}.min.css css/jquery.terminal-${1}.min.css
14 |     #git mv js/jquery.terminal-${VERSION}.js js/jquery.terminal-${1}.js
15 |     #git mv js/jquery.terminal-${VERSION}.min.js js/jquery.terminal-${1}.min.js
16 |     rm .${VERSION}
17 | fi
18 | 


--------------------------------------------------------------------------------
/templates/Makefile.in:
--------------------------------------------------------------------------------
  1 | VERSION={{VERSION}}
  2 | SED=sed
  3 | CD=cd
  4 | NPM=npm
  5 | CP=cp
  6 | ECHO=echo
  7 | RM=rm
  8 | CAT=cat
  9 | DATE=`date -uR`
 10 | GIT=LC_ALL=C git
 11 | BRANCH=`git branch | grep '^*' | sed 's/* //'`
 12 | BRANCH_SAFE=`git branch | grep '^*' | sed 's/* //' | sed 's/\//\\\\\//g'`
 13 | UGLIFY=../node_modules/.bin/uglifyjs
 14 | JSONLINT=./node_modules/.bin/jsonlint
 15 | JEST=./node_modules/.bin/jest
 16 | CSSNANO=./scripts/cssnano.js
 17 | ESLINT=./node_modules/.bin/eslint
 18 | TSC=./node_modules/.bin/tsc
 19 | SPEC_CHECKSUM=`md5sum __tests__/terminal.spec.js | cut -d' ' -f 1`
 20 | COMMIT=`git log -n 1 | grep '^commit' | sed 's/commit //'`
 21 | TOKEN=cat .github.token | tr -d '\n'
 22 | URL=`git config --get remote.origin.url`
 23 | skip_re="[xfi]it\\(|[fdx]describe\\("
 24 | UPDATE_CONTRIBUTORS=0
 25 | 
 26 | .PHONY: coverage test coveralls lint.src eslint skipped_tests jsonlint publish lint tscheck publish-guthub emoji
 27 | 
 28 | ALL: Makefile .$(VERSION) terminal.jquery.json bower.json package.json assets/ascii_art.svg js/jquery.terminal.js js/jquery.terminal.min.js js/jquery.terminal.min.js.map  css/jquery.terminal.min.css css/jquery.terminal.min.css.map css/jquery.terminal.css README.md import.html js/terminal.widget.js css/emoji.css update-contributors
 29 | 
 30 | bower.json: templates/bower.in .$(VERSION)
 31 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/bower.in > bower.json
 32 | 
 33 | package.json: .$(VERSION)
 34 | 	$(SED) -i 's/"version": "[^"]\+"/"version": "$(VERSION)"/' package.json
 35 | 
 36 | js/jquery.terminal.js: js/jquery.terminal-src.js .$(VERSION)
 37 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e "s/{{DATE}}/$(DATE)/g" js/jquery.terminal-src.js > js/jquery.terminal.js || $(SED) -e "s/{{VER}}/$(VERSION)/g" -e "s/{{DATE}}/$(DATE)/g" js/jquery.terminal-src.js > js/jquery.terminal.js
 38 | 
 39 | js/jquery.terminal.min.js js/jquery.terminal.min.js.map: js/jquery.terminal.js
 40 | 	$(CD) js && $(UGLIFY) -o jquery.terminal.min.js --comments --mangle --source-map "includeSources,url='jquery.terminal.min.js.map'" -- jquery.terminal.js && $(ECHO) >> jquery.terminal.min.js
 41 | 
 42 | css/jquery.terminal.css: css/jquery.terminal-src.css .$(VERSION)
 43 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e "s/{{DATE}}/$(DATE)/g" css/jquery.terminal-src.css > css/jquery.terminal.css || $(SED) -e "s/{{VER}}/$(VERSION)/g" -e "s/{{DATE}}/$(DATE)/g" css/jquery.terminal-src.css > css/jquery.terminal.css
 44 | 
 45 | css/jquery.terminal.min.css css/jquery.terminal.min.css.map: css/jquery.terminal.css
 46 | 	$(CSSNANO) css/jquery.terminal.css css/jquery.terminal.min.css
 47 | 
 48 | README.md: templates/README.in .$(VERSION) __tests__/terminal.spec.js
 49 | 	$(GIT) branch | grep '* devel' > /dev/null && $(SED) -e "s/{{VER}}/DEV/g" -e \
 50 | 	"s/{{BRANCH}}/$(BRANCH_SAFE)/g" -e "s/{{CHECKSUM}}/$(SPEC_CHECKSUM)/" \
 51 | 	-e "s/{{COMMIT}}/$(COMMIT)/g" < templates/README.in > README.md || $(SED) -e \
 52 | 	"s/{{VER}}/$(VERSION)/g" -e "s/{{BRANCH}}/$(BRANCH_SAFE)/g" -e \
 53 | 	"s/{{CHECKSUM}}/$(SPEC_CHECKSUM)/" -e "s/{{COMMIT}}/$(COMMIT)/g" < templates/README.in > README.md
 54 | 
 55 | .$(VERSION): Makefile
 56 | 	touch .$(VERSION)
 57 | 
 58 | Makefile: templates/Makefile.in
 59 | 	$(SED) -e "s/{{VER""SION}}/"$(VERSION)"/" templates/Makefile.in > Makefile
 60 | 
 61 | import.html: templates/import.in
 62 | 	$(SED) -e "s/{{BRANCH}}/$(BRANCH_SAFE)/g" templates/import.in > import.html
 63 | 
 64 | js/terminal.widget.js: js/terminal.widget.in .$(VERSION)
 65 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" js/terminal.widget.in > js/terminal.widget.js
 66 | 
 67 | terminal.jquery.json: manifest .$(VERSION)
 68 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" manifest > terminal.jquery.json
 69 | 
 70 | css/emoji.css: ./scripts/mkemoji .$(VERSION)
 71 | 	./scripts/mkemoji $(VERSION) > css/emoji.css
 72 | 
 73 | emoji:
 74 | 	./scripts/mkemoji $(VERSION) > css/emoji.css
 75 | 
 76 | test:
 77 | 	$(JEST) --coverage
 78 | 
 79 | test-watch:
 80 | 	$(JEST) --coverage --watch
 81 | 
 82 | assets/ascii_art.svg: templates/ascii_art.svg .$(VERSION)
 83 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/ascii_art.svg > assets/ascii_art.svg
 84 | 
 85 | test-accept-snapshots:
 86 | 	$(JEST) --coverage --updateSnapshot
 87 | 
 88 | coveralls:
 89 | 	$(CAT) ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
 90 | 
 91 | lint.src:
 92 | 	$(ESLINT) js/jquery.terminal-src.js
 93 | 
 94 | eslint:
 95 | 	$(ESLINT) js/jquery.terminal-src.js
 96 | 	$(ESLINT) js/dterm.js
 97 | 	$(ESLINT) js/xml_formatting.js
 98 | 	$(ESLINT) js/unix_formatting.js
 99 | 	$(ESLINT) js/prism.js
100 | 	$(ESLINT) js/less.js
101 | 	$(ESLINT) js/emoji.js
102 | 	$(ESLINT) js/pipe.js
103 | 	$(ESLINT) js/autocomplete_menu.js
104 | 	$(ESLINT) js/echo_newline.js
105 | 
106 | skipped_tests:
107 | 	@! grep -E $(skip_re) __tests__/terminal.spec.js
108 | 
109 | tscheck:
110 | 	$(TSC) --noEmit --project tsconfig.json
111 | 
112 | jsonlint: package.json bower.json
113 | 	$(JSONLINT) -cq package.json
114 | 	$(JSONLINT) -cq bower.json
115 | 
116 | publish:
117 | 	test -e npm && ( $(CD) npm && $(GIT) pull ) || true
118 | 	test -e npm || $(GIT) clone $(URL) --depth 1 npm
119 | 	$(CD) npm && $(NPM) publish && $(CD) .. && $(RM) -rf npm
120 | 
121 | publish-guthub: .github.token
122 | 	$(SED) "s/{{TOKEN}}/`$(TOKEN)`/" templates/npmrc.tmpl > .npmrc
123 | 	$(SED) -e "s/{{VER}}/$(VERSION)/g" templates/package.git > package.json
124 | 
125 | contributors.json:
126 | 	./scripts/contributors.mjs -u jcubic -r jquery.terminal > contributors.json
127 | 
128 | contributors-www.json:
129 | 	./scripts/contributors.mjs -u jcubic -r jquery.terminal-www > contributors-www.json
130 | 
131 | contributors: contributors-www.json contributors.json
132 | 	./scripts/update-contributors-readme jquery.terminal contributors.json "CONTRIBUTORS" templates/README.in
133 | 	./scripts/update-contributors-readme jquery.terminal-www contributors-www.json "CONTRIBUTORS-WWW" templates/README.in
134 | 	./scripts/update-contributors-readme jquery.terminal-www contributors-www.json "CONTRIBUTORS" www/README.md
135 | 	./scripts/update-contributors-package.js -j contributors.json -f package.json
136 | 	./scripts/update-contributors-package.js -j contributors.json -f templates/package.git
137 | 
138 | lint: eslint jsonlint
139 | 
140 | checkout:
141 | 	@$(GIT) status | sed "1,/not staged/d" | grep modified | sed "s/.*modified:\s*\(.*\)/\1/" | tr '\n' ' ' | sed -e "s/.*/git checkout &; touch &/" | bash
142 | 
143 | 
144 | update-contributors:
145 | 	@if [ $(UPDATE_CONTRIBUTORS) = 1 ]; then\
146 | 		echo -e "\x1b[31mUpdate Contributors\x1b[m";\
147 | 		if [ $(BRANCH) = 'master' ]; then \
148 | 			false;\
149 | 		fi;\
150 | 	fi
151 | 


--------------------------------------------------------------------------------
/templates/ascii_art.svg:
--------------------------------------------------------------------------------
 1 | <?xml version="1.0" encoding="UTF-8" standalone="no"?>
 2 | <!-- Created with Inkscape (http://www.inkscape.org/) -->
 3 | <svg width="198.4375mm" height="84.666664mm" viewBox="0 0 198.4375 84.666662" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 4 |   <defs id="defs2">
 5 |     <rect x="32.557903" y="83.587921" width="1097.2651" height="227.4912" id="rect2498" />
 6 |     <rect x="32.557903" y="83.587921" width="1097.2651" height="227.4912" id="rect2498-3" />
 7 |   </defs>
 8 |   <g id="layer1" transform="translate(-3.29423,-19.593231)">
 9 |     <rect style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.127353;-inkscape-stroke:none;stop-color:#000000" id="rect9028" width="198.4375" height="84.666664" x="3.29423" y="19.593231" />
10 |     <g id="g22127" transform="translate(1.8303341,-0.31156967)">
11 |       <text xml:space="preserve" transform="matrix(0.15391996,0,0,0.15391996,14.113411,31.8984)" id="text2496" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:27.5035px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect2498);fill:#b3b3b3"><tspan x="32.558594" y="107.92204" id="tspan22157">      _______                 ________                        __
12 | </tspan><tspan x="32.558594" y="142.30142" id="tspan22159">     / / _  /_ ____________ _/__  ___/______________  _____  / /
13 | </tspan><tspan x="32.558594" y="176.6808" id="tspan22161"> __ / / // / // / _  / _/ // / / / _  / _/     / /  \/ / _ \/ /
14 | </tspan><tspan x="32.558594" y="211.06018" id="tspan22163">/  / / // / // / ___/ // // / / / ___/ // / / / / /\  / // / /__
15 | </tspan><tspan x="32.558594" y="245.43956" id="tspan22165">\___/____ \\__/____/_/ \__ / /_/____/_//_/_/_/_/_/  \/\__\_\___/
16 | </tspan><tspan x="32.558594" y="279.81894" id="tspan22167">         \/          /____/                      </tspan></text>
17 |       <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-feature-settings:normal;font-variation-settings:normal;text-indent:0;text-align:end;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:end;white-space:pre;opacity:1;vector-effect:none;fill:#b3b3b3;fill-opacity:1;stroke-width:0.15392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000;stop-opacity:1" x="182.60426" y="75.276077" id="text12526"><tspan id="tspan12524" style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:monospace;-inkscape-font-specification:'monospace Bold';font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-feature-settings:normal;font-variation-settings:normal;text-indent:0;text-align:end;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:end;white-space:pre;vector-effect:none;fill:#b3b3b3;fill-opacity:1;stroke-width:0.15392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;-inkscape-stroke:none;stop-color:#000000;stop-opacity:1" x="182.60426" y="75.276077">version {{VER}}</tspan></text>
18 |     </g>
19 |   </g>
20 | </svg>
21 | 


--------------------------------------------------------------------------------
/templates/bower.in:
--------------------------------------------------------------------------------
 1 | {
 2 |     "name": "jquery.terminal",
 3 |     "version": "{{VER}}",
 4 |     "main": [
 5 |         "js/jquery.terminal.min.js",
 6 |         "js/jquery.mousewheel-min.js",
 7 |         "css/jquery.terminal.min.css"
 8 |     ],
 9 |     "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
10 |     "license": "MIT",
11 |     "ignore": [
12 |         "examples",
13 |         "README.in",
14 |         "bower.in",
15 |         "Makefile",
16 |         "manifest",
17 |         ".gitignore",
18 |         ".npmignore",
19 |         "package.in",
20 |         "package.json",
21 |         "bin",
22 |         "version"
23 |     ],
24 |     "dependencies": {
25 |         "jquery": "~3"
26 |     },
27 |     "devDependencies": {
28 |         "keyboardevent-key-polyfill": "^1.0.2"
29 |     }
30 | }
31 | 


--------------------------------------------------------------------------------
/templates/import.in:
--------------------------------------------------------------------------------
 1 | <!DOCTYPE html>
 2 | <html>
 3 | <head>
 4 | <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 5 | <script src="https://cdn.rawgit.com/jcubic/jquery.terminal/{{BRANCH}}/js/jquery.terminal.min.js"></script>
 6 | <style>
 7 | body {
 8 |     min-height: 100vh;
 9 |     margin: 0;
10 | }
11 | </style>
12 | <script>
13 | (function() {
14 |     var url = 'https://cdn.rawgit.com/jcubic/jquery.terminal/{{BRANCH}}/css/jquery.terminal.min.css';
15 |     var $ = jQuery.noConflict();
16 |     $('<link href="' + url + '" rel="stylesheet"/>').appendTo('head');
17 |     var importDoc = document.currentScript.ownerDocument;
18 |     var style = importDoc.querySelector('style');
19 |     document.head.appendChild(style);
20 |     window.terminal = function(selector) {
21 |         var args = [].slice.call(arguments, 1);
22 |         return $.fn.terminal.apply($(selector), args);
23 |     };
24 | })();
25 | </script>
26 | </head>
27 | 


--------------------------------------------------------------------------------
/templates/npmrc.tmpl:
--------------------------------------------------------------------------------
1 | //npm.pkg.github.com/:_authToken={{TOKEN}}
2 | 
3 | @jcubic:registry=https://npm.pkg.github.com/
4 | 
5 | init.author.name=Jakub T. Jankiewicz
6 | init.author.email=jcubic@onet.pl
7 | init.author.url=https://jcubic.pl/jakub-jankiewicz/


--------------------------------------------------------------------------------
/templates/package.git:
--------------------------------------------------------------------------------
  1 | {
  2 |   "name": "@jcubic/jquery.terminal",
  3 |   "version": "{{VER}}",
  4 |   "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
  5 |   "main": "js/jquery.terminal.js",
  6 |   "typings": "js/jquery.terminal.d.ts",
  7 |   "repository": {
  8 |     "type": "git",
  9 |     "url": "https://github.com/jcubic/jquery.terminal.git"
 10 |   },
 11 |   "keywords": [
 12 |     "terminal",
 13 |     "emulator",
 14 |     "prompt",
 15 |     "console",
 16 |     "keyboard",
 17 |     "type",
 18 |     "rpc",
 19 |     "input",
 20 |     "ui"
 21 |   ],
 22 |   "scripts": {
 23 |     "test": "make test"
 24 |   },
 25 |   "author": {
 26 |     "name": "Jakub Jankiewicz",
 27 |     "email": "jcubic@onet.pl",
 28 |     "url": "https://jcubic.pl/me"
 29 |   },
 30 |   "contributors": [
 31 |     {
 32 |       "name": "Jakub T. Jankiewicz",
 33 |       "url": "https://jakub.jankiewicz.org/"
 34 |     },
 35 |     {
 36 |       "name": "Riccardo Mura",
 37 |       "url": "https://github.com/cowuake"
 38 |     },
 39 |     {
 40 |       "name": "Jean-Michel Carrel",
 41 |       "url": "https://github.com/Neyxo"
 42 |     },
 43 |     {
 44 |       "name": "kid1412z",
 45 |       "url": "https://github.com/kid1412z"
 46 |     },
 47 |     {
 48 |       "name": "Marcel Link",
 49 |       "url": "https://github.com/ml1nk"
 50 |     },
 51 |     {
 52 |       "name": "Sébastien Warin",
 53 |       "url": "http://sebastien.warin.fr"
 54 |     },
 55 |     {
 56 |       "name": "Christopher John Ryan",
 57 |       "url": "https://github.com/ChrisJohnRyan"
 58 |     },
 59 |     {
 60 |       "name": "Johan",
 61 |       "url": "https://github.com/johanjordaan"
 62 |     },
 63 |     {
 64 |       "name": "Snyk bot",
 65 |       "url": "https://snyk.io"
 66 |     },
 67 |     {
 68 |       "name": "Florian Schäfer",
 69 |       "url": "https://github.com/fschaefer"
 70 |     },
 71 |     {
 72 |       "name": "Tomasz Ducin",
 73 |       "url": "ducin.dev"
 74 |     },
 75 |     {
 76 |       "name": "Qijia Liu",
 77 |       "url": "https://github.com/eagleoflqj"
 78 |     },
 79 |     {
 80 |       "name": "Ishan Ratnapala",
 81 |       "url": "https://github.com/IshanRatnapala"
 82 |     },
 83 |     {
 84 |       "name": "David Refoua",
 85 |       "url": "http://www.refoua.me"
 86 |     },
 87 |     {
 88 |       "name": "Antoine",
 89 |       "url": "https://github.com/antoineol"
 90 |     },
 91 |     {
 92 |       "name": "youurayy",
 93 |       "url": "https://github.com/youurayy"
 94 |     },
 95 |     {
 96 |       "name": "Steve Kirkegard",
 97 |       "url": "https://www.linkedin.com/in/steve-kirkegard"
 98 |     },
 99 |     {
100 |       "name": "stereobooster",
101 |       "url": "https://stereobooster.com"
102 |     },
103 |     {
104 |       "name": "Dev Kumar Gupta",
105 |       "url": "https://github.com/mrkaiser"
106 |     },
107 |     {
108 |       "name": "dependabot[bot]",
109 |       "url": "https://github.com/dependabot[bot]"
110 |     },
111 |     {
112 |       "name": "coderaiser",
113 |       "url": "http://coderaiser.github.io"
114 |     },
115 |     {
116 |       "name": "Yutong Luo",
117 |       "url": "https://yutongluo.com"
118 |     },
119 |     {
120 |       "name": "Steve Phillips",
121 |       "url": "https://tryingtobeawesome.com/"
122 |     },
123 |     {
124 |       "name": "Robert W",
125 |       "url": "https://github.com/rbw"
126 |     },
127 |     {
128 |       "name": "exit1",
129 |       "url": "https://github.com/exit1"
130 |     },
131 |     {
132 |       "name": "Mateusz Paprocki",
133 |       "url": "https://github.com/mattpap"
134 |     },
135 |     {
136 |       "name": "Martin v. Löwis",
137 |       "url": "https://github.com/loewis"
138 |     },
139 |     {
140 |       "name": "KiddoV",
141 |       "url": "https://github.com/KiddoV"
142 |     },
143 |     {
144 |       "name": "Jon Steinich",
145 |       "url": "https://github.com/jsteinich"
146 |     },
147 |     {
148 |       "name": "John Jarvis",
149 |       "url": "http://www.jarv.org"
150 |     },
151 |     {
152 |       "name": "Jarry Shaw",
153 |       "url": "https://jarryshaw.me"
154 |     },
155 |     {
156 |       "name": "jpaye",
157 |       "url": "https://github.com/jpaye"
158 |     },
159 |     {
160 |       "name": "Hraban",
161 |       "url": "https://br0g.0brg.net"
162 |     },
163 |     {
164 |       "name": "Hasan",
165 |       "url": "juanpota.to"
166 |     },
167 |     {
168 |       "name": "finlob",
169 |       "url": "https://github.com/finlob"
170 |     },
171 |     {
172 |       "name": "Ezinne Anne Emilia",
173 |       "url": "linktr.ee/ezinneanne"
174 |     },
175 |     {
176 |       "name": "Anton Vasilev",
177 |       "url": "https://github.com/avdes"
178 |     },
179 |     {
180 |       "name": "Abdelrahman Omran",
181 |       "url": "https://omranic.com"
182 |     },
183 |     {
184 |       "name": "7twin",
185 |       "url": "https://github.com/7twin"
186 |     }
187 |   ],
188 |   "license": "MIT",
189 |   "bugs": {
190 |     "url": "https://github.com/jcubic/jquery.terminal/issues"
191 |   },
192 |   "homepage": "https://terminal.jcubic.pl",
193 |   "dependencies": {
194 |     "@types/jquery": "3.3.29",
195 |     "jquery": "~3",
196 |     "prismjs": "^1.16.0",
197 |     "wcwidth": "^1.0.1"
198 |   },
199 |   "devDependencies": {
200 |     "coveralls": "^3.0.3",
201 |     "cssnano": "^4.1.10",
202 |     "emoji-datasource-twitter": "^4.1.0",
203 |     "eslint": "^5.16.0",
204 |     "jest": "^24.8.0",
205 |     "jsonlint": "^1.6.3",
206 |     "typescript": "~3.1.6",
207 |     "uglify-js": "^3.5.12"
208 |   }
209 | }
210 | 


--------------------------------------------------------------------------------
/terminal.jquery.json:
--------------------------------------------------------------------------------
 1 | {
 2 |     "name": "terminal",
 3 |     "title": "jQuery Terminal Emulator",
 4 |     "description": "jQuery Terminal Emulator is a plugin for creating command line interpreters in your applications.",
 5 |     "version": "2.45.2",
 6 |     "keywords": [
 7 |         "terminal", "emulator", "prompt", "console", "keyboard", "type", "rpc", "input", "ui"
 8 |     ],
 9 |     "author": {
10 |         "name": "Jakub Jankiewicz",
11 |         "email": "jcubic@onet.pl",
12 |         "url": "http://jcubic.pl/me"
13 |     },
14 |     "licenses": [{
15 |         "type": "MIT",
16 |         "url": "http://opensource.org/licenses/MIT"
17 |     }],
18 |     "homepage": "http://terminal.jcubic.pl/",
19 |     "bugs": "https://github.com/jcubic/jquery.terminal/issues",
20 |     "demo": "http://terminal.jcubic.pl/#demo",
21 |     "docs": "http://terminal.jcubic.pl/api_reference.php",
22 |     "download": "https://github.com/jcubic/jquery.terminal/releases",
23 |     "dependencies": {
24 |         "jquery": ">=1.5"
25 |     }
26 | }
27 | 


--------------------------------------------------------------------------------
/tsconfig.json:
--------------------------------------------------------------------------------
 1 | {
 2 |     "compilerOptions": {
 3 |         "target": "es6",
 4 |         "module": "commonjs",
 5 |         "lib": ["es2015", "ES2018.Promise", "dom"],
 6 |         "noImplicitThis": true
 7 |     },
 8 |     "exclude": ["npm"]
 9 | }
10 | 


--------------------------------------------------------------------------------
